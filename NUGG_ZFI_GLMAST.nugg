<?xml version="1.0" encoding="utf-8"?>
<nugget name="ZFI_GLMAST">
 <CLAS CLSNAME="ZCL_SWF_GLMAST" VERSION="1" LANGU="E" DESCRIPT="Workflow Utility Class for GL &amp; its associated Master Data" CATEGORY="00" EXPOSURE="0" STATE="1" RELEASE="0" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" RSTAT="K" CLSBCCAT="00" MSG_ID="ZFI_GLMAST" WITH_UNIT_TESTS="X" DURATION_TYPE="0 " RISK_LEVEL="0 " ZSAPLINK_PLUGIN_MAJOR_VERSION="0 " ZSAPLINK_PLUGIN_MINOR_VERSION="1 " ZSAPLINK_PLUGIN_BUILD_VERSION="0 " ZSAPLINK_PLUGIN_INFO1="ZSAPLINK_CLASS is part of the main ZSAPLINK project --&gt; This plugin found there instead of ZSAPLINK_PLUGINS projects" ZSAPLINK_PLUGIN_INFO2="SAPLINK homepage: https://www.assembla.com/spaces/saplink/wiki" ZSAPLINK_PLUGIN_INFO3="Download from https://www.assembla.com/code/saplink/subversion/nodes" ZSAPLINK_PLUGIN_INFO4="and navigate to:  trunk -&gt; core -&gt; ZSAPLINK -&gt; CLAS -&gt; ZSAPLINK_CLASS.slnk">
  <implementing CLSNAME="ZCL_SWF_GLMAST" REFCLSNAME="IF_WORKFLOW" VERSION="1" EXPOSURE="2" STATE="1" RELTYPE="1" EDITORDER="1 "/>
  <localImplementation>*&quot;* use this source file for the definition and implementation of
*&quot;* local helper classes, interface definitions and type
*&quot;* declarations</localImplementation>
  <localTypes>*&quot;* use this source file for any type of declarations (class
*&quot;* definitions, interfaces or type declarations) you need for
*&quot;* components in the private section
CONSTANTS c_default_plvar type plvar VALUE `01`.</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class

INCLUDE &lt;cntn02&gt;.   &quot;contains the BOR macros
INCLUDE &lt;cntn03&gt;.   &quot;contains the local types

DEFINE _mac_raise_multi.
  DELETE ADJACENT DUPLICATES FROM &amp;1 COMPARING ALL FIELDS.
  &amp;1 = zcl_com_bapireturn_services=&gt;add_errors_to_bapiret( &amp;1 ).
  LOOP AT &amp;1 INTO return.
   MESSAGE ID return-id TYPE return-type NUMBER return-number
        WITH  return-message_v1 return-message_v2 return-message_v3 return-message_v4
        INTO  dummy.
   AT FIRST.
    me-&gt;o_exception = NEW #( ).
   ENDAT.
   me-&gt;o_exception-&gt;add_sy_message( ).
   AT LAST.
    RAISE RESUMABLE EXCEPTION me-&gt;o_exception.
   ENDAT.
  ENDLOOP.
END-OF-DEFINITION.</localMacros>
  <localTestClasses>*&quot;* use this source file for your ABAP unit test classes</localTestClasses>
  <attribute CLSNAME="ZCL_SWF_GLMAST" CMPNAME="API_MODE" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="7 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GLACCOUNT_ACTION" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_SWF_GLMAST" CMPNAME="APPRV_LVL" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="8 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="INT4" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_SWF_GLMAST" CMPNAME="DUMMY" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="9 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="C" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_SWF_GLMAST" CMPNAME="KEY" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="4 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QMNUM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_SWF_GLMAST" CMPNAME="LO_SWF_GLMAST" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_SWF_GLMAST" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_SWF_GLMAST" CMPNAME="LPOR" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="SIBFLPOR" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_SWF_GLMAST" CMPNAME="LT_SPECIAL" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="5 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_SWF_GLMAST" CMPNAME="O_EXCEPTION" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="11 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCX_FI_GENERAL" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_SWF_GLMAST" CMPNAME="PLVAR" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="6 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="PLVAR" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_SWF_GLMAST" CMPNAME="RETURN" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="10 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BAPIRET2" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_SWF_GLMAST" CMPNAME="SCENARIO" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRDSCENARIO" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <interfaceMethod CLSNAME="ZCL_SWF_GLMAST" CPDNAME="BI_OBJECT~DEFAULT_ATTRIBUTE_VALUE">
   <source>METHOD bi_object~default_attribute_value.

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_SWF_GLMAST" CPDNAME="BI_OBJECT~EXECUTE_DEFAULT_METHOD">
   <source>METHOD bi_object~execute_default_method.

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_SWF_GLMAST" CPDNAME="BI_OBJECT~RELEASE">
   <source>METHOD bi_object~release.

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_SWF_GLMAST" CPDNAME="BI_PERSISTENT~FIND_BY_LPOR">
   <source>METHOD bi_persistent~find_by_lpor.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   October 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    TRY.
        result = CAST zcl_swf_glmast( zcl_swf_glmast=&gt;get_instance( CONV qmnum( lpor-instid ) ) ).
      CATCH cx_bo_instance_not_found.
    ENDTRY.

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_SWF_GLMAST" CPDNAME="BI_PERSISTENT~LPOR">
   <source>METHOD bi_persistent~lpor.
    result = me-&gt;lpor.
  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_SWF_GLMAST" CPDNAME="BI_PERSISTENT~REFRESH">
   <source>METHOD bi_persistent~refresh.

  ENDMETHOD.</source>
  </interfaceMethod>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" DESCRIPT="Object Constructor" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="2" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="CONSTRUCTOR" SCONAME="IV_NOTIFICATION" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="QMNUM"/>
   <exception CLSNAME="ZCL_SWF_GLMAST" CMPNAME="CONSTRUCTOR" SCONAME="CX_BO_INSTANCE_NOT_FOUND" VERSION="1" LANGU="E" MTDTYPE="2" EDITORDER="1 "/>
   <source>METHOD constructor.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   October 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    me-&gt;set_plvar( ).
    me-&gt;key  = iv_notification.
    me-&gt;lpor = VALUE #( catid  = |CL|
                        typeid = |ZCL_SWF_GLMAST|
                        instid = iv_notification
                      ).
    me-&gt;lt_special = me-&gt;get_form_data( ).
    me-&gt;set_api_mode( SWITCH #( me-&gt;get_value( |REQUEST_TYPE| )
                        WHEN 1              &quot;1 = Create GL Account
                        THEN zif_fi_global_constants=&gt;co_action-insert
                        ELSE zif_fi_global_constants=&gt;co_action-update
                              )
                    ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="CREATE" VERSION="1" LANGU="E" DESCRIPT="Factory Create" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="CREATE" SCONAME="IV_NOTIFICATION" VERSION="1" LANGU="E" DESCRIPT="Key: Notification Number" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="QMNUM"/>
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="CREATE" SCONAME="RO_RESULT" VERSION="1" LANGU="E" DESCRIPT="Returns Instance of Object ZCL_SWF_GLMAST" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_SWF_GLMAST"/>
   <exception CLSNAME="ZCL_SWF_GLMAST" CMPNAME="CREATE" SCONAME="CX_BO_INSTANCE_NOT_FOUND" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD create.
    ro_result = NEW zcl_swf_glmast( iv_notification ).
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_API_MODE" VERSION="1" LANGU="E" DESCRIPT="Get API Mode" EXPOSURE="0" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_API_MODE" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_ACTION"/>
   <source>METHOD get_api_mode.
    r_result = me-&gt;api_mode.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_APPROVERS" VERSION="1" LANGU="E" DESCRIPT="Get Approvers for GL Master Data Maintenance" EXPOSURE="2" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_APPROVERS" SCONAME="IV_BUKRS" VERSION="1" LANGU="E" DESCRIPT="Company Code (Default 1020)" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BUKRS" PARVALUE="ZIF_FI_GLOBAL_CONSTANTS=&gt;COMP_CODE_TAFE"/>
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_APPROVERS" SCONAME="IV_LEVEL" VERSION="1" LANGU="E" DESCRIPT="Approval Level" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="INT4"/>
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_APPROVERS" SCONAME="RT_RESULTS" VERSION="1" LANGU="E" DESCRIPT="List of Approver Agents" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="TSWHACTOR"/>
   <exception CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_APPROVERS" SCONAME="ZCX_SWF_NO_AGENT_FOUND" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD get_approvers.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   October 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA lt_actor_container TYPE swconttab.

    me-&gt;set_apprv_lvl( iv_level ).

    swc_clear_container lt_actor_container.
    swc_set_element lt_actor_container &apos;Company_Code&apos; iv_bukrs.
    swc_set_element lt_actor_container &apos;Apprvr_Lvl&apos;   iv_level.

* read agents as customised in Responsibility Rule &apos;AC91000041&apos;
    CALL FUNCTION &apos;RH_GET_ACTORS&apos;
      EXPORTING
        act_object                = &apos;AC91000041&apos;
        search_date               = sy-datum
      TABLES
        actor_container           = lt_actor_container
        actor_tab                 = rt_results
      EXCEPTIONS
        no_active_plvar           = 1
        no_actor_found            = 2
        exception_of_role_raised  = 3
        no_valid_agent_determined = 4
        no_container              = 5
        OTHERS                    = 6.

* ignore vacant positions
    LOOP AT rt_results ASSIGNING FIELD-SYMBOL(&lt;result&gt;).
      CHECK zcl_swf_common=&gt;is_position_vacant(
              iv_objid = CONV #( &lt;result&gt;-objid )
              iv_plvar = me-&gt;plvar
            ).
      DELETE rt_results.
    ENDLOOP.

    CHECK rt_results IS INITIAL.

    RAISE EXCEPTION TYPE zcx_swf_no_agent_found
      EXPORTING
        messages = VALUE #( ( type        = zif_fi_global_constants=&gt;error
                              id          = |ZFI_GLMAST|
                              number      = 064
                              message_v1  = CONV char02( iv_level )
                              message_v2  = |AC91000041| )
                          ).


  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_APPRV_LVL" VERSION="1" LANGU="E" DESCRIPT="Get Approver Level" EXPOSURE="2" STATE="1" EDITORDER="9 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_APPRV_LVL" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="INT4"/>
   <source>METHOD get_apprv_lvl.
    r_result = me-&gt;apprv_lvl.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_DESCRIPTION" VERSION="1" LANGU="E" DESCRIPT="Get GL Account Description for WF Binding" EXPOSURE="2" STATE="1" EDITORDER="8 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_DESCRIPTION" SCONAME="R_RESULT" VERSION="1" LANGU="E" DESCRIPT="GL Account Text" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRDFIELDVALUE"/>
   <source>METHOD get_description.

    r_result = SWITCH #( me-&gt;get_value( |REQUEST_TYPE| )
                WHEN 1
                THEN me-&gt;get_value( |NEW_PROP_DESC| )
                ELSE me-&gt;read_gltext( me-&gt;get_glaccount( ) )
                       ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_EMAIL_LIST" VERSION="1" LANGU="E" DESCRIPT="Get list of Email addresses from Customising" EXPOSURE="2" STATE="1" EDITORDER="12 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_EMAIL_LIST" SCONAME="I_ON_SUCCESS" VERSION="1" LANGU="E" DESCRIPT="True = Success list; False = Error list" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D" PARVALUE="ABAP_TRUE"/>
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_EMAIL_LIST" SCONAME="RT_RESULT" VERSION="1" LANGU="E" DESCRIPT="Table of Email Addresses from Customising" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="SAFM_APT_PP_EMAIL"/>
   <exception CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_EMAIL_LIST" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD get_email_list.

    DATA(var) = SWITCH #( i_on_success
                 WHEN abap_true
                 THEN `ZFI_GLFORM_SUCCESS_EMAIL`
                 ELSE `ZFI_GLFORM_ERROR_EMAIL`
               ).

    rt_result = VALUE #( FOR tvarvc IN zcl_com_fi_utilities=&gt;get_tvarvc( CONV #( var ) )
                   ( CONV #( tvarvc-low ) )
                ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_FORM_DATA" VERSION="1" LANGU="E" DESCRIPT="Get ISR Form data" EXPOSURE="0" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_FORM_DATA" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <exception CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_FORM_DATA" SCONAME="CX_BO_INSTANCE_NOT_FOUND" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD get_form_data.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   October 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    CALL FUNCTION &apos;ISR_SPECIAL_DATA_GET&apos;
      EXPORTING
        notification_no               = me-&gt;key
      IMPORTING
        scenario                      = me-&gt;scenario
        special_data                  = rt_result
      EXCEPTIONS
        no_internal_service_request   = 1
        invalid_notif_number          = 2
        int_service_request_not_found = 3
        OTHERS                        = 4.

    CHECK sy-subrc &lt;&gt; 0.

    MESSAGE e063 WITH me-&gt;key INTO dummy.

    RAISE EXCEPTION TYPE cx_bo_instance_not_found
      EXPORTING
        class_name = |ZCL_SWF_GLMAST|.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_GLACCOUNT" VERSION="1" LANGU="E" DESCRIPT="Get GL Account Number" EXPOSURE="2" STATE="1" EDITORDER="10 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_GLACCOUNT" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="SAKNR"/>
   <source>METHOD get_glaccount.

    r_result = SWITCH #( me-&gt;get_value( |REQUEST_TYPE| )
                WHEN 1
                THEN me-&gt;get_value( |NEW_GLACCT| )
                WHEN 2
                THEN me-&gt;get_value( |REF_GLACCT| )
                WHEN 3
                THEN me-&gt;get_value( |REF_ACCTLOCK| )
                WHEN 4
                THEN me-&gt;get_value( |REF_ACCTDEL| )
                WHEN 5
                THEN me-&gt;get_value( |REF_GLFSV| )
                      ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_INSTANCE" VERSION="1" LANGU="E" DESCRIPT="Singleton" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_INSTANCE" SCONAME="IV_NOTIFICATION" VERSION="1" LANGU="E" DESCRIPT="Key: Notification Number" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="QMNUM"/>
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_INSTANCE" SCONAME="RO_RESULT" VERSION="1" LANGU="E" DESCRIPT="Returns Instance of Object ZCL_SWF_GLMAST" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_SWF_GLMAST"/>
   <exception CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_INSTANCE" SCONAME="CX_BO_INSTANCE_NOT_FOUND" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD get_instance.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   October 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
* Notes:  In Singleton instantiation the same Notification is expected.
*         If you require instantiation for multiple Notification objects
*         then use the FACTORY (CREATE) method in this Class.
*----------------------------------------------------------------------

    lo_swf_glmast  = COND #( WHEN lo_swf_glmast IS BOUND
                             THEN lo_swf_glmast
                             ELSE NEW zcl_swf_glmast( iv_notification )
                           ).

    ro_result = lo_swf_glmast.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_REQUEST_TEXT" VERSION="1" LANGU="E" DESCRIPT="Get Request Type Text" EXPOSURE="2" STATE="1" EDITORDER="11 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_REQUEST_TEXT" SCONAME="IV_REQ_TYPE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_REQUEST_TEXT" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STEXT"/>
   <source>METHOD get_request_text.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   October 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    r_result = SWITCH #( COND #( WHEN iv_req_type IS INITIAL
                                 THEN me-&gt;get_value( |REQUEST_TYPE| )
                                 ELSE iv_req_type
                               )
                WHEN 1 THEN |Create GL Account|
                WHEN 2 THEN |Change GL Account Description|
                WHEN 3 THEN |Lock/Unlock GL Account|
                WHEN 4 THEN |Set Deletion Flag|
                WHEN 5 THEN |Reassign GL Account|
                       ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_VALUE" VERSION="1" LANGU="E" DESCRIPT="Get value of a Characteristic for the ISR Form instance" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_VALUE" SCONAME="IV_FIELDNAME" VERSION="1" LANGU="E" DESCRIPT="Name of the Characteristic" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="QISRDFIELDNAME"/>
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_VALUE" SCONAME="R_RESULT" VERSION="1" LANGU="E" DESCRIPT="Returns value of the Characteristic" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRDFIELDVALUE"/>
   <source>METHOD get_value.
    r_result = VALUE #( me-&gt;lt_special[ fieldname = iv_fieldname ]-fieldvalue OPTIONAL ).
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_VALUE_ALL" VERSION="1" LANGU="E" DESCRIPT="Get all Characteristics for the ISR Form instance" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="GET_VALUE_ALL" SCONAME="RT_RESULTS" VERSION="1" LANGU="E" DESCRIPT="ISR Special Data" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_value_all.
    rt_results = me-&gt;lt_special.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="IS_COMPLETE" VERSION="1" LANGU="E" DESCRIPT="Is the Notification Complete?" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="IS_COMPLETE" SCONAME="R_RESULT" VERSION="1" LANGU="E" DESCRIPT="Complete = True" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <source>METHOD is_complete.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   October 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA ls_viqmel TYPE viqmel.

    CALL FUNCTION &apos;IQS4_GET_NOTIFICATION&apos;
      EXPORTING
        i_qmnum  = me-&gt;key
      IMPORTING
        e_viqmel = ls_viqmel.

    r_result = xsdbool( ls_viqmel-qmdab IS NOT INITIAL AND ls_viqmel-qmzab IS NOT INITIAL ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="IS_UPDATE_ERROR" VERSION="1" LANGU="E" DESCRIPT="Update of Master Data Failed?" EXPOSURE="2" STATE="1" EDITORDER="13 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="IS_UPDATE_ERROR" SCONAME="R_RESULT" VERSION="1" LANGU="E" DESCRIPT="True = Failed; False = Success" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <source>METHOD is_update_error.
    r_result = xsdbool( me-&gt;return-type CA zcl_com_bapireturn_services=&gt;gc_error_msgtypes ).
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="MAINTAIN" VERSION="1" LANGU="E" DESCRIPT="Create/Update all Master Data objects" EXPOSURE="0" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="MAINTAIN" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BAPIRET2"/>
   <exception CLSNAME="ZCL_SWF_GLMAST" CMPNAME="MAINTAIN" SCONAME="CX_BO_INSTANCE_NOT_FOUND" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <exception CLSNAME="ZCL_SWF_GLMAST" CMPNAME="MAINTAIN" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="2 "/>
   <source>METHOD maintain.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   October 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA(lo_badi_impl) = NEW zcl_im_fi_qisr1_gl_maint( ).

    rs_result = lo_badi_impl-&gt;maintain_masterdata(
                  iv_notification = me-&gt;key
                  iv_mode         = CONV #( me-&gt;get_value( |ISR_MODE| ) )
                  iv_view         = CONV #( me-&gt;get_value( |ISR_FORM_VIEW| ) )
                  iv_command      = CONV #( me-&gt;get_value( |ISR_EVENT| ) )
                ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="MAINTAIN_MASTERDATA" VERSION="1" LANGU="E" DESCRIPT="Maintain Master Data" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="MAINTAIN_MASTERDATA" SCONAME="IV_UPDATE_TASK" VERSION="1" LANGU="E" DESCRIPT="Update Task? (default &apos;X&apos;)" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D" PARVALUE="ABAP_TRUE"/>
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="MAINTAIN_MASTERDATA" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BAPIRET2"/>
   <exception CLSNAME="ZCL_SWF_GLMAST" CMPNAME="MAINTAIN_MASTERDATA" SCONAME="CX_BO_INSTANCE_NOT_FOUND" VERSION="1" LANGU="E" DESCRIPT="BO Exception Object" MTDTYPE="0" EDITORDER="1 "/>
   <exception CLSNAME="ZCL_SWF_GLMAST" CMPNAME="MAINTAIN_MASTERDATA" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" DESCRIPT="Custom Exception Object" MTDTYPE="0" EDITORDER="2 "/>
   <source>METHOD maintain_masterdata.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   October 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    ASSERT me-&gt;scenario = |ZGLF|.        &quot;only valid for QSCENARIO = |ZGLF|

    IF iv_update_task IS NOT INITIAL.
      &quot;running with iv_update_task = True
      CALL FUNCTION &apos;ZFI_GL_GLMAST_UPDATE&apos;
        IN UPDATE TASK
        EXPORTING
          iv_notification = me-&gt;key
        EXCEPTIONS
          ex_update_error = 1
          OTHERS          = 2.

      CALL FUNCTION &apos;BAPI_TRANSACTION_COMMIT&apos;   &quot;&lt;- Synchronous Update
        EXPORTING
          wait   = abap_true
        IMPORTING
          return = rs_result.

      me-&gt;return = rs_result.

      CHECK rs_result-type CA zcl_com_bapireturn_services=&gt;gc_error_msgtypes.

      RAISE EXCEPTION TYPE zcx_fi_general
        EXPORTING
          textid    = zcx_fi_general=&gt;update_error
          gv_string = CONV #( rs_result-message ).

      RETURN.     &quot;&lt;-- my job is done here, goodbye!
    ELSE.
      &quot;running with iv_update_task = False
      me-&gt;simulate( ).
      me-&gt;return = rs_result = me-&gt;maintain( ).
    ENDIF.

    CHECK cl_system_transaction_state=&gt;get_in_update_task( ) = 0.  &quot;is the work process running in Dialog Task?
    &quot;Asynchronous Update
    cl_soap_commit_rollback=&gt;commit( ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="READ_GLTEXT" VERSION="1" LANGU="E" DESCRIPT="Read GL Account Text" EXPOSURE="0" STATE="1" EDITORDER="9 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="READ_GLTEXT" SCONAME="I_GLACCOUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="SAKNR"/>
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="READ_GLTEXT" SCONAME="I_KTOPL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="KTOPL" PARVALUE="ZIF_FI_GLOBAL_CONSTANTS=&gt;COA_OPERATING_TAFE"/>
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="READ_GLTEXT" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="TXT20_SKAT"/>
   <source>METHOD read_gltext.

    DATA ls_skat TYPE skat.

    CALL FUNCTION &apos;SKAT_READ&apos;
      EXPORTING
        ktopl     = i_ktopl
        saknr     = i_glaccount
        spras     = sy-langu
      IMPORTING
        struct    = ls_skat
      EXCEPTIONS
        not_found = 1
        OTHERS    = 2.

    IF sy-subrc &lt;&gt; 0.
      &quot;not possible in the context of this scenario
    ELSE.
      r_result = ls_skat-txt50.
    ENDIF.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="SET_API_MODE" VERSION="1" LANGU="E" DESCRIPT="Set API Mode" EXPOSURE="0" STATE="1" EDITORDER="8 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="SET_API_MODE" SCONAME="IV_API_MODE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_ACTION"/>
   <source>METHOD set_api_mode.
    me-&gt;api_mode = iv_api_mode.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="SET_APPRV_LVL" VERSION="1" LANGU="E" DESCRIPT="Set Approver Level" EXPOSURE="0" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="SET_APPRV_LVL" SCONAME="IV_LEVEL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="INT4"/>
   <source>METHOD set_apprv_lvl.
    me-&gt;apprv_lvl = iv_level.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="SET_PLVAR" VERSION="1" LANGU="E" DESCRIPT="Set Plan Version" EXPOSURE="0" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="SET_PLVAR" SCONAME="IV_PLVAR" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="PLVAR" PARVALUE="C_DEFAULT_PLVAR"/>
   <source>METHOD set_plvar.

    CALL FUNCTION &apos;RH_GET_ACTIVE_WF_PLVAR&apos;
      IMPORTING
        act_plvar       = me-&gt;plvar
      EXCEPTIONS
        no_active_plvar = 1
        OTHERS          = 2.

    CHECK sy-subrc &lt;&gt; 0.

    me-&gt;plvar = iv_plvar.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_SWF_GLMAST" CMPNAME="SIMULATE" VERSION="1" LANGU="E" DESCRIPT="Simulate Master Data Object Creation" EXPOSURE="0" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_SWF_GLMAST" CMPNAME="SIMULATE" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BAPIRET2_T"/>
   <exception CLSNAME="ZCL_SWF_GLMAST" CMPNAME="SIMULATE" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <exception CLSNAME="ZCL_SWF_GLMAST" CMPNAME="SIMULATE" SCONAME="CX_BO_INSTANCE_NOT_FOUND" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="2 "/>
   <source>METHOD simulate.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   October 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA(lo_badi_impl) = NEW zcl_im_fi_qisr1_gl_maint( ).

    rt_result = lo_badi_impl-&gt;simulate_masterdata( me-&gt;key ).

    CHECK zcl_com_bapireturn_services=&gt;check_itab_for_errors( rt_result ) = 0.

    _mac_raise_multi rt_result.

  ENDMETHOD.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_FI_COSTELEM_FACTORY" VERSION="0" LANGU="E" DESCRIPT="Factory Class for FI Masterdata" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" RSTAT="K" CLSBCCAT="00" MSG_ID="ZFI" WITH_UNIT_TESTS="X" DURATION_TYPE="0 " RISK_LEVEL="0 " ZSAPLINK_PLUGIN_MAJOR_VERSION="0 " ZSAPLINK_PLUGIN_MINOR_VERSION="1 " ZSAPLINK_PLUGIN_BUILD_VERSION="0 " ZSAPLINK_PLUGIN_INFO1="ZSAPLINK_CLASS is part of the main ZSAPLINK project --&gt; This plugin found there instead of ZSAPLINK_PLUGINS projects" ZSAPLINK_PLUGIN_INFO2="SAPLINK homepage: https://www.assembla.com/spaces/saplink/wiki" ZSAPLINK_PLUGIN_INFO3="Download from https://www.assembla.com/code/saplink/subversion/nodes" ZSAPLINK_PLUGIN_INFO4="and navigate to:  trunk -&gt; core -&gt; ZSAPLINK -&gt; CLAS -&gt; ZSAPLINK_CLASS.slnk" REFCLSNAME="ZCL_FICO_MASTERDATA_FACTORY">
  <localImplementation>*&quot;* use this source file for the definition and implementation of
*&quot;* local helper classes, interface definitions and type
*&quot;* declarations</localImplementation>
  <localTypes>*&quot;* use this source file for any type of declarations (class
*&quot;* definitions, interfaces or type declarations) you need for
*&quot;* components in the private section</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <localTestClasses>class lcl_Unit_Test definition for testing
  duration short
     inheriting from ZCL_FICO_MASTERDATA_FACTORY  risk level harmless
.
  PUBLIC SECTION.
    METHODS: zif_masterdata_factory~is_exist REDEFINITION,
             zif_masterdata_factory~get_data REDEFINITION,
             zif_masterdata_factory~maintain_data REDEFINITION.
*?﻿&lt;asx:abap xmlns:asx=&quot;http://www.sap.com/abapxml&quot; version=&quot;1.0&quot;&gt;
*?&lt;asx:values&gt;
*?&lt;TESTCLASS_OPTIONS&gt;
*?&lt;TEST_CLASS&gt;lcl_Unit_Test
*?&lt;/TEST_CLASS&gt;
*?&lt;TEST_MEMBER&gt;f_Cut
*?&lt;/TEST_MEMBER&gt;
*?&lt;OBJECT_UNDER_TEST&gt;ZCL_FI_COSTELEM_FACTORY
*?&lt;/OBJECT_UNDER_TEST&gt;
*?&lt;OBJECT_IS_LOCAL/&gt;
*?&lt;GENERATE_FIXTURE&gt;X
*?&lt;/GENERATE_FIXTURE&gt;
*?&lt;GENERATE_CLASS_FIXTURE&gt;X
*?&lt;/GENERATE_CLASS_FIXTURE&gt;
*?&lt;GENERATE_INVOCATION&gt;X
*?&lt;/GENERATE_INVOCATION&gt;
*?&lt;GENERATE_ASSERT_EQUAL&gt;X
*?&lt;/GENERATE_ASSERT_EQUAL&gt;
*?&lt;/TESTCLASS_OPTIONS&gt;
*?&lt;/asx:values&gt;
*?&lt;/asx:abap&gt;
  private section.
    data:
      f_Cut type ref to zcl_Fi_Costelem_Factory.  &quot;class under test

    class-methods: class_Setup.
    class-methods: class_Teardown.
    methods: setup.
    methods: teardown.
    methods: maintain_Data for testing.
endclass.       &quot;lcl_Unit_Test


class lcl_Unit_Test implementation.

  method class_Setup.



  endmethod.


  method class_Teardown.



  endmethod.


  method setup.

    data iv_Costelem type kstar VALUE &apos;567880&apos;.
    data iv_Mode type glaccount_Action VALUE &apos;I&apos;.
    data iv_Commit type boole_D VALUE &apos;&apos;.
    data iv_Simulate type boole_D VALUE &apos;X&apos;.
    data iv_Wait type boole_D.
    data iv_Coarea type kokrs VALUE &apos;1000&apos;.
    data iv_Keydate type allg_Datum VALUE &apos;20201019&apos;.
    data iv_Coelclass type co_Kaint.
    data is_Costinput type bapi1030_Ceinputlist.

    create object f_Cut
      EXPORTING
        IV_COSTELEM = iv_Costelem
       IV_MODE = iv_Mode
       IV_COMMIT = iv_Commit
       IV_SIMULATE = iv_Simulate
*       IV_WAIT = iv_Wait
       IV_COAREA = iv_Coarea
       IV_KEYDATE = iv_Keydate
*       IV_COELCLASS = iv_Coelclass
*       IS_COSTINPUT = is_Costinput
   .
  endmethod.


  method teardown.



  endmethod.


  method maintain_Data.

    data iv_Ref type kstar VALUE &apos;567879&apos;.
    data r_Result type boole_D.

   try.
    r_Result = f_Cut-&gt;zif_Masterdata_Factory~maintain_Data( iv_Ref ).
   CATCH zcx_fi_general INTO DATA(lo_exception).
  ENDTRY.

    cl_Abap_Unit_Assert=&gt;assert_Equals(
      act   = r_Result
      exp   = &apos;X&apos;          &quot;&lt;--- please adapt expected value
    &quot; msg   = &apos;Testing value r_Result&apos;
*     level =
    ).
  endmethod.




  method zif_masterdata_factory~get_data.

  endmethod.

  method zif_masterdata_factory~is_exist.

  endmethod.

  method zif_masterdata_factory~maintain_data.

  endmethod.

endclass.</localTestClasses>
  <typeUsage CLSNAME="ZCL_FI_COSTELEM_FACTORY" TYPEGROUP="ABAP" VERSION="1" TPUTYPE="0" IMPLICIT="X"/>
  <forwardDeclaration>ABAP</forwardDeclaration>
  <attribute CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="LS_COSTINPUT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="5 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BAPI1030_CEINPUTLIST" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="LV_COAREA" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="KOKRS" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="LV_COELCLASS" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="4 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="CO_KAINT" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="LV_COSTELEM" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="KSTAR" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="LV_KEYDATE" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="ALLG_DATUM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <inheritance CLSNAME="ZCL_FI_COSTELEM_FACTORY" REFCLSNAME="ZCL_FICO_MASTERDATA_FACTORY" VERSION="0" STATE="1">
   <redefinition CLSNAME="ZCL_FI_COSTELEM_FACTORY" REFCLSNAME="ZCL_FICO_MASTERDATA_FACTORY" VERSION="0" MTDNAME="ZIF_MASTERDATA_FACTORY~GET_DATA" EXPOSURE="0"/>
   <redefinition CLSNAME="ZCL_FI_COSTELEM_FACTORY" REFCLSNAME="ZCL_FICO_MASTERDATA_FACTORY" VERSION="0" MTDNAME="ZIF_MASTERDATA_FACTORY~IS_EXIST" EXPOSURE="0"/>
   <redefinition CLSNAME="ZCL_FI_COSTELEM_FACTORY" REFCLSNAME="ZCL_FICO_MASTERDATA_FACTORY" VERSION="0" MTDNAME="ZIF_MASTERDATA_FACTORY~MAINTAIN_DATA" EXPOSURE="0"/>
  </inheritance>
  <interfaceMethod CLSNAME="ZCL_FI_COSTELEM_FACTORY" CPDNAME="ZIF_MASTERDATA_FACTORY~GET_DATA">
   <source>METHOD zif_masterdata_factory~get_data.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA(lo_api) = CAST zcl_fi_costelem_api(
                    zcl_fico_masterdata=&gt;get_instance(
                      iv_costelem = me-&gt;get_costelem( )
                                            )
                  ).

    me-&gt;set_api( io_api = lo_api iv_mode = me-&gt;get_mode( ) ).

    lo_api-&gt;zif_masterdata~read_data(
      IMPORTING
        es_data = es_data
    ).

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_FI_COSTELEM_FACTORY" CPDNAME="ZIF_MASTERDATA_FACTORY~IS_EXIST">
   <source>METHOD zif_masterdata_factory~is_exist.

    DATA(lo_api) = CAST zcl_fi_costelem_api(
                     zcl_fico_masterdata=&gt;get_instance(
                       iv_costelem = me-&gt;get_costelem( )
                                           )
                  ).

    me-&gt;set_api( lo_api ).

    r_result = lo_api-&gt;zif_masterdata~existencecheck( ).

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_FI_COSTELEM_FACTORY" CPDNAME="ZIF_MASTERDATA_FACTORY~MAINTAIN_DATA">
   <source>METHOD zif_masterdata_factory~maintain_data.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA(lo_api) = CAST zcl_fi_costelem_api(
                    zcl_fico_masterdata=&gt;get_instance(
                      iv_costelem = me-&gt;get_costelem( )
                                           )
                  ).

    me-&gt;set_api( io_api = lo_api iv_mode = me-&gt;get_mode( ) ).

    r_result = lo_api-&gt;zif_masterdata~maintain( iv_ref ).

  ENDMETHOD.</source>
  </interfaceMethod>
  <method CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" DESCRIPT="Object Constructor" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="2" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_COSTELEM" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="KSTAR"/>
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_MODE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_ACTION" PARVALUE="GL_ACTION-INSERT"/>
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_COMMIT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D" PARVALUE="ABAP_TRUE"/>
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_SIMULATE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D" PARVALUE="ABAP_FALSE"/>
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_WAIT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="5 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D" PARVALUE="ABAP_TRUE"/>
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_COAREA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="6 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="KOKRS" PARVALUE="TAFE_CO_AREA"/>
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_KEYDATE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="7 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ALLG_DATUM" PARVALUE="SY-DATUM"/>
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_COELCLASS" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="8 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="CO_KAINT" PARVALUE="&apos;1&apos;"/>
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IS_COSTINPUT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="9 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BAPI1030_CEINPUTLIST" PAROPTIONL="X"/>
   <source>METHOD constructor.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    super-&gt;constructor( ).

    me-&gt;set_mode( iv_mode ).
    me-&gt;set_commit( iv_commit ).
    me-&gt;set_simulate( iv_simulate ).
    me-&gt;set_wait( iv_wait ).
    me-&gt;set_coarea( iv_coarea ).
    me-&gt;set_costelem( |{ iv_costelem ALPHA = IN }| ).
    me-&gt;set_keydate( iv_keydate ).
    me-&gt;set_coelclass( iv_coelclass ).
    me-&gt;set_costinput( is_costinput ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="GET_COAREA" VERSION="1" LANGU="E" DESCRIPT="Get Controlling Area" EXPOSURE="0" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="GET_COAREA" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="KOKRS"/>
   <source>METHOD get_coarea.
    r_result = me-&gt;lv_coarea.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="GET_COELCLASS" VERSION="1" LANGU="E" DESCRIPT="Get C Cost Element Class" EXPOSURE="0" STATE="1" EDITORDER="10 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="GET_COELCLASS" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="CO_KAINT"/>
   <source>METHOD get_coelclass.
    r_result = me-&gt;lv_coelclass.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="GET_COSTELEM" VERSION="1" LANGU="E" DESCRIPT="Get Cost Element" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="GET_COSTELEM" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="KSTAR"/>
   <source>METHOD get_costelem.
    r_result = me-&gt;lv_costelem.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="GET_COSTINPUT" VERSION="1" LANGU="E" DESCRIPT="Get Cost Element input" EXPOSURE="0" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="GET_COSTINPUT" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BAPI1030_CEINPUTLIST"/>
   <source>METHOD get_costinput.
    r_result = me-&gt;ls_costinput.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="GET_KEYDATE" VERSION="1" LANGU="E" DESCRIPT="Get Key date" EXPOSURE="0" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="GET_KEYDATE" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ALLG_DATUM"/>
   <source>METHOD get_keydate.
    r_result = me-&gt;lv_keydate.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="SET_API" VERSION="1" LANGU="E" DESCRIPT="Set API specific attributes" EXPOSURE="0" STATE="1" EDITORDER="9 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="SET_API" SCONAME="IO_API" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="3" TYPE="ZCL_FI_COSTELEM_API"/>
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="SET_API" SCONAME="IV_MODE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_ACTION" PAROPTIONL="X"/>
   <source>METHOD set_api.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    io_api-&gt;clear( ).
    io_api-&gt;set_mode( COND #( WHEN iv_mode IS SUPPLIED
                              THEN iv_mode
                              ELSE me-&gt;get_mode( )
                            )
                    ).

    io_api-&gt;set_simulate( me-&gt;get_simulate( ) ).
    io_api-&gt;set_commit( me-&gt;get_commit( ) ).
    io_api-&gt;set_wait( me-&gt;get_wait( ) ).
    io_api-&gt;set_coarea( me-&gt;get_coarea( ) ).
    io_api-&gt;set_keydate( me-&gt;get_keydate( ) ).
    io_api-&gt;set_coelclass( me-&gt;get_coelclass( ) ).
    io_api-&gt;set_costinput( me-&gt;get_costinput( ) ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="SET_COAREA" VERSION="1" LANGU="E" DESCRIPT="Set Controlling Area" EXPOSURE="0" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="SET_COAREA" SCONAME="IV_COAREA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="0" TYPTYPE="1" TYPE="KOKRS"/>
   <source>METHOD set_coarea.
    me-&gt;lv_coarea = iv_coarea.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="SET_COELCLASS" VERSION="1" LANGU="E" DESCRIPT="Set Cost Element Class" EXPOSURE="0" STATE="1" EDITORDER="11 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="SET_COELCLASS" SCONAME="IV_COELCLASS" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="CO_KAINT"/>
   <source>METHOD set_coelclass.
    me-&gt;lv_coelclass = iv_coelclass.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="SET_COSTELEM" VERSION="1" LANGU="E" DESCRIPT="Set Cost Element" EXPOSURE="0" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="SET_COSTELEM" SCONAME="IV_COSTELEM" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="KSTAR"/>
   <source>METHOD set_costelem.
    me-&gt;lv_costelem = iv_costelem.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="SET_COSTINPUT" VERSION="1" LANGU="E" DESCRIPT="Set Cost Element" EXPOSURE="0" STATE="1" EDITORDER="8 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="SET_COSTINPUT" SCONAME="IS_COSTINPUT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BAPI1030_CEINPUTLIST"/>
   <source>METHOD set_costinput.
    me-&gt;ls_costinput = is_costinput.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="SET_KEYDATE" VERSION="1" LANGU="E" DESCRIPT="Set Key date" EXPOSURE="0" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_FACTORY" CMPNAME="SET_KEYDATE" SCONAME="IV_KEYDATE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ALLG_DATUM"/>
   <source>METHOD set_keydate.
    me-&gt;lv_keydate = iv_keydate.
  ENDMETHOD.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_FI_COSTELEM_API" VERSION="1" LANGU="E" DESCRIPT="API for FI-CO Cost Element Master Data" CATEGORY="00" EXPOSURE="0" STATE="1" RELEASE="0" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" RSTAT="K" CLSBCCAT="00" MSG_ID="ZFI" WITH_UNIT_TESTS="X" DURATION_TYPE="0 " RISK_LEVEL="0 " ZSAPLINK_PLUGIN_MAJOR_VERSION="0 " ZSAPLINK_PLUGIN_MINOR_VERSION="1 " ZSAPLINK_PLUGIN_BUILD_VERSION="0 " ZSAPLINK_PLUGIN_INFO1="ZSAPLINK_CLASS is part of the main ZSAPLINK project --&gt; This plugin found there instead of ZSAPLINK_PLUGINS projects" ZSAPLINK_PLUGIN_INFO2="SAPLINK homepage: https://www.assembla.com/spaces/saplink/wiki" ZSAPLINK_PLUGIN_INFO3="Download from https://www.assembla.com/code/saplink/subversion/nodes" ZSAPLINK_PLUGIN_INFO4="and navigate to:  trunk -&gt; core -&gt; ZSAPLINK -&gt; CLAS -&gt; ZSAPLINK_CLASS.slnk" REFCLSNAME="ZCL_FICO_MASTERDATA">
  <friends CLSNAME="ZCL_FI_COSTELEM_API" REFCLSNAME="ZCL_FICO_MASTERDATA" FRIENDTYPE="0" VERSION="1" STATE="1"/>
  <localImplementation>*&quot;* use this source file for the definition and implementation of
*&quot;* local helper classes, interface definitions and type
*&quot;* declarations

types: tty_BAPI1030_CEINPUTLIST TYPE STANDARD TABLE OF BAPI1030_CEINPUTLIST WITH DEFAULT KEY.</localImplementation>
  <localTypes>*&quot;* use this source file for any type of declarations (class
*&quot;* definitions, interfaces or type declarations) you need for
*&quot;* components in the private section</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class

DEFINE _mac_raise_multi.
  DELETE ADJACENT DUPLICATES FROM &amp;1 COMPARING ALL FIELDS.
  &amp;1 = zcl_com_bapireturn_services=&gt;add_errors_to_bapiret( &amp;1 ).
  LOOP AT &amp;1 INTO return.
   MESSAGE ID return-id TYPE return-type NUMBER return-number
        WITH  return-message_v1 return-message_v2 return-message_v3 return-message_v4
        INTO  dummy.
   AT FIRST.
    me-&gt;lo_exception = NEW #( ).
   ENDAT.
   me-&gt;lo_exception-&gt;add_sy_message( ).
   AT LAST.
    RAISE RESUMABLE EXCEPTION me-&gt;lo_exception.
   ENDAT.
  ENDLOOP.
END-OF-DEFINITION.</localMacros>
  <localTestClasses>*&quot;* use this source file for your ABAP unit test classes</localTestClasses>
  <attribute CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="LS_COSTINPUT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="5 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BAPI1030_CEINPUTLIST" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="LV_COAREA" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="KOKRS" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="LV_COELCLASS" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="6 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="CO_KAINT" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="LV_COSTELEM" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="KSTAR" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="LV_KEYDATE" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="4 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="ALLG_DATUM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="LV_REF" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="KSTAR" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <inheritance CLSNAME="ZCL_FI_COSTELEM_API" REFCLSNAME="ZCL_FICO_MASTERDATA" VERSION="1" STATE="1">
   <redefinition CLSNAME="ZCL_FI_COSTELEM_API" REFCLSNAME="ZCL_FICO_MASTERDATA" VERSION="0" MTDNAME="CHECK_MODE" EXPOSURE="1"/>
   <redefinition CLSNAME="ZCL_FI_COSTELEM_API" REFCLSNAME="ZCL_FICO_MASTERDATA" VERSION="1" MTDNAME="ZIF_MASTERDATA~EXISTENCECHECK" EXPOSURE="0"/>
   <redefinition CLSNAME="ZCL_FI_COSTELEM_API" REFCLSNAME="ZCL_FICO_MASTERDATA" VERSION="1" MTDNAME="ZIF_MASTERDATA~MAINTAIN" EXPOSURE="0"/>
   <redefinition CLSNAME="ZCL_FI_COSTELEM_API" REFCLSNAME="ZCL_FICO_MASTERDATA" VERSION="1" MTDNAME="ZIF_MASTERDATA~READ_DATA" EXPOSURE="0"/>
  </inheritance>
  <interfaceMethod CLSNAME="ZCL_FI_COSTELEM_API" CPDNAME="ZIF_MASTERDATA~EXISTENCECHECK">
   <source>METHOD zif_masterdata~existencecheck.
    r_result = xsdbool( me-&gt;read_costelem( ) ).
    &quot;or call function &apos;K_COSTELEMENT_SELECT_SINGLE&apos;
  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_FI_COSTELEM_API" CPDNAME="ZIF_MASTERDATA~MAINTAIN">
   <source>METHOD zif_masterdata~maintain.
    me-&gt;set_ref( iv_ref ).
    r_result = me-&gt;maintain_costelem( iv_ref ).
  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_FI_COSTELEM_API" CPDNAME="ZIF_MASTERDATA~READ_DATA">
   <source>METHOD zif_masterdata~read_data.
    es_data = me-&gt;read_costelem( ).
  ENDMETHOD.</source>
  </interfaceMethod>
  <method CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="CHECK_MODE" VERSION="0" EXPOSURE="0" STATE="0" EDITORDER="0 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD check_mode.
    ##NEEDED
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" DESCRIPT="Object Constructor" EXPOSURE="0" STATE="1" EDITORDER="11 " DISPID="0 " MTDTYPE="2" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="CONSTRUCTOR" SCONAME="IV_COSTELEM" VERSION="1" LANGU="E" DESCRIPT="Cost Element" CMPTYPE="1" MTDTYPE="2" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="KSTAR"/>
   <source>METHOD constructor.

    super-&gt;constructor( ).

    me-&gt;set_costelem( |{ iv_costelem ALPHA = IN }| ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="CREATE_COSTELEM" VERSION="1" LANGU="E" DESCRIPT="Create a Cost Element" EXPOSURE="0" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="CREATE_COSTELEM" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="CREATE_COSTELEM" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD create_costelem.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA lt_return TYPE bapiret2_t.
    DATA(lt_costelem) = VALUE tty_bapi1030_ceinputlist(
                         LET costelem = me-&gt;get_costinput( ) IN
                          ( LINES OF COND #( WHEN costelem IS NOT INITIAL
                                             THEN VALUE #( ( CORRESPONDING #( costelem ) ) )
                                             ELSE VALUE #( )
                                           )
                          )
                                                      ).

    CALL FUNCTION &apos;BAPI_COSTELEM_CREATEMULTIPLE&apos;
      EXPORTING
        coarea          = me-&gt;get_coarea( )
        costelemclass   = me-&gt;get_coelclass( )
        testrun         = me-&gt;get_simulate( )
      TABLES
        costelementlist = lt_costelem
        return          = lt_return.

    _mac_raise_multi lt_return.

    r_result = abap_true.

    me-&gt;_commit( ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="GET_COAREA" VERSION="1" LANGU="E" DESCRIPT="Get Controlling Area" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="GET_COAREA" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="KOKRS"/>
   <source>METHOD get_coarea.
    r_result = me-&gt;lv_coarea.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="GET_COELCLASS" VERSION="1" LANGU="E" DESCRIPT="Get Cost Element Class" EXPOSURE="0" STATE="1" EDITORDER="10 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="GET_COELCLASS" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="CO_KAINT"/>
   <source>METHOD get_coelclass.
    r_result = me-&gt;lv_coelclass.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="GET_COSTELEM" VERSION="1" LANGU="E" DESCRIPT="Get Cost Element" EXPOSURE="0" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="GET_COSTELEM" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="KSTAR"/>
   <source>METHOD get_costelem.
    r_result = me-&gt;lv_costelem.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="GET_COSTINPUT" VERSION="1" LANGU="E" DESCRIPT="Get Cost Element details" EXPOSURE="0" STATE="1" EDITORDER="9 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="GET_COSTINPUT" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BAPI1030_CEINPUTLIST"/>
   <source>METHOD get_costinput.
    rs_result = me-&gt;ls_costinput.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="GET_KEYDATE" VERSION="1" LANGU="E" DESCRIPT="Get Key date" EXPOSURE="0" STATE="1" EDITORDER="8 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="GET_KEYDATE" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ALLG_DATUM"/>
   <source>METHOD get_keydate.
    r_result = me-&gt;lv_keydate.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="GET_REF" VERSION="1" LANGU="E" DESCRIPT="Get Reference Account" EXPOSURE="0" STATE="1" EDITORDER="12 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="GET_REF" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="KSTAR"/>
   <source>METHOD get_ref.
    r_result = me-&gt;lv_ref.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="MAINTAIN_COSTELEM" VERSION="1" LANGU="E" DESCRIPT="Maintain Cost Element (Create,Update)" EXPOSURE="0" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="MAINTAIN_COSTELEM" SCONAME="IV_REF" VERSION="1" LANGU="E" DESCRIPT="Create with Reference" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="MAINTAIN_COSTELEM" SCONAME="R_RESULT" VERSION="1" LANGU="E" DESCRIPT="True = Successfully maintained" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="MAINTAIN_COSTELEM" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" DESCRIPT="Exception Object" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD maintain_costelem.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    me-&gt;dummy = SWITCH #( me-&gt;get_mode( )
                   WHEN action-insert OR action-update
                   THEN abap_true
                   ELSE THROW zcx_fi_general(
                           textid    = zcx_fi_general=&gt;wrong_mode
                           gv_mode   = me-&gt;get_mode( )
                           gv_string = |Maintain Cost Element|
                                            )
                         ).

    me-&gt;set_costinput( COND #( WHEN me-&gt;get_ref( )
                               THEN LET costelem = me-&gt;get_costelem( ) IN
                                CORRESPONDING #( BASE ( costelem ) me-&gt;read_costelem( ) EXCEPT cost_elem )
                               ELSE SWITCH #( me-&gt;get_mode( )
                                     WHEN action-insert OR action-update
                                     THEN me-&gt;get_costinput( )
                                     WHEN action-read OR space
                                     THEN me-&gt;read_costelem( )
                                     ELSE THROW zcx_fi_general(
                                             gv_mode   = me-&gt;get_mode( )
                                             textid    = zcx_fi_general=&gt;wrong_mode
                                             gv_string = |Maintain Cost Element|
                                                             )
                                            )
                             )
                    ).

    r_result = SWITCH #( me-&gt;get_mode( )
                WHEN action-insert
                THEN create_costelem( )
                ELSE update_costelem( )
                       ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="READ_COSTELEM" VERSION="1" LANGU="E" DESCRIPT="Read a Cost Element" EXPOSURE="0" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="READ_COSTELEM" SCONAME="RS_RESULT" VERSION="1" LANGU="E" DESCRIPT="Cost Element deatils" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BAPI1030_CEOUTPUTLIST"/>
   <exception CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="READ_COSTELEM" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
   <source>METHOD read_costelem.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA lt_return TYPE bapiret2_t.

    CALL FUNCTION &apos;BAPI_COSTELEM_GETDETAIL&apos;
      EXPORTING
        controllingarea   = me-&gt;get_coarea( )
        costelement       = COND #( WHEN me-&gt;get_ref( )
                                    THEN me-&gt;get_ref( )
                                    ELSE me-&gt;get_costelem( )
                                  )
        keydate           = me-&gt;get_keydate( )
      IMPORTING
        costelementdetail = rs_result
      TABLES
        return            = lt_return.

    _mac_raise_multi lt_return.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="SET_COAREA" VERSION="1" LANGU="E" DESCRIPT="Set Controlling Area" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="SET_COAREA" SCONAME="IV_COAREA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="0" TYPTYPE="1" TYPE="KOKRS"/>
   <source>METHOD set_coarea.
    me-&gt;lv_coarea = iv_coarea.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="SET_COELCLASS" VERSION="1" LANGU="E" DESCRIPT="Set Cost Element Class" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="SET_COELCLASS" SCONAME="IV_CLASS" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="CO_KAINT"/>
   <source>METHOD set_coelclass.
    me-&gt;lv_coelclass = iv_class.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="SET_COSTELEM" VERSION="1" LANGU="E" DESCRIPT="Set Cost Element" EXPOSURE="0" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="SET_COSTELEM" SCONAME="IV_COSTELEM" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="KSTAR"/>
   <source>METHOD set_costelem.
    me-&gt;lv_costelem = iv_costelem.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="SET_COSTINPUT" VERSION="1" LANGU="E" DESCRIPT="Set Cost Element details" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="SET_COSTINPUT" SCONAME="IS_COSTINPUT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BAPI1030_CEINPUTLIST"/>
   <source>METHOD set_costinput.
    me-&gt;ls_costinput = is_costinput.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="SET_KEYDATE" VERSION="1" LANGU="E" DESCRIPT="Set Key date" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="SET_KEYDATE" SCONAME="IV_KEYDATE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ALLG_DATUM"/>
   <source>METHOD set_keydate.
    me-&gt;lv_keydate = iv_keydate.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="SET_REF" VERSION="1" LANGU="E" DESCRIPT="Set Reference Account" EXPOSURE="0" STATE="1" EDITORDER="13 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="SET_REF" SCONAME="IV_REF" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY"/>
   <source>METHOD set_ref.
    me-&gt;lv_ref = |{ iv_ref ALPHA = IN }|.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="UPDATE_COSTELEM" VERSION="1" LANGU="E" DESCRIPT="Update a Cost Element" EXPOSURE="0" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="UPDATE_COSTELEM" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZCL_FI_COSTELEM_API" CMPNAME="UPDATE_COSTELEM" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD update_costelem.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA lt_return TYPE bapiret2_t.

    DATA(lt_costelem) = VALUE tty_bapi1030_ceinputlist(
                         LET costinput = me-&gt;get_costinput( ) IN
                          ( LINES OF COND #( WHEN costinput IS NOT INITIAL
                                             THEN VALUE #( ( CORRESPONDING #( costinput ) ) )
                                             ELSE VALUE #( )
                                           )
                          )
                                                      ).

    CALL FUNCTION &apos;BAPI_COSTELEM_CHANGEMULTIPLE&apos;
      EXPORTING
        coarea          = me-&gt;get_coarea( )
        testrun         = me-&gt;get_simulate( )
      TABLES
        costelementlist = lt_costelem
        return          = lt_return.

    _mac_raise_multi lt_return.

    r_result = abap_true.

    me-&gt;_commit( ).

  ENDMETHOD.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_FI_COMMITMENT_FACTORY" VERSION="0" LANGU="E" DESCRIPT="Factory for FI Commitment Items" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" CLSBCCAT="00" WITH_UNIT_TESTS="X" DURATION_TYPE="0 " RISK_LEVEL="0 " ZSAPLINK_PLUGIN_MAJOR_VERSION="0 " ZSAPLINK_PLUGIN_MINOR_VERSION="1 " ZSAPLINK_PLUGIN_BUILD_VERSION="0 " ZSAPLINK_PLUGIN_INFO1="ZSAPLINK_CLASS is part of the main ZSAPLINK project --&gt; This plugin found there instead of ZSAPLINK_PLUGINS projects" ZSAPLINK_PLUGIN_INFO2="SAPLINK homepage: https://www.assembla.com/spaces/saplink/wiki" ZSAPLINK_PLUGIN_INFO3="Download from https://www.assembla.com/code/saplink/subversion/nodes" ZSAPLINK_PLUGIN_INFO4="and navigate to:  trunk -&gt; core -&gt; ZSAPLINK -&gt; CLAS -&gt; ZSAPLINK_CLASS.slnk" REFCLSNAME="ZCL_FICO_MASTERDATA_FACTORY">
  <localImplementation>*&quot;* use this source file for the definition and implementation of
*&quot;* local helper classes, interface definitions and type
*&quot;* declarations</localImplementation>
  <localTypes>*&quot;* use this source file for any type of declarations (class
*&quot;* definitions, interfaces or type declarations) you need for
*&quot;* components in the private section</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <localTestClasses>*&quot;* use this source file for your ABAP unit test classes


class lcl_Unit_Test definition for testing
  duration short
     inheriting from ZCL_FICO_MASTERDATA_FACTORY  risk level harmless
.
  PUBLIC SECTION.
    METHODS: zif_masterdata_factory~is_exist REDEFINITION,
             zif_masterdata_factory~get_data REDEFINITION,
             zif_masterdata_factory~maintain_data REDEFINITION.
*?﻿&lt;asx:abap xmlns:asx=&quot;http://www.sap.com/abapxml&quot; version=&quot;1.0&quot;&gt;
*?&lt;asx:values&gt;
*?&lt;TESTCLASS_OPTIONS&gt;
*?&lt;TEST_CLASS&gt;lcl_Unit_Test
*?&lt;/TEST_CLASS&gt;
*?&lt;TEST_MEMBER&gt;f_Cut
*?&lt;/TEST_MEMBER&gt;
*?&lt;OBJECT_UNDER_TEST&gt;ZCL_FI_COMMITMENT_FACTORY
*?&lt;/OBJECT_UNDER_TEST&gt;
*?&lt;OBJECT_IS_LOCAL/&gt;
*?&lt;GENERATE_FIXTURE&gt;X
*?&lt;/GENERATE_FIXTURE&gt;
*?&lt;GENERATE_CLASS_FIXTURE&gt;X
*?&lt;/GENERATE_CLASS_FIXTURE&gt;
*?&lt;GENERATE_INVOCATION&gt;X
*?&lt;/GENERATE_INVOCATION&gt;
*?&lt;GENERATE_ASSERT_EQUAL&gt;X
*?&lt;/GENERATE_ASSERT_EQUAL&gt;
*?&lt;/TESTCLASS_OPTIONS&gt;
*?&lt;/asx:values&gt;
*?&lt;/asx:abap&gt;
  private section.
    data:
      f_Cut type ref to zcl_Fi_Commitment_Factory.  &quot;class under test

    class-methods: class_Setup.
    class-methods: class_Teardown.
    methods: setup.
    methods: teardown.
    methods: maintain_Data for testing.

endclass.       &quot;lcl_Unit_Test


class lcl_Unit_Test implementation.

  method class_Setup.



  endmethod.


  method class_Teardown.



  endmethod.


  method setup.

    data iv_Fikrs type fikrs VALUE &apos;1000&apos;.
    data iv_Gjahr type gjahr VALUE &apos;000&apos;.
    data iv_Fipex type fm_Fipex VALUE &apos;567875&apos;.
    data is_Citemdata type zfi_S_Commitment_Data.
    data iv_Mode type glaccount_Action VALUE &apos;I&apos;.
    data iv_Commit type boole_D VALUE &apos;&apos;.
    data iv_Simulate type boole_D VALUE &apos;X&apos;.
    data iv_Wait type boole_D.

    create object f_Cut
      EXPORTING
       IV_FIKRS = iv_Fikrs
       IV_GJAHR = iv_Gjahr
        IV_FIPEX = iv_Fipex
*       IS_CITEMDATA = is_Citemdata
       IV_MODE = iv_Mode
       IV_COMMIT = iv_Commit
       IV_SIMULATE = iv_Simulate
*       IV_WAIT = iv_Wait
   .
  endmethod.


  method teardown.



  endmethod.


  method maintain_Data.

    data iv_Ref type fm_fipex VALUE &apos;567879&apos;.
    data r_Result type boole_D.

  try.
    r_Result = f_Cut-&gt;zif_Masterdata_Factory~maintain_Data( iv_Ref ).
  CATCH zcx_fi_general INTO DATA(lo_exception).
  ENDTRY.

    cl_Abap_Unit_Assert=&gt;assert_Equals(
      act   = r_Result
      exp   = r_Result          &quot;&lt;--- please adapt expected value
    &quot; msg   = &apos;Testing value r_Result&apos;
*     level =
    ).
  endmethod.




  method zif_masterdata_factory~get_data.

  endmethod.

  method zif_masterdata_factory~is_exist.

  endmethod.


  method zif_masterdata_factory~maintain_data.

  endmethod.

endclass.</localTestClasses>
  <attribute CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="LS_CITEMDATA" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="4 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="ZFI_S_COMMITMENT_DATA" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="LV_FIKRS" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="FIKRS" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="LV_FIPEX" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="FIPEX" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="LV_GJAHR" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GJAHR" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <inheritance CLSNAME="ZCL_FI_COMMITMENT_FACTORY" REFCLSNAME="ZCL_FICO_MASTERDATA_FACTORY" VERSION="0" STATE="1">
   <redefinition CLSNAME="ZCL_FI_COMMITMENT_FACTORY" REFCLSNAME="ZCL_FICO_MASTERDATA_FACTORY" VERSION="0" MTDNAME="ZIF_MASTERDATA_FACTORY~GET_DATA" EXPOSURE="0"/>
   <redefinition CLSNAME="ZCL_FI_COMMITMENT_FACTORY" REFCLSNAME="ZCL_FICO_MASTERDATA_FACTORY" VERSION="0" MTDNAME="ZIF_MASTERDATA_FACTORY~IS_EXIST" EXPOSURE="0"/>
   <redefinition CLSNAME="ZCL_FI_COMMITMENT_FACTORY" REFCLSNAME="ZCL_FICO_MASTERDATA_FACTORY" VERSION="0" MTDNAME="ZIF_MASTERDATA_FACTORY~MAINTAIN_DATA" EXPOSURE="0"/>
  </inheritance>
  <interfaceMethod CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CPDNAME="ZIF_MASTERDATA_FACTORY~GET_DATA">
   <source>METHOD zif_masterdata_factory~get_data.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   September 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA(lo_api) = CAST zcl_fi_commitment_api(
                    zcl_fico_masterdata=&gt;get_instance(
                      iv_comitem = me-&gt;get_fipex( )
                                             )
                  ).

    me-&gt;set_api( io_api = lo_api iv_mode = me-&gt;get_mode( ) ).

    lo_api-&gt;zif_masterdata~read_data(
      IMPORTING
        es_data = es_data
    ).

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CPDNAME="ZIF_MASTERDATA_FACTORY~IS_EXIST">
   <source>METHOD zif_masterdata_factory~is_exist.

    DATA(lo_api) = CAST zcl_fi_commitment_api(
                    zcl_fico_masterdata=&gt;get_instance(
                      iv_comitem = me-&gt;get_fipex( )
                                           )
                  ).

    me-&gt;set_api( lo_api ).

    r_result = lo_api-&gt;zif_masterdata~existencecheck( ).

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CPDNAME="ZIF_MASTERDATA_FACTORY~MAINTAIN_DATA">
   <source>METHOD zif_masterdata_factory~maintain_data.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   September 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA(lo_api) = CAST zcl_fi_commitment_api(
                    zcl_fico_masterdata=&gt;get_instance(
                      iv_comitem = me-&gt;get_fipex( )
                                           )
                  ).

    me-&gt;set_api( io_api = lo_api iv_mode = me-&gt;get_mode( ) ).

    r_result = lo_api-&gt;zif_masterdata~maintain( iv_ref ).

  ENDMETHOD.</source>
  </interfaceMethod>
  <method CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="2" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_FIKRS" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="FIKRS" PARVALUE="TAFE_FM_AREA"/>
   <parameter CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_GJAHR" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GJAHR" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_FIPEX" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="FM_FIPEX"/>
   <parameter CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IS_CITEMDATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ZFI_S_COMMITMENT_DATA" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_MODE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="5 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_ACTION" PARVALUE="GL_ACTION-INSERT"/>
   <parameter CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_COMMIT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="6 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D" PARVALUE="ABAP_TRUE"/>
   <parameter CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_SIMULATE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="7 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D" PARVALUE="ABAP_FALSE"/>
   <parameter CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_WAIT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="8 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D" PARVALUE="ABAP_TRUE"/>
   <source>METHOD constructor.

    super-&gt;constructor( ).

    me-&gt;set_mode( iv_mode ).
    me-&gt;set_commit( iv_commit ).
    me-&gt;set_simulate( iv_simulate ).
    me-&gt;set_wait( iv_wait ).
    me-&gt;set_fikrs( iv_fikrs ).
    me-&gt;set_fipex( iv_fipex ).
    me-&gt;set_data( is_citemdata ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="GET_ALL" VERSION="1" LANGU="E" DESCRIPT="Get All Commitment Items for an FM Area" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="GET_ALL" SCONAME="IV_FIKRS" VERSION="1" LANGU="E" DESCRIPT="FM Area for TAFE (Default 1000)" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="FIKRS" PARVALUE="TAFE_FM_AREA"/>
   <parameter CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="GET_ALL" SCONAME="RT_RESULT" VERSION="1" LANGU="E" DESCRIPT="Table of all Commitment Items in the FM Area Passed" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="FMCI_T"/>
   <source>METHOD get_all.

    SELECT fipex fipup FROM fmci
      INTO CORRESPONDING FIELDS OF TABLE rt_result
      WHERE fikrs = iv_fikrs
      AND   gjahr = &apos;000&apos;.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="GET_DATA" VERSION="1" LANGU="E" DESCRIPT="Get Commitment Data" EXPOSURE="0" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="GET_DATA" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZFI_S_COMMITMENT_DATA"/>
   <source>METHOD get_data.
    rs_result = me-&gt;ls_citemdata.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="GET_FIKRS" VERSION="1" LANGU="E" DESCRIPT="Get FM Area" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="GET_FIKRS" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="FIKRS"/>
   <source>METHOD get_fikrs.
    r_result = me-&gt;lv_fikrs.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="GET_FIPEX" VERSION="1" LANGU="E" DESCRIPT="Get Commitment Item" EXPOSURE="0" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="GET_FIPEX" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="FIPEX"/>
   <source>METHOD get_fipex.
    r_result = me-&gt;lv_fipex.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="SET_API" VERSION="1" LANGU="E" DESCRIPT="Set API Methods" EXPOSURE="0" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="SET_API" SCONAME="IO_API" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="3" TYPE="ZCL_FI_COMMITMENT_API"/>
   <parameter CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="SET_API" SCONAME="IV_MODE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_ACTION" PAROPTIONL="X"/>
   <source>METHOD set_api.

    io_api-&gt;clear( ).
    io_api-&gt;set_mode( COND #( WHEN iv_mode IS SUPPLIED
                              THEN iv_mode
                              ELSE me-&gt;get_mode( )
                            )
                    ).

    io_api-&gt;set_simulate( me-&gt;get_simulate( ) ).
    io_api-&gt;set_commit( me-&gt;get_commit( ) ).
    io_api-&gt;set_wait( me-&gt;get_wait( ) ).
    io_api-&gt;set_fikrs( me-&gt;get_fikrs( ) ).
    io_api-&gt;set_fipex( me-&gt;get_fipex( ) ).
    io_api-&gt;set_data( me-&gt;get_data( ) ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="SET_DATA" VERSION="1" LANGU="E" DESCRIPT="set Commitment Data" EXPOSURE="0" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="SET_DATA" SCONAME="IS_CITEMDATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ZFI_S_COMMITMENT_DATA"/>
   <source>METHOD set_data.
    me-&gt;ls_citemdata = is_citemdata.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="SET_FIKRS" VERSION="1" LANGU="E" DESCRIPT="Set FM Area" EXPOSURE="0" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="SET_FIKRS" SCONAME="IV_FIKRS" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="FIKRS"/>
   <source>METHOD set_fikrs.
    me-&gt;lv_fikrs = iv_fikrs.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="SET_FIPEX" VERSION="1" LANGU="E" DESCRIPT="Set Commitment Item" EXPOSURE="0" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_FACTORY" CMPNAME="SET_FIPEX" SCONAME="IV_FIPEX" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="FIPEX"/>
   <source>METHOD set_fipex.
    me-&gt;lv_fipex = iv_fipex.
  ENDMETHOD.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" VERSION="1" LANGU="E" DESCRIPT="Abstract Class for FI-CO Masterdata Factory" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" CLSABSTRCT="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" RSTAT="K" CLSBCCAT="00" MSG_ID="ZFI" DURATION_TYPE="0 " RISK_LEVEL="0 " ZSAPLINK_PLUGIN_MAJOR_VERSION="0 " ZSAPLINK_PLUGIN_MINOR_VERSION="1 " ZSAPLINK_PLUGIN_BUILD_VERSION="0 " ZSAPLINK_PLUGIN_INFO1="ZSAPLINK_CLASS is part of the main ZSAPLINK project --&gt; This plugin found there instead of ZSAPLINK_PLUGINS projects" ZSAPLINK_PLUGIN_INFO2="SAPLINK homepage: https://www.assembla.com/spaces/saplink/wiki" ZSAPLINK_PLUGIN_INFO3="Download from https://www.assembla.com/code/saplink/subversion/nodes" ZSAPLINK_PLUGIN_INFO4="and navigate to:  trunk -&gt; core -&gt; ZSAPLINK -&gt; CLAS -&gt; ZSAPLINK_CLASS.slnk">
  <implementing CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" REFCLSNAME="ZIF_MASTERDATA_FACTORY" VERSION="1" EXPOSURE="2" STATE="1" RELTYPE="1" IMPABSTRCT="X" EDITORDER="2 "/>
  <implementing CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" VERSION="1" EXPOSURE="2" STATE="1" RELTYPE="1" EDITORDER="1 "/>
  <localImplementation>*&quot;* use this source file for the definition and implementation of
*&quot;* local helper classes, interface definitions and type
*&quot;* declarations</localImplementation>
  <localTypes>*&quot;* use this source file for any type of declarations (class
*&quot;* definitions, interfaces or type declarations) you need for
*&quot;* components in the private section</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <typeUsage CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" TYPEGROUP="ABAP" VERSION="1" TPUTYPE="0" IMPLICIT="X"/>
  <forwardDeclaration>ABAP</forwardDeclaration>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="GL_ACTION" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="2" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" REFCMPNAME="CO_ACTION" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="LV_COMMIT" VERSION="1" LANGU="E" DESCRIPT="Data element for domain BOOLE: TRUE (=&apos;X&apos;) and FALSE (=&apos; &apos;)" EXPOSURE="0" STATE="1" EDITORDER="4 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BOOLE_D" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="LV_MODE" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GLACCOUNT_ACTION" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="LV_SIMULATE" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BOOLE_D" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="LV_WAIT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BOOLE_D" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="TAFE_COMP_CODE" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="2" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" REFCMPNAME="COMP_CODE_TAFE" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="TAFE_CO_AREA" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="2" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" REFCMPNAME="CO_AREA_1000" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="TAFE_FM_AREA" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="2" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" REFCMPNAME="FM_AREA_1000" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="TAFE_FSV" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="2" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" REFCMPNAME="CO_FSV_VERSN" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="TAFE_GROUP_COA" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="2" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" REFCMPNAME="COA_GROUP_TAFE" TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CLEAR" VERSION="1" LANGU="E" DESCRIPT="Clear Attributes" EXPOSURE="1" STATE="1" EDITORDER="9 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD clear.
    CLEAR:
     me-&gt;lv_commit,
     me-&gt;lv_mode,
     me-&gt;lv_simulate,
     me-&gt;lv_wait.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" DESCRIPT="Object Constructor" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="2" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD constructor.
    me-&gt;clear( ).
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" VERSION="1" LANGU="E" DESCRIPT="Returns the Factory Subclass" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IV_SAKNR" VERSION="1" LANGU="E" DESCRIPT="GL Account" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="0" TYPTYPE="1" TYPE="SAKNR" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IV_COSTELEM" VERSION="1" LANGU="E" DESCRIPT="Cost Element" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="0" TYPTYPE="1" TYPE="KSTAR" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IV_COMITEM" VERSION="1" LANGU="E" DESCRIPT="Commitment Item" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="0" TYPTYPE="1" TYPE="FM_FIPEX" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IV_KTOPL" VERSION="1" LANGU="E" DESCRIPT="Chart of Accounts" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="KTOPL" PARVALUE="TAFE_GROUP_COA"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IV_BUKRS" VERSION="1" LANGU="E" DESCRIPT="Company Code" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BUKRS" PARVALUE="TAFE_COMP_CODE"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IS_COA_DATA" VERSION="1" LANGU="E" DESCRIPT="Data for COA" CMPTYPE="1" MTDTYPE="0" EDITORDER="6 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_COA_DATA" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IS_CCODE_DATA" VERSION="1" LANGU="E" DESCRIPT="Data for Company Code" CMPTYPE="1" MTDTYPE="0" EDITORDER="7 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_DATA" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IS_ACCT_NAME" VERSION="1" LANGU="E" DESCRIPT="Data for Account Name" CMPTYPE="1" MTDTYPE="0" EDITORDER="8 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_NAME_DATA" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IS_CITEMDATA" VERSION="1" LANGU="E" DESCRIPT="Commitment Data" CMPTYPE="1" MTDTYPE="0" EDITORDER="9 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ZFI_S_COMMITMENT_DATA" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IV_KEYWORD" VERSION="1" LANGU="E" DESCRIPT="Data for Keyword" CMPTYPE="1" MTDTYPE="0" EDITORDER="10 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="SCHLW" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IV_COAREA" VERSION="1" LANGU="E" DESCRIPT="Controlling Area" CMPTYPE="1" MTDTYPE="0" EDITORDER="11 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="KOKRS" PARVALUE="TAFE_CO_AREA"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IV_KEYDATE" VERSION="1" LANGU="E" DESCRIPT="Keydate" CMPTYPE="1" MTDTYPE="0" EDITORDER="12 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ALLG_DATUM" PARVALUE="SY-DATUM"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IV_COELCLASS" VERSION="1" LANGU="E" DESCRIPT="Cost Element Class" CMPTYPE="1" MTDTYPE="0" EDITORDER="13 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="CO_KAINT" PARVALUE="&apos;1&apos;"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IS_COSTINPUT" VERSION="1" LANGU="E" DESCRIPT="Data for Cost Element" CMPTYPE="1" MTDTYPE="0" EDITORDER="14 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BAPI1030_CEINPUTLIST" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IV_FIKRS" VERSION="1" LANGU="E" DESCRIPT="FM Area" CMPTYPE="1" MTDTYPE="0" EDITORDER="15 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="FIKRS" PARVALUE="TAFE_FM_AREA"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IV_ERGSL" VERSION="1" LANGU="E" DESCRIPT="FSV Hierarchy Node" CMPTYPE="1" MTDTYPE="0" EDITORDER="16 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ERGSL" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IV_VERSN" VERSION="1" LANGU="E" DESCRIPT="FSV Version" CMPTYPE="1" MTDTYPE="0" EDITORDER="17 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="VERSN_011" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IV_MODE" VERSION="1" LANGU="E" DESCRIPT="Factory Run mode" CMPTYPE="1" MTDTYPE="0" EDITORDER="18 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_ACTION" PARVALUE="GL_ACTION-INSERT"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IV_COMMIT" VERSION="1" LANGU="E" DESCRIPT="Commit Flag" CMPTYPE="1" MTDTYPE="0" EDITORDER="19 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D" PARVALUE="ABAP_TRUE"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IV_SIMULATE" VERSION="1" LANGU="E" DESCRIPT="Simulation mode" CMPTYPE="1" MTDTYPE="0" EDITORDER="20 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D" PARVALUE="ABAP_FALSE"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="IV_WAIT" VERSION="1" LANGU="E" DESCRIPT="Wait or not for Commit Work" CMPTYPE="1" MTDTYPE="0" EDITORDER="21 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D" PARVALUE="ABAP_TRUE"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="RO_RESULT" VERSION="1" LANGU="E" DESCRIPT="Factory Subclass as an Instance" CMPTYPE="1" MTDTYPE="0" EDITORDER="22 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_FICO_MASTERDATA_FACTORY"/>
   <exception CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="CREATE" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" DESCRIPT="Exception Object" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD create.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    ro_result = COND #( WHEN iv_saknr IS NOT INITIAL
                        THEN NEW zcl_fi_glmast_factory(
                                   iv_saknr       = iv_saknr
                                   iv_bukrs       = iv_bukrs
                                   is_acct_name   = is_acct_name
                                   is_ccode_data  = is_ccode_data
                                   is_coa_data    = is_coa_data
                                   iv_keyword     = iv_keyword
                                   iv_ktopl       = iv_ktopl
                                   iv_versn       = iv_versn
                                   iv_ergsl       = iv_ergsl
                                   iv_mode        = iv_mode
                                   iv_simulate    = iv_simulate
                                   iv_commit      = iv_commit
                                   iv_wait        = iv_wait
                                )
                        WHEN iv_costelem IS NOT INITIAL
                        THEN NEW zcl_fi_costelem_factory(
                                   iv_costelem   = iv_costelem
                                   iv_mode       = iv_mode
                                   iv_simulate   = iv_simulate
                                   iv_commit     = iv_commit
                                   iv_wait       = iv_wait
                                   iv_coarea     = iv_coarea
                                   iv_keydate    = iv_keydate
                                   iv_coelclass  = iv_coelclass
                                   is_costinput  = is_costinput
                                )
                        WHEN iv_comitem IS NOT INITIAL
                        THEN NEW zcl_fi_commitment_factory(
                                  iv_fikrs     = iv_fikrs
                                  iv_fipex     = iv_comitem
                                  is_citemdata = is_citemdata
                                  iv_mode      = iv_mode
                                  iv_commit    = iv_commit
                                  iv_simulate  = iv_simulate
                                  iv_wait      = iv_wait
                                )
                        ELSE THROW zcx_fi_general(
                                    textid  = zcx_fi_general=&gt;incorrect_params
                                                 )
                    ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="GET_COMMIT" VERSION="1" LANGU="E" DESCRIPT="Get Commit Flag" EXPOSURE="1" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="GET_COMMIT" SCONAME="RV_COMMIT" VERSION="1" LANGU="E" DESCRIPT="Data element for domain BOOLE: TRUE (=&apos;X&apos;) and FALSE (=&apos; &apos;)" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <source>METHOD get_commit.
    rv_commit = me-&gt;lv_commit.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="GET_MODE" VERSION="1" LANGU="E" DESCRIPT="Get API Run mode" EXPOSURE="1" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="GET_MODE" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_ACTION"/>
   <source>METHOD get_mode.
    r_result = me-&gt;lv_mode.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="GET_SIMULATE" VERSION="1" LANGU="E" DESCRIPT="Get Simulation mode" EXPOSURE="1" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="GET_SIMULATE" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <source>METHOD get_simulate.
    r_result = me-&gt;lv_simulate.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="GET_WAIT" VERSION="1" LANGU="E" DESCRIPT="Get Wait parameter for Commit" EXPOSURE="1" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="GET_WAIT" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <source>METHOD get_wait.
    r_result = me-&gt;lv_wait.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="SET_COMMIT" VERSION="1" LANGU="E" DESCRIPT="Set Commit Flag" EXPOSURE="1" STATE="1" EDITORDER="8 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="SET_COMMIT" SCONAME="IV_COMMIT" VERSION="1" LANGU="E" DESCRIPT="Commit Flag: TRUE (=&apos;X&apos;) and FALSE (=&apos; &apos;)" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D"/>
   <source>METHOD set_commit.
    me-&gt;lv_commit = iv_commit.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="SET_MODE" VERSION="1" LANGU="E" DESCRIPT="Set API Run mode" EXPOSURE="1" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="SET_MODE" SCONAME="IV_MODE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_ACTION"/>
   <source>METHOD set_mode.
    me-&gt;lv_mode = iv_mode.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="SET_SIMULATE" VERSION="1" LANGU="E" DESCRIPT="Set Simulation mode" EXPOSURE="1" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="SET_SIMULATE" SCONAME="IV_SIMULATE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D"/>
   <source>METHOD set_simulate.
    me-&gt;lv_simulate = iv_simulate.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="SET_WAIT" VERSION="1" LANGU="E" DESCRIPT="Set Wait parameter for Commit" EXPOSURE="1" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FICO_MASTERDATA_FACTORY" CMPNAME="SET_WAIT" SCONAME="IV_WAIT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D"/>
   <source>METHOD set_wait.
    me-&gt;lv_wait = iv_wait.
  ENDMETHOD.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_FI_FSV_API" VERSION="1" LANGU="E" DESCRIPT="API for Financial Statement Version (FSV)" CATEGORY="00" EXPOSURE="0" STATE="1" RELEASE="0" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" RSTAT="K" CLSBCCAT="00" MSG_ID="ZFI" DURATION_TYPE="0 " RISK_LEVEL="0 " ZSAPLINK_PLUGIN_MAJOR_VERSION="0 " ZSAPLINK_PLUGIN_MINOR_VERSION="1 " ZSAPLINK_PLUGIN_BUILD_VERSION="0 " ZSAPLINK_PLUGIN_INFO1="ZSAPLINK_CLASS is part of the main ZSAPLINK project --&gt; This plugin found there instead of ZSAPLINK_PLUGINS projects" ZSAPLINK_PLUGIN_INFO2="SAPLINK homepage: https://www.assembla.com/spaces/saplink/wiki" ZSAPLINK_PLUGIN_INFO3="Download from https://www.assembla.com/code/saplink/subversion/nodes" ZSAPLINK_PLUGIN_INFO4="and navigate to:  trunk -&gt; core -&gt; ZSAPLINK -&gt; CLAS -&gt; ZSAPLINK_CLASS.slnk" REFCLSNAME="ZCL_FI_GLMAST_API">
  <friends CLSNAME="ZCL_FI_FSV_API" REFCLSNAME="ZCL_FICO_MASTERDATA" FRIENDTYPE="0" VERSION="1" STATE="1"/>
  <localImplementation>*&quot;* use this source file for the definition and implementation of
*&quot;* local helper classes, interface definitions and type
*&quot;* declarations</localImplementation>
  <localTypes>*&quot;* use this source file for any type of declarations (class
*&quot;* definitions, interfaces or type declarations) you need for
*&quot;* components in the private section</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class
DEFINE _mac_raise.
  me-&gt;lo_exception = NEW #( gv_symsg = CORRESPONDING #( sy ) ).
  me-&gt;lo_exception-&gt;add_sy_message( ).
  RAISE RESUMABLE EXCEPTION me-&gt;lo_exception.
END-OF-DEFINITION.</localMacros>
  <inheritance CLSNAME="ZCL_FI_FSV_API" REFCLSNAME="ZCL_FI_GLMAST_API" VERSION="1" STATE="1">
   <redefinition CLSNAME="ZCL_FI_FSV_API" REFCLSNAME="ZCL_FI_GLMAST_API" VERSION="1" MTDNAME="ZIF_MASTERDATA~EXISTENCECHECK" EXPOSURE="0"/>
   <redefinition CLSNAME="ZCL_FI_FSV_API" REFCLSNAME="ZCL_FI_GLMAST_API" VERSION="1" MTDNAME="ZIF_MASTERDATA~MAINTAIN" EXPOSURE="0"/>
   <redefinition CLSNAME="ZCL_FI_FSV_API" REFCLSNAME="ZCL_FI_GLMAST_API" VERSION="1" MTDNAME="ZIF_MASTERDATA~READ_DATA" EXPOSURE="0"/>
   <redefinition CLSNAME="ZCL_FI_FSV_API" REFCLSNAME="ZCL_FI_GLMAST_API" VERSION="0" MTDNAME="_SAVE" EXPOSURE="1"/>
  </inheritance>
  <interfaceMethod CLSNAME="ZCL_FI_FSV_API" CPDNAME="ZIF_MASTERDATA~EXISTENCECHECK">
   <source>METHOD zif_masterdata~existencecheck.

    DATA ls_data TYPE fagl_011zc.

    super-&gt;zif_masterdata~existencecheck( ).

    me-&gt;zif_masterdata~read_data( IMPORTING es_data = ls_data ).


  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_FI_FSV_API" CPDNAME="ZIF_MASTERDATA~MAINTAIN">
   <source>METHOD zif_masterdata~maintain.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    me-&gt;dummy = SWITCH #( me-&gt;get_mode( )
                  WHEN action-insert OR action-update
                  THEN me-&gt;check_auth_glmast( )
                  ELSE THROW zcx_fi_general(
                              textid  = zcx_fi_general=&gt;wrong_mode_fsv
                              gv_mode = me-&gt;get_mode( )
                                           )
                       ).

    me-&gt;check_data( ).

    r_result = me-&gt;_save( ).

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_FI_FSV_API" CPDNAME="ZIF_MASTERDATA~READ_DATA">
   <source>METHOD zif_masterdata~read_data.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA(l_versn) = me-&gt;get_versn( ).
    DATA(l_saknr) = me-&gt;get_saknr( ).

    SELECT * FROM fagl_011zc
      UP TO 1 ROWS
        INTO es_data
        WHERE versn = l_versn
        AND   vonkt &lt;= l_saknr
        AND   biskt &gt;= l_saknr.
    ENDSELECT.

    CHECK sy-subrc &lt;&gt; 0.

    MESSAGE e095 WITH |{ l_saknr ALPHA = OUT }| l_versn INTO me-&gt;dummy.

    _mac_raise.

  ENDMETHOD.</source>
  </interfaceMethod>
  <method CLSNAME="ZCL_FI_FSV_API" CMPNAME="GET_ERGSL" VERSION="1" LANGU="E" DESCRIPT="Get FSV Position" EXPOSURE="0" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_FSV_API" CMPNAME="GET_ERGSL" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ERGSL"/>
   <source>METHOD get_ergsl.
    r_result = me-&gt;lv_ergsl.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_FSV_API" CMPNAME="GET_VERSN" VERSION="1" LANGU="E" DESCRIPT="Get FSV Version" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_FSV_API" CMPNAME="GET_VERSN" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="VERSN_011"/>
   <source>METHOD get_versn.
    r_result = me-&gt;lv_versn.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_SAVE" VERSION="0" EXPOSURE="0" STATE="0" EDITORDER="0 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD _save.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    ASSERT me-&gt;get_ktopl( ) AND me-&gt;get_ergsl( ).

    DATA ls_data TYPE fagl_011zc.

* check if the GL account is assigned or not to the FSV
    TRY.
        me-&gt;zif_masterdata~read_data(
          IMPORTING
            es_data = ls_data
        ).

      CATCH BEFORE UNWIND zcx_fi_general INTO DATA(lo_exception).
        DATA(is_assign) = xsdbool( ls_data IS INITIAL ).
        CHECK lo_exception-&gt;is_resumable = abap_true.
        RESUME.
    ENDTRY.


    IF is_assign IS NOT INITIAL.
      &quot;not assigned to the FSV yet -&gt; Assign to the FSV
      CALL FUNCTION &apos;ZFI_GL_ASSIGN_FSV&apos;
        EXPORTING
          iv_versn        = me-&gt;get_versn( )
          iv_ktopl        = me-&gt;get_ktopl( )
          iv_saknr        = me-&gt;get_saknr( )
          iv_ergsl        = me-&gt;get_ergsl( )
          iv_commit       = me-&gt;get_commit( )
        IMPORTING
          ev_ok           = r_result
        EXCEPTIONS
          ex_no_authority = 1
          ex_gl_no_exist  = 2
          ex_load_error   = 3
          ex_read_error   = 4
          ex_lock_error   = 5
          ex_save_error   = 6
          OTHERS          = 7.

    ELSE.           &quot;already assigned to the FSV
      &quot;check the hierarchy node reassignment is different from the existing node
      CHECK ls_data-ergsl &lt;&gt; me-&gt;get_ergsl( ).

      &quot; Now Reassign to a different reporting Hierarchy node of the FSV
      CALL FUNCTION &apos;ZFI_GL_REASSIGN_FSV&apos;
        EXPORTING
          iv_versn        = me-&gt;get_versn( )
          iv_ktopl        = me-&gt;get_ktopl( )
          iv_saknr        = me-&gt;get_saknr( )
          iv_ergsl        = me-&gt;get_ergsl( )
          iv_commit       = me-&gt;get_commit( )
        IMPORTING
          ev_ok           = r_result
        EXCEPTIONS
          ex_no_authority = 1
          ex_gl_no_exist  = 2
          ex_gl_no_assign = 3
          ex_load_error   = 4
          ex_read_error   = 5
          ex_lock_error   = 6
          ex_move_error   = 7
          ex_save_error   = 8
          OTHERS          = 9.

    ENDIF.

    CHECK sy-subrc &lt;&gt; 0 OR r_result IS INITIAL.

    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
      WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
      INTO me-&gt;dummy.

    _mac_raise.

  ENDMETHOD.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_FI_GLMAST_API" VERSION="1" LANGU="E" DESCRIPT="API for FI GL Master Data" CATEGORY="00" EXPOSURE="1" STATE="1" RELEASE="0" CLSCCINCL="X" FIXPT="X" UNICODE="X" RSTAT="K" CLSBCCAT="00" MSG_ID="ZFI" WITH_UNIT_TESTS="X" DURATION_TYPE="0 " RISK_LEVEL="0 " ZSAPLINK_PLUGIN_MAJOR_VERSION="0 " ZSAPLINK_PLUGIN_MINOR_VERSION="1 " ZSAPLINK_PLUGIN_BUILD_VERSION="0 " ZSAPLINK_PLUGIN_INFO1="ZSAPLINK_CLASS is part of the main ZSAPLINK project --&gt; This plugin found there instead of ZSAPLINK_PLUGINS projects" ZSAPLINK_PLUGIN_INFO2="SAPLINK homepage: https://www.assembla.com/spaces/saplink/wiki" ZSAPLINK_PLUGIN_INFO3="Download from https://www.assembla.com/code/saplink/subversion/nodes" ZSAPLINK_PLUGIN_INFO4="and navigate to:  trunk -&gt; core -&gt; ZSAPLINK -&gt; CLAS -&gt; ZSAPLINK_CLASS.slnk" REFCLSNAME="ZCL_FICO_MASTERDATA">
  <friends CLSNAME="ZCL_FI_GLMAST_API" REFCLSNAME="ZCL_FICO_MASTERDATA" FRIENDTYPE="0" VERSION="1" STATE="1"/>
  <localImplementation>*&quot;* use this source file for the definition and implementation of
*&quot;* local helper classes, interface definitions and type
*&quot;* declarations</localImplementation>
  <localTypes>*&quot;* use this source file for any type of declarations (class
*&quot;* definitions, interfaces or type declarations) you need for
*&quot;* components in the private section

TYPES ra_mode TYPE RANGE OF glaccount_action.</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class

DEFINE _mac_raise.
  me-&gt;lo_exception = NEW #( gv_symsg = CORRESPONDING #( sy ) ).
  me-&gt;lo_exception-&gt;add_sy_message( ).
  RAISE RESUMABLE EXCEPTION me-&gt;lo_exception.
END-OF-DEFINITION.

DEFINE _mac_raise_multi.
  DELETE ADJACENT DUPLICATES FROM &amp;1 COMPARING ALL FIELDS.
  &amp;1 = zcl_com_bapireturn_services=&gt;add_errors_to_bapiret( &amp;1 ).
  LOOP AT &amp;1 INTO return.
   MESSAGE ID return-id TYPE return-type NUMBER return-number
        WITH  return-message_v1 return-message_v2 return-message_v3 return-message_v4
        INTO  dummy.
   AT FIRST.
    me-&gt;lo_exception = NEW #( ).
   ENDAT.
   me-&gt;lo_exception-&gt;add_sy_message( ).
   AT LAST.
    RAISE RESUMABLE EXCEPTION me-&gt;lo_exception.
   ENDAT.
  ENDLOOP.
END-OF-DEFINITION.</localMacros>
  <localTestClasses>*&quot;* use this source file for your ABAP unit test classes
CLASS lcl_unit_test DEFINITION DEFERRED.
CLASS zcl_fi_glmast_api DEFINITION LOCAL FRIENDS lcl_unit_test.

CLASS lcl_unit_test DEFINITION FOR TESTING
  DURATION SHORT
  RISK LEVEL HARMLESS
.
*?﻿&lt;asx:abap xmlns:asx=&quot;http://www.sap.com/abapxml&quot; version=&quot;1.0&quot;&gt;
*?&lt;asx:values&gt;
*?&lt;TESTCLASS_OPTIONS&gt;
*?&lt;TEST_CLASS&gt;lcl_Unit_Test
*?&lt;/TEST_CLASS&gt;
*?&lt;TEST_MEMBER&gt;f_Cut
*?&lt;/TEST_MEMBER&gt;
*?&lt;OBJECT_UNDER_TEST&gt;ZCL_FI_GLMAST_FACTORY
*?&lt;/OBJECT_UNDER_TEST&gt;
*?&lt;OBJECT_IS_LOCAL/&gt;
*?&lt;GENERATE_FIXTURE&gt;X
*?&lt;/GENERATE_FIXTURE&gt;
*?&lt;GENERATE_CLASS_FIXTURE&gt;X
*?&lt;/GENERATE_CLASS_FIXTURE&gt;
*?&lt;GENERATE_INVOCATION&gt;X
*?&lt;/GENERATE_INVOCATION&gt;
*?&lt;GENERATE_ASSERT_EQUAL&gt;X
*?&lt;/GENERATE_ASSERT_EQUAL&gt;
*?&lt;/TESTCLASS_OPTIONS&gt;
*?&lt;/asx:values&gt;
*?&lt;/asx:abap&gt;
  PRIVATE SECTION.
    DATA:
      f_cut TYPE REF TO zcl_fi_glmast_api.  &quot;class under test

    CLASS-METHODS: class_setup.
    CLASS-METHODS: class_teardown.
    METHODS: setup.
    METHODS: teardown.
    &quot;METHODS: read_comitem FOR TESTING.
    &quot;METHODS: maintain_comitem FOR TESTING.
    METHODS maintain_costelem FOR TESTING.
    METHODS fsv FOR TESTING.
ENDCLASS.       &quot;lcl_Unit_Test


CLASS lcl_unit_test IMPLEMENTATION.

  METHOD class_setup.



  ENDMETHOD.


  METHOD class_teardown.



  ENDMETHOD.


  METHOD setup.

    DATA iv_saknr TYPE saknr VALUE &apos;569999&apos;.
    DATA iv_mode TYPE glaccount_action VALUE &apos;U&apos;. &quot;IS INITIAL.
    DATA iv_ktopl TYPE ktopl VALUE &apos;1020&apos;.

    TRY.
        CREATE OBJECT f_cut
          EXPORTING
            iv_saknr = iv_saknr.
        &quot;iv_ktopl = iv_ktopl
*            iv_mode  = iv_mode.
      CATCH zcx_fi_general INTO DATA(lx_exception). &quot; General Exception Object for FI
        cl_abap_unit_assert=&gt;abort(
              msg    = lx_exception-&gt;get_text( )          &quot; Description
          ).
    ENDTRY.

    &quot;for testing only -- to test create cost element with an existing GL
    &quot;f_cut-&gt;set_mode( f_cut-&gt;action-insert ).

  ENDMETHOD.


  METHOD teardown.



  ENDMETHOD.


*  METHOD read_comitem.
*
*    DATA iv_fikrs TYPE fikrs.
*    DATA iv_comitem TYPE fm_fipex.
*    DATA es_text TYPE fmcit.
*    DATA es_hier TYPE fmhici.
*    DATA rs_result TYPE fmci.
*
*    TRY.
*        rs_result = f_cut-&gt;read_comitem(
**     EXPORTING
**       IV_FIKRS = iv_Fikrs
**       IV_COMITEM = iv_Comitem
*         IMPORTING
*           es_text = es_text
*           es_hier = es_hier
*        ).
*      CATCH zcx_fi_general INTO DATA(lx_exception).
*        &quot;handle exception
*        cl_abap_unit_assert=&gt;abort(
*            msg    = lx_exception-&gt;get_text( )          &quot; Description
*        ).
*    ENDTRY.
*
*    cl_abap_unit_assert=&gt;assert_equals(
*      act   = xsdbool( es_text IS NOT INITIAL AND es_hier IS NOT INITIAL AND rs_result IS NOT INITIAL )
*      exp   = abap_true &quot;et_Texts          &quot;&lt;--- please adapt expected value
*    &quot; msg   = &apos;Testing value et_Texts&apos;
**     level =
*    ).
*
*  ENDMETHOD.




*  METHOD maintain_comitem.
*
*    TRY.
*        f_cut-&gt;maintain_comitem(
*          EXPORTING
**         iv_fikrs    = tafe_fm_area     &quot; FM Area
*            iv_ref      = &apos;560007&apos; &quot;&apos;562999&apos;                 &quot; Create with Reference
*            iv_simulate = abap_false        &quot; Test mode (Create only)
**         is_fmci     =                  &quot; Commitment Item Master Data
**         is_fmcit    =                  &quot; Commitment Item Text
**         is_fmzubsp  =                  &quot; Assign Budget Structure Element
*          RECEIVING
*            r_result    = DATA(ok)                 &quot; True = Successfully maintained
*        ).
*      CATCH zcx_fi_general INTO DATA(lx_exception). &quot; General Exception Object for FI
*        cl_abap_unit_assert=&gt;abort(
*              msg    = lx_exception-&gt;get_text( )          &quot; Description
*          ).
*    ENDTRY.
*
*    cl_abap_unit_assert=&gt;assert_equals(
*      act   = ok
*      exp   = abap_true &quot;et_Texts          &quot;&lt;--- please adapt expected value
*    &quot; msg   = &apos;Testing value et_Texts&apos;
**     level =
*    ).
*
*  ENDMETHOD.

  METHOD maintain_costelem.

*    TRY.
*        f_cut-&gt;maintain_costelem(
*       EXPORTING
**         iv_coarea   = tafe_co_area     &quot; Controlling Area
**         iv_class    = &apos;1&apos;              &quot; Cost Element Classification (Primary/Secondary)
*         iv_simulate = abap_false        &quot; Test mode
*         iv_ref      = &apos;520718&apos;                 &quot; Create with Reference
**         is_costelem =                  &quot; Cost Element details
*          RECEIVING
*            r_result    = DATA(ok)                 &quot; True = Successfully maintained
*        ).
*      CATCH zcx_fi_general INTO DATA(lx_exception). &quot; General Exception Object for FI
*        cl_abap_unit_assert=&gt;abort(
*              msg    = lx_exception-&gt;get_text( )          &quot; Description
*          ).
*    ENDTRY.
*
*    cl_abap_unit_assert=&gt;assert_equals(
*      act   = ok
*      exp   = abap_true &quot;et_Texts          &quot;&lt;--- please adapt expected value
*    &quot; msg   = &apos;Testing value et_Texts&apos;
**     level =
*    ).
  ENDMETHOD.

  METHOD fsv.

    DATA l_version TYPE versn_011 VALUE &apos;1020&apos;.
    DATA l_ergsl   TYPE ergsl VALUE &apos;137&apos;.
    DATA l_ok TYPE c.
break 11034616.
*    TRY.
*      zcl_fi_glmast_factory=&gt;create(
*        EXPORTING
*          iv_saknr      = |569999|
*          iv_ktopl      = &apos;1000&apos; &quot;tafe_group_coa
**          iv_bukrs      = tafe_comp_code
**          is_coa_data   =
**          is_ccode_data =
**          is_acct_name  =
**          iv_keyword    =
**          iv_mode       = |U| &quot;gl_action-insert
**          iv_simulate   = abap_false
**          iv_wait       = abap_true
**        RECEIVING
**          r_result      =
*      )-&gt;assign_fsv(
*        EXPORTING
**          iv_versn = tafe_fsv-tafe_fsv
*          iv_ergsl = l_ergsl
*        RECEIVING
*          r_result = l_ok
*      ).
**      CATCH zcx_fi_general. &quot; General Exception Object for FI.
*      CATCH zcx_fi_general INTO DATA(lx_exception). &quot; General Exception Object for FI
*        cl_abap_unit_assert=&gt;abort(
*          msg    = lx_exception-&gt;get_text( )          &quot; Description
*      ).
*    ENDTRY.
*
*    cl_abap_unit_assert=&gt;assert_equals(
*      act   = l_ok
*      exp   = abap_true &quot;et_Texts          &quot;&lt;--- please adapt expected value
*    &quot; msg   = &apos;Testing value et_Texts&apos;
**     level =
*    ).
  ENDMETHOD.

ENDCLASS.</localTestClasses>
  <attribute CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="LS_ACCT_NAME" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="5 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GLACCOUNT_NAME_DATA" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="LS_CCODE_DATA" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="4 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_DATA" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="LS_CCODE_REFACCT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_KEY" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="LS_COA_DATA" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GLACCOUNT_COA_DATA" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="LS_COA_MAPPED" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="6 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GLACCOUNT_COA" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="LS_COA_REFACCT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GLACCOUNT_COA_KEY" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="LT_CCODE_MAPPED" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="7 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_TABLE" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="LT_KW_MAPPED" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="8 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GLACCOUNT_KEYWORD_TABLE" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="LT_NAME_MAPPED" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="9 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GLACCOUNT_NAME_TABLE" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="LV_BUKRS" VERSION="1" LANGU="E" EXPOSURE="1" STATE="1" EDITORDER="4 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BUKRS" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="LV_ERGSL" VERSION="1" LANGU="E" EXPOSURE="1" STATE="1" EDITORDER="6 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="ERGSL" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="LV_KEYWORD" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="10 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="SCHLW" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="LV_KTOPL" VERSION="1" LANGU="E" EXPOSURE="1" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="KTOPL" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="LV_REF" VERSION="1" LANGU="E" EXPOSURE="1" STATE="1" EDITORDER="1 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="SAKNR" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="LV_SAKNR" VERSION="1" LANGU="E" EXPOSURE="1" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="SAKNR" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="LV_VERSN" VERSION="1" LANGU="E" EXPOSURE="1" STATE="1" EDITORDER="5 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="VERSN_011" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <inheritance CLSNAME="ZCL_FI_GLMAST_API" REFCLSNAME="ZCL_FICO_MASTERDATA" VERSION="1" STATE="1">
   <redefinition CLSNAME="ZCL_FI_GLMAST_API" REFCLSNAME="ZCL_FICO_MASTERDATA" VERSION="0" MTDNAME="CHECK_MODE" EXPOSURE="1"/>
   <redefinition CLSNAME="ZCL_FI_GLMAST_API" REFCLSNAME="ZCL_FICO_MASTERDATA" VERSION="1" MTDNAME="ZIF_MASTERDATA~EXISTENCECHECK" EXPOSURE="0"/>
   <redefinition CLSNAME="ZCL_FI_GLMAST_API" REFCLSNAME="ZCL_FICO_MASTERDATA" VERSION="1" MTDNAME="ZIF_MASTERDATA~MAINTAIN" EXPOSURE="0"/>
   <redefinition CLSNAME="ZCL_FI_GLMAST_API" REFCLSNAME="ZCL_FICO_MASTERDATA" VERSION="1" MTDNAME="ZIF_MASTERDATA~READ_DATA" EXPOSURE="0"/>
  </inheritance>
  <interfaceMethod CLSNAME="ZCL_FI_GLMAST_API" CPDNAME="ZIF_MASTERDATA~EXISTENCECHECK">
   <source>METHOD zif_masterdata~existencecheck.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    r_result = COND #( LET l_ktopl = me-&gt;get_ktopl( )
                           l_bukrs = me-&gt;get_bukrs( ) IN
                       WHEN l_ktopl IS INITIAL AND l_bukrs IS INITIAL
                       THEN me-&gt;check_gl( )
                       WHEN l_ktopl IS NOT INITIAL AND l_bukrs IS NOT INITIAL
                       THEN me-&gt;check_gl_coa_ccode(  )
                       WHEN l_ktopl IS NOT INITIAL
                       THEN me-&gt;check_gl_coa( VALUE #( saknr = me-&gt;get_saknr( ) ktopl = l_ktopl ) )
                       WHEN l_bukrs IS NOT INITIAL
                       THEN me-&gt;check_gl_ccode( VALUE #( saknr = me-&gt;get_saknr( ) bukrs = l_bukrs ) )
                       ELSE THROW RESUMABLE zcx_fi_general(     &quot;Resumable because sometimes the caller may not care about the existence
                                              textid    = zcx_fi_general=&gt;incorrect_params
                                                          )
                    ).

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_FI_GLMAST_API" CPDNAME="ZIF_MASTERDATA~MAINTAIN">
   <source>METHOD zif_masterdata~maintain.
    r_result = me-&gt;maintain( iv_ref ).
  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_FI_GLMAST_API" CPDNAME="ZIF_MASTERDATA~READ_DATA">
   <source>METHOD zif_masterdata~read_data.
    es_data = me-&gt;read_glmast( ).
  ENDMETHOD.</source>
  </interfaceMethod>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_AUTH_GLMAST" VERSION="1" LANGU="E" DESCRIPT="Check Read/Write Authorisation" EXPOSURE="1" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_AUTH_GLMAST" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_AUTH_GLMAST" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD check_auth_glmast.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    IF me-&gt;get_mode( ) = action-insert OR me-&gt;get_mode( ) = action-update.
      CHECK NOT me-&gt;get_simulate( ).
    ENDIF.

    CALL FUNCTION &apos;GL_ACCT_UTIL_CHECK_AUTHORITY&apos;
      EXPORTING
        x_chart_of_accounts = CONV xfeld( xsdbool( me-&gt;get_ktopl( ) OR me-&gt;_is_coa_byref( ) ) )
        x_company_code      = CONV xfeld( xsdbool( me-&gt;get_bukrs( ) OR me-&gt;_is_ccode_byref( ) ) )
        chart_of_accounts   = COND #( WHEN me-&gt;get_ktopl( )
                                      THEN me-&gt;get_ktopl( )
                                      ELSE me-&gt;get_coa_refacct( )-ktopl
                                    )
        company_code        = COND #( WHEN me-&gt;get_bukrs( )
                                      THEN me-&gt;get_bukrs( )
                                      ELSE me-&gt;get_ccode_refacct( )-bukrs
                                    )
        authorization_group = me-&gt;read_skb1(
                                VALUE #( bukrs = COND #(
                                                  WHEN me-&gt;get_bukrs( )
                                                  THEN me-&gt;get_bukrs( )
                                                  ELSE me-&gt;get_ccode_refacct( )-bukrs
                                                       )
                                         saknr = me-&gt;get_saknr( )
                                       )
                                           )-begru
        activity            = SWITCH #( me-&gt;get_mode( )
                                WHEN action-read OR space
                                THEN auth_actvt-read
                                ELSE auth_actvt-update
                                      )
      EXCEPTIONS
        no_authority        = 1
        OTHERS              = 2.

    r_result = xsdbool( sy-subrc = 0 ).

    CHECK sy-subrc &lt;&gt; 0.

    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
      WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
      INTO me-&gt;dummy.

    _mac_raise.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_BUKRS" VERSION="1" LANGU="E" DESCRIPT="Check Company Code" EXPOSURE="1" STATE="1" EDITORDER="9 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <exception CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_BUKRS" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD check_bukrs.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    CHECK me-&gt;get_bukrs( ).

    TRY.
        NEW cl_company_code( me-&gt;get_bukrs( ) ).

      CATCH cx_company_code.
        MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
          WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
          INTO dummy.

        _mac_raise.
    ENDTRY.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_DATA" VERSION="1" LANGU="E" DESCRIPT="Check the data passed from outside" EXPOSURE="1" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <exception CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_DATA" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
   <source>METHOD check_data.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    me-&gt;check_mode( ).

    TRY.
        me-&gt;dummy = SWITCH boole_d( me-&gt;get_mode( )
                      WHEN action-insert
                      THEN COND #( WHEN me-&gt;zif_masterdata~existencecheck( )
                                   THEN THROW zcx_fi_general(
                                                textid    = zcx_fi_general=&gt;gl_exists
                                                gv_saknr  = me-&gt;get_saknr( )
                                                             )
                                   ELSE abap_false
                                 )
                      WHEN action-update OR action-delete OR action-block
                      THEN me-&gt;zif_masterdata~existencecheck( )
                      WHEN action-read
                      THEN me-&gt;zif_masterdata~existencecheck( )
                      ELSE THROW zcx_fi_general(
                                  textid    = zcx_fi_general=&gt;wrong_mode
                                  gv_mode   = me-&gt;get_mode( )
                                               )
                                 ).

      CATCH BEFORE UNWIND zcx_fi_general INTO DATA(lr_exception).
        IF lr_exception-&gt;is_resumable = abap_false.
          RAISE EXCEPTION TYPE zcx_fi_general
            EXPORTING
              textid   = SWITCH #( me-&gt;get_mode( )
                          WHEN action-insert
                          THEN zcx_fi_general=&gt;gl_exists
                          ELSE zcx_fi_general=&gt;gl_not_exist
                                 )
              gv_saknr = lr_exception-&gt;gv_saknr.
        ELSE.       &quot;Note that Resumable exception is raised here
          IF me-&gt;get_mode( ) = action-insert.
            RESUME.
          ELSE.
            _mac_raise.
          ENDIF.
        ENDIF.
    ENDTRY.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_GL" VERSION="1" LANGU="E" DESCRIPT="Check GL Account exist" EXPOSURE="1" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_GL" SCONAME="IV_SAKNR" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="SAKNR" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_GL" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_GL" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
   <source>METHOD check_gl.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA(l_saknr) = COND #( WHEN iv_saknr IS INITIAL
                            THEN me-&gt;get_saknr( )
                            ELSE |{ iv_saknr ALPHA = IN }|
                          ).

    SELECT COUNT(*)
        FROM ska1 BYPASSING BUFFER
        WHERE saknr = l_saknr.

    r_result = xsdbool( sy-dbcnt &gt; 0 ).

    CHECK r_result = abap_false.

    SELECT COUNT(*)
       FROM skb1 BYPASSING BUFFER
       WHERE saknr = l_saknr.

    r_result = xsdbool( sy-dbcnt &gt; 0 ).

    CHECK r_result = abap_false.

    MESSAGE e089 WITH me-&gt;get_saknr( ) INTO DATA(var).

    _mac_raise.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_GL_CCODE" VERSION="1" LANGU="E" DESCRIPT="Check GL Account exist in the Company Code" EXPOSURE="0" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_GL_CCODE" SCONAME="IS_CCODE_KEY" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_KEY" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_GL_CCODE" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_GL_CCODE" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
   <source>METHOD check_gl_ccode.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    CHECK is_ccode_key IS NOT INITIAL.

    r_result = xsdbool( me-&gt;read_skb1( is_ccode_key ) ).

    CHECK r_result IS INITIAL.

    MESSAGE e003(zfi_glmast) WITH |{ is_ccode_key-saknr ALPHA = OUT }| is_ccode_key-bukrs  INTO dummy.

    _mac_raise.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_GL_COA" VERSION="1" LANGU="E" DESCRIPT="Check GL Account exist in the COA" EXPOSURE="0" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_GL_COA" SCONAME="IS_COA_KEY" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_COA_KEY" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_GL_COA" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_GL_COA" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
   <source>METHOD check_gl_coa.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    CHECK is_coa_key IS NOT INITIAL.

    r_result = xsdbool( me-&gt;read_ska1( is_coa_key ) ).

    CHECK r_result IS INITIAL.

    MESSAGE e002(zfi_glmast) WITH |{ is_coa_key-saknr ALPHA = OUT }| is_coa_key-ktopl INTO dummy.

    _mac_raise.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_GL_COA_CCODE" VERSION="1" LANGU="E" DESCRIPT="Check GL Account in both COA and Company Code" EXPOSURE="0" STATE="1" EDITORDER="18 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_GL_COA_CCODE" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_GL_COA_CCODE" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
   <source>METHOD check_gl_coa_ccode.

    r_result = me-&gt;check_gl_coa( VALUE #( saknr = me-&gt;get_saknr( ) ktopl = me-&gt;get_ktopl( ) ) ).
    r_result = me-&gt;check_gl_ccode( VALUE #( saknr = me-&gt;get_saknr( ) bukrs = me-&gt;get_bukrs( ) ) ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_KTOPL" VERSION="1" LANGU="E" DESCRIPT="Check Chart of Accounts" EXPOSURE="1" STATE="1" EDITORDER="8 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <exception CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_KTOPL" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD check_ktopl.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    CHECK me-&gt;get_ktopl( ).

    CALL FUNCTION &apos;FI_GL_READ_CHART_OF_ACCOUNT&apos;
      EXPORTING
        i_ktopl                    = me-&gt;get_ktopl( )
      EXCEPTIONS
        chart_of_account_not_found = 1
        text_not_found             = 2
        OTHERS                     = 3.

    CHECK sy-subrc &lt;&gt; 0.

    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
      WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
      INTO dummy.

    _mac_raise.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_MAINTAIN" VERSION="1" LANGU="E" DESCRIPT="Check call to Maintain" EXPOSURE="1" STATE="1" EDITORDER="11 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <exception CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_MAINTAIN" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD check_maintain.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    IF NOT me-&gt;get_ktopl( ) AND NOT me-&gt;get_bukrs( ).
      MESSAGE e008 WITH |Either Chart of Accounts or Company Code is required to Maintain GL Master| INTO dummy.
      _mac_raise.
    ENDIF.

    CHECK me-&gt;get_mode( ) = action-update AND me-&gt;get_ref( ).

    MESSAGE e008 WITH |Maintain with Reference is only valid for &apos;Insert&apos; Mode| INTO dummy.
    _mac_raise.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="CHECK_MODE" VERSION="0" EXPOSURE="0" STATE="0" EDITORDER="0 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD check_mode.

    DATA(lt_mode) = VALUE ra_mode(
                      LET s = rsmds_c_sign-including
                          o = rsmds_c_option-equal
                      IN sign  = s
                        option = o
                     ( low = action-block )
                     ( low = action-delete )
                     ( low = action-insert )
                     ( low = action-read )
                     ( low = action-update )
                                 ).

    CHECK me-&gt;get_mode( ) NOT IN lt_mode.

    MESSAGE e008 WITH |Mode &apos;{ me-&gt;get_mode( ) }&apos; is not allowed as a value.| INTO me-&gt;dummy.

    _mac_raise.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_READ" VERSION="1" LANGU="E" DESCRIPT="Check Keys for Read" EXPOSURE="1" STATE="1" EDITORDER="10 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_READ" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CHECK_READ" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD check_read.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    me-&gt;check_gl_coa( COND #( WHEN me-&gt;get_ktopl( )
                              THEN |{ me-&gt;get_ktopl( ) }{ me-&gt;get_saknr( ) }|
                            )
                    ).

    me-&gt;check_gl_ccode( COND #( WHEN me-&gt;get_bukrs( )
                                THEN |{ me-&gt;get_bukrs( ) }{ me-&gt;get_saknr( ) }|
                              )
                      ).

    r_result = abap_true.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" DESCRIPT="GL API Object Constructor" EXPOSURE="1" STATE="1" EDITORDER="15 " DISPID="0 " MTDTYPE="2" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="CONSTRUCTOR" SCONAME="IV_SAKNR" VERSION="1" LANGU="E" DESCRIPT="GL Account" CMPTYPE="1" MTDTYPE="2" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="SAKNR"/>
   <source>METHOD constructor.

    super-&gt;constructor( ).

    me-&gt;set_saknr( iv_saknr ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="DEQUEUE" VERSION="1" LANGU="E" DESCRIPT="UnLock GL Account" EXPOSURE="0" STATE="1" EDITORDER="20 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD dequeue.

    CHECK NOT me-&gt;get_simulate( ).

    CALL FUNCTION &apos;GL_ACCT_UTIL_DEQUEUE_ALL&apos;.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="ENQUEUE" VERSION="1" LANGU="E" DESCRIPT="Lock GL Account for Update" EXPOSURE="0" STATE="1" EDITORDER="19 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <exception CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="ENQUEUE" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD enqueue.

    CHECK NOT me-&gt;get_simulate( ).

    CALL FUNCTION &apos;GL_ACCT_UTIL_ENQUEUE&apos;
      EXPORTING
        x_chart_of_accounts = abap_true
        x_names             = abap_true
        x_company_code      = abap_true
        x_cost_element      = abap_true
        gl_account_number   = me-&gt;get_saknr( )
        chart_of_accounts   = me-&gt;get_ktopl( )
        company_code        = me-&gt;get_bukrs( )
      EXCEPTIONS
        foreign_lock        = 1
        system_fail         = 2
        OTHERS              = 3.

    CHECK sy-subrc &lt;&gt; 0.

    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
      WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
      INTO dummy.

    _mac_raise.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_ACCT_NAME" VERSION="1" LANGU="E" DESCRIPT="Get GL Account Name" EXPOSURE="0" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_ACCT_NAME" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_NAME_DATA"/>
   <source>METHOD get_acct_name.
    rs_result = me-&gt;ls_acct_name.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_BUKRS" VERSION="1" LANGU="E" DESCRIPT="Get Company Code" EXPOSURE="1" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_BUKRS" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BUKRS"/>
   <source>METHOD get_bukrs.
    r_result = me-&gt;lv_bukrs.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_CCODE_DATA" VERSION="1" LANGU="E" DESCRIPT="Get Company Code data" EXPOSURE="0" STATE="1" EDITORDER="12 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_CCODE_DATA" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_DATA"/>
   <source>METHOD get_ccode_data.
    rs_result = me-&gt;ls_ccode_data.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_CCODE_REFACCT" VERSION="1" LANGU="E" DESCRIPT="Get Company Code Reference GL Account" EXPOSURE="0" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_CCODE_REFACCT" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_KEY"/>
   <source>METHOD get_ccode_refacct.
    rs_result = me-&gt;ls_ccode_refacct.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_COA_DATA" VERSION="1" LANGU="E" DESCRIPT="Get COA data" EXPOSURE="0" STATE="1" EDITORDER="11 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_COA_DATA" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_COA_DATA"/>
   <source>METHOD get_coa_data.
    rs_result = me-&gt;ls_coa_data.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_COA_REFACCT" VERSION="1" LANGU="E" DESCRIPT="Get COA Reference GL Account" EXPOSURE="0" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_COA_REFACCT" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_COA_KEY"/>
   <source>METHOD get_coa_refacct.
    rs_result = me-&gt;ls_coa_refacct.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_KEYWORD" VERSION="1" LANGU="E" DESCRIPT="Get GL Account Keyword" EXPOSURE="0" STATE="1" EDITORDER="9 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_KEYWORD" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="SCHLW"/>
   <source>METHOD get_keyword.
    r_result = me-&gt;lv_keyword.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_KTOPL" VERSION="1" LANGU="E" DESCRIPT="Get Chart of Accounts" EXPOSURE="1" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_KTOPL" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="KTOPL"/>
   <source>METHOD get_ktopl.
    r_result = me-&gt;lv_ktopl.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_KTOPL_CCODE" VERSION="1" LANGU="E" DESCRIPT="Get COA from Company Code" EXPOSURE="0" STATE="1" EDITORDER="13 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_KTOPL_CCODE" SCONAME="IV_BUKRS" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BUKRS"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_KTOPL_CCODE" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="KTOPL"/>
   <source>METHOD get_ktopl_ccode.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    TRY.
        r_result = COND #( WHEN me-&gt;get_ktopl( )
                           THEN me-&gt;get_ktopl( )
                           ELSE NEW cl_company_code( iv_bukrs )-&gt;get_chart_of_accounts( )
                         ).
      CATCH cx_company_code.
        r_result = me-&gt;get_ktopl( ).
    ENDTRY.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_REF" VERSION="1" LANGU="E" DESCRIPT="Get Reference GL Account" EXPOSURE="1" STATE="1" EDITORDER="14 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_REF" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="SAKNR"/>
   <source>METHOD get_ref.
    r_result = me-&gt;lv_ref.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_REFACCT_NAME" VERSION="1" LANGU="E" DESCRIPT="Get Reference GL Account Name" EXPOSURE="0" STATE="1" EDITORDER="8 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_REFACCT_NAME" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_NAME_DATA"/>
   <source>METHOD get_refacct_name.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA(ls_acct_name) = VALUE glaccount_name(
                            keyy = VALUE #( BASE CORRESPONDING #( me-&gt;get_coa_refacct( ) )
                                             spras = sy-langu )
                                             ).

    CALL FUNCTION &apos;GL_ACCT_MASTER_GET_NAME&apos;
      CHANGING
        account_name = ls_acct_name
      EXCEPTIONS
        not_existing = 1
        OTHERS       = 2.

    CHECK sy-subrc = 0.

    rs_result = CORRESPONDING #( ls_acct_name-data ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_REFKEYWORD" VERSION="1" LANGU="E" DESCRIPT="Get Reference GL Account Keyword" EXPOSURE="0" STATE="1" EDITORDER="10 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_REFKEYWORD" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="SCHLW"/>
   <source>METHOD get_refkeyword.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA(ls_keyword) = VALUE glaccount_keyword(
                        BASE CORRESPONDING #(
                          me-&gt;get_coa_refacct( ) EXCEPT spras )
                          spras = sy-langu ).

    CALL FUNCTION &apos;GL_ACCT_MASTER_GET_KEYWORD&apos;
      CHANGING
        account_keyword = ls_keyword
      EXCEPTIONS
        not_existing    = 1
        OTHERS          = 2.

    r_result = COND #( WHEN sy-subrc = 0 THEN ls_keyword-schlw ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_SAKNR" VERSION="1" LANGU="E" DESCRIPT="Get GL Account" EXPOSURE="1" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="GET_SAKNR" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="SAKNR"/>
   <source>METHOD get_saknr.
    r_result = |{ me-&gt;lv_saknr ALPHA = IN }|.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="MAINTAIN" VERSION="1" LANGU="E" DESCRIPT="Maintain Single GL Account Master Data" EXPOSURE="0" STATE="1" EDITORDER="15 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="MAINTAIN" SCONAME="IV_REF" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="SAKNR" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="MAINTAIN" SCONAME="R_RESULT" VERSION="1" LANGU="E" DESCRIPT="True = Success" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="MAINTAIN" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" DESCRIPT="Exception Object" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD maintain.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

* check data passed by the caller
    me-&gt;check_data( ).
* set reference account
    me-&gt;set_ref( iv_ref ).
* check reference account
    DATA(x) = COND #( WHEN me-&gt;get_ref( ) THEN me-&gt;check_gl( me-&gt;get_ref( ) ) ).
* check chart of accounts
    me-&gt;check_ktopl( ).
* check company code
    me-&gt;check_bukrs( ).
* check parameter basic syntax
    me-&gt;check_maintain( ).
* set reference account in company code
    me-&gt;set_ccode_refacct( ).
* check reference account in company code
    x =  COND #( WHEN me-&gt;get_ref( ) THEN me-&gt;check_gl_ccode( me-&gt;get_ccode_refacct( ) ) ).
* set reference account in chart of accounts
    me-&gt;set_coa_refacct( ).
* check reference account in chart of accounts
    x = COND #( WHEN me-&gt;get_ref( ) THEN me-&gt;check_gl_coa(  me-&gt;get_coa_refacct( ) ) ).
* check authorization
    me-&gt;check_auth_glmast( ).

* maintain (create/update)
    r_result = SWITCH #( me-&gt;get_mode( )
                WHEN action-insert OR action-update OR action-delete OR action-block
                THEN me-&gt;_maintain( )
                ELSE THROW zcx_fi_general(
                            textid    = zcx_fi_general=&gt;wrong_mode
                            gv_mode   = me-&gt;get_mode( )
                            gv_string = |Maintain GL Master Data|
                                         )
                       ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="READ_GLMAST" VERSION="1" LANGU="E" DESCRIPT="Read GL Master Data for single COA and/or Comp Code" EXPOSURE="0" STATE="1" EDITORDER="14 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="READ_GLMAST" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="/EBY/PDMDGL_SBAPI_DATA"/>
   <exception CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="READ_GLMAST" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD read_glmast.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    ASSERT me-&gt;get_mode( ).

    me-&gt;check_data( ).

    me-&gt;dummy = COND #( WHEN me-&gt;check_read( )
                        THEN me-&gt;check_auth_glmast( )
                        ELSE THROW zcx_fi_general(
                                      textid   = zcx_fi_general=&gt;gl_not_exist
                                      gv_saknr = me-&gt;get_saknr( )
                                                 )
                      ).

    NEW zcl_fi_glmast_api_extend(
       )-&gt;get_detail(
            EXPORTING
              ic_saknr     = me-&gt;get_saknr( )
              ic_bukrs     = me-&gt;get_bukrs( )
              ic_ktopl     = me-&gt;get_ktopl( )
            IMPORTING
              es_bapi_data = rs_result
              es_return    = DATA(ls_return)
            ).


    DATA(lt_return) = VALUE bapiret2_t(
                        ( LINES OF COND #( WHEN ls_return IS NOT INITIAL
                                           THEN VALUE #( ( ls_return ) )
                                           ELSE VALUE #( )
                                         )
                        )
                                        ).

    _mac_raise_multi lt_return.


  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="READ_GL_BLOCKS" VERSION="1" LANGU="E" DESCRIPT="Read GL Account Blocked Indicators" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="READ_GL_BLOCKS" SCONAME="RS_RESULT" VERSION="1" LANGU="E" DESCRIPT="G/L Account blocks" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="/EBY/PDMDGL_SBAPI_BLOCKS"/>
   <exception CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="READ_GL_BLOCKS" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" DESCRIPT="Exception Object" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD read_gl_blocks.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    ASSERT me-&gt;get_ktopl( ) AND me-&gt;get_bukrs( ).

    me-&gt;check_ktopl( ).
    me-&gt;check_bukrs( ).
    me-&gt;check_data( ).

    me-&gt;dummy = COND #( WHEN me-&gt;check_read( )
                        THEN me-&gt;check_auth_glmast( )
                        ELSE THROW zcx_fi_general(
                                      textid   = zcx_fi_general=&gt;gl_not_exist
                                      gv_saknr = me-&gt;get_saknr( )
                                                 )
                      ).

    rs_result =  NEW /eby/cl_pdmdgl_bapi(
                     )-&gt;get_glacct_block_flags(
                         ic_saknr  = me-&gt;get_saknr( )
                         ic_bukrs  = me-&gt;get_bukrs( )
                         ic_ktopl  = me-&gt;get_ktopl( )
                 ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="READ_SKA1" VERSION="1" LANGU="E" DESCRIPT="Reads table SKA1 with its Key" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="READ_SKA1" SCONAME="IS_COA_KEY" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_COA_KEY" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="READ_SKA1" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="SKA1"/>
   <source>METHOD read_ska1.

    DATA(l_saknr) = COND #( WHEN is_coa_key-saknr IS INITIAL
                            THEN me-&gt;get_saknr( )
                            ELSE |{ is_coa_key-saknr ALPHA = IN }|
                          ).

    DATA(l_ktopl) = COND #( WHEN is_coa_key-ktopl IS INITIAL
                            THEN me-&gt;get_ktopl( )
                            ELSE is_coa_key-ktopl
                          ).

    SELECT SINGLE * FROM ska1
      INTO rs_result BYPASSING BUFFER
      WHERE ktopl = l_ktopl
      AND   saknr = l_saknr.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="READ_SKB1" VERSION="1" LANGU="E" DESCRIPT="Reads table SKB1 with its Key" EXPOSURE="0" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="READ_SKB1" SCONAME="IS_CCODE_KEY" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_KEY" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="READ_SKB1" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="SKB1"/>
   <source>METHOD read_skb1.

    DATA(l_saknr) = COND #( WHEN is_ccode_key-saknr IS INITIAL
                            THEN me-&gt;get_saknr( )
                            ELSE |{ is_ccode_key-saknr ALPHA = IN }|
                          ).

    DATA(l_bukrs) = COND #( WHEN is_ccode_key-bukrs IS INITIAL
                            THEN me-&gt;get_bukrs( )
                            ELSE is_ccode_key-bukrs
                          ).

    SELECT SINGLE * FROM skb1
     INTO rs_result BYPASSING BUFFER
     WHERE bukrs = l_bukrs
     AND   saknr = l_saknr.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_ACCT_NAME" VERSION="1" LANGU="E" DESCRIPT="Set GL Account Name" EXPOSURE="2" STATE="1" EDITORDER="8 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_ACCT_NAME" SCONAME="IS_ACCT_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_NAME_DATA"/>
   <source>METHOD set_acct_name.
    me-&gt;ls_acct_name = is_acct_name.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_BUKRS" VERSION="1" LANGU="E" DESCRIPT="Set Company Code" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_BUKRS" SCONAME="IV_BUKRS" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BUKRS"/>
   <source>METHOD set_bukrs.
    me-&gt;lv_bukrs = iv_bukrs.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_CCODE_DATA" VERSION="1" LANGU="E" DESCRIPT="Set Company Code data" EXPOSURE="2" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_CCODE_DATA" SCONAME="IS_CCODE_DATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_DATA"/>
   <source>METHOD set_ccode_data.
    me-&gt;ls_ccode_data = is_ccode_data.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_CCODE_REFACCT" VERSION="1" LANGU="E" DESCRIPT="Set Company Code Reference GL Account" EXPOSURE="0" STATE="1" EDITORDER="17 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_CCODE_REFACCT" SCONAME="IS_CCODE_REFACCT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_KEY" PAROPTIONL="X"/>
   <source>METHOD set_ccode_refacct.

    CHECK me-&gt;get_ref( ) AND me-&gt;get_bukrs( ).

    me-&gt;ls_ccode_refacct = COND #( WHEN is_ccode_refacct IS SUPPLIED
                                   THEN is_ccode_refacct
                                   ELSE |{ me-&gt;get_bukrs( ) }{ me-&gt;get_ref( ) }|
                                 ).
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_COA_BLOCK" VERSION="1" LANGU="E" DESCRIPT="Set Posting Block in Chart of Accounts" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_COA_BLOCK" SCONAME="IV_BLOCK" VERSION="1" LANGU="E" DESCRIPT="True = X = Block; Space = Unblock" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="XSPEB" PARVALUE="ABAP_TRUE"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_COA_BLOCK" SCONAME="R_RESULT" VERSION="1" LANGU="E" DESCRIPT="True = Set Posting Block successful" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_COA_BLOCK" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" DESCRIPT="Exception Object" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD set_coa_block.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    ASSERT me-&gt;get_ktopl( ).

    me-&gt;check_ktopl( ).
    me-&gt;check_data( ).

    me-&gt;dummy = SWITCH #( me-&gt;get_mode( )
                 WHEN action-update
                 THEN me-&gt;check_auth_glmast( )
                 ELSE THROW zcx_fi_general(
                             textid  = zcx_fi_general=&gt;wrong_mode_del
                             gv_mode = me-&gt;get_mode( )
                                          )
                        ).

    me-&gt;set_coa_data( COND #( WHEN NOT me-&gt;get_coa_data( )
                              THEN VALUE #( BASE CORRESPONDING #(
                      me-&gt;read_ska1( VALUE #(
                            ktopl = me-&gt;get_ktopl( )
                            saknr = me-&gt;get_saknr( )
                                            )
                                   )
                                                 )
                      xspeb = iv_block
                                          )
                           )
                   ).

    r_result = me-&gt;_maintain( ).


  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_COA_DATA" VERSION="1" LANGU="E" DESCRIPT="Set COA data" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_COA_DATA" SCONAME="IS_COA_DATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_COA_DATA"/>
   <source>METHOD set_coa_data.
    me-&gt;ls_coa_data = is_coa_data.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_COA_DELETE" VERSION="1" LANGU="E" DESCRIPT="Set Deletion Flag in Chart of Accounts" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_COA_DELETE" SCONAME="IV_DEL" VERSION="1" LANGU="E" DESCRIPT="X = Set delete; Space = Clear delete flag" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="XLOEV" PARVALUE="ABAP_TRUE"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_COA_DELETE" SCONAME="R_RESULT" VERSION="1" LANGU="E" DESCRIPT="True = Set delete successful" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_COA_DELETE" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" DESCRIPT="Exception Object" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD set_coa_delete.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    ASSERT me-&gt;get_ktopl( ).

    me-&gt;check_ktopl( ).
    me-&gt;check_data( ).

    me-&gt;dummy = SWITCH #( me-&gt;get_mode( )
                 WHEN action-update
                 THEN me-&gt;check_auth_glmast( )
                 ELSE THROW zcx_fi_general(
                             textid  = zcx_fi_general=&gt;wrong_mode_del
                             gv_mode = me-&gt;get_mode( )
                                          )
                        ).

    me-&gt;set_coa_data( COND #( WHEN NOT me-&gt;get_coa_data( )
                              THEN VALUE #( BASE CORRESPONDING #(
                      me-&gt;read_ska1( VALUE #(
                            ktopl = me-&gt;get_ktopl( )
                            saknr = me-&gt;get_saknr( )
                                            )
                                   )
                                                 )
                      xloev = iv_del
                                          )
                           )
                   ).

    r_result = me-&gt;_maintain( ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_COA_REFACCT" VERSION="1" LANGU="E" DESCRIPT="Set COA Reference GL Account" EXPOSURE="0" STATE="1" EDITORDER="16 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_COA_REFACCT" SCONAME="IS_COA_REFACCT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_COA_KEY" PAROPTIONL="X"/>
   <source>METHOD set_coa_refacct.

    CHECK me-&gt;get_ref( ) AND me-&gt;get_ktopl( ).

    me-&gt;ls_coa_refacct = COND #( WHEN is_coa_refacct IS SUPPLIED
                                 THEN is_coa_refacct
                                 ELSE |{ me-&gt;get_ktopl( ) }{ me-&gt;get_ref( ) }|
                               ).
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_ERGSL" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="11 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_ERGSL" SCONAME="IV_ERGSL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ERGSL"/>
   <source>METHOD set_ergsl.
    me-&gt;lv_ergsl = iv_ergsl.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_KEYWORD" VERSION="1" LANGU="E" DESCRIPT="Set GL Account Keyword" EXPOSURE="2" STATE="1" EDITORDER="9 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_KEYWORD" SCONAME="IV_KEYWORD" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="SCHLW"/>
   <source>METHOD set_keyword.
    me-&gt;lv_keyword = iv_keyword.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_KTOPL" VERSION="1" LANGU="E" DESCRIPT="Set Chart of Accounts" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_KTOPL" SCONAME="IV_KTOPL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="KTOPL"/>
   <source>METHOD set_ktopl.
    me-&gt;lv_ktopl = iv_ktopl.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_REF" VERSION="1" LANGU="E" DESCRIPT="Set Reference GL Account" EXPOSURE="1" STATE="1" EDITORDER="12 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_REF" SCONAME="IV_REF" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY"/>
   <source>METHOD set_ref.
    me-&gt;lv_ref = |{ iv_ref ALPHA = IN }|.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_SAKNR" VERSION="1" LANGU="E" DESCRIPT="Set GL Account" EXPOSURE="1" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_SAKNR" SCONAME="IV_SAKNR" VERSION="1" LANGU="E" DESCRIPT="GL Account" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="SAKNR"/>
   <source>METHOD set_saknr.
    me-&gt;lv_saknr = |{ iv_saknr ALPHA = IN }|.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_VERSN" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="10 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="SET_VERSN" SCONAME="IV_VERSN" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="VERSN_011"/>
   <source>METHOD set_versn.
    me-&gt;lv_versn = iv_versn.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_ACCT_NAME_MAPPER" VERSION="1" LANGU="E" DESCRIPT="Mapping for Account Name" EXPOSURE="0" STATE="1" EDITORDER="32 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_ACCT_NAME_MAPPER" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_NAME_TABLE"/>
   <source>METHOD _acct_name_mapper.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    rt_result = VALUE #(
                 ( keyy = VALUE #( ktopl = me-&gt;get_ktopl_ccode( me-&gt;get_bukrs( ) )
                                   saknr = me-&gt;get_saknr( )
                                   spras = sy-langu
                                 )
                   data = COND #( LET ls_refacct_name = me-&gt;get_refacct_name( ) IN
                                  WHEN me-&gt;_is_coa_byref( ) AND NOT me-&gt;get_acct_name( )
                                  THEN CORRESPONDING #( ls_refacct_name )
                                  ELSE CORRESPONDING #( me-&gt;get_acct_name( ) )
                                )
                   action = COND #( WHEN me-&gt;get_ktopl( ) AND NOT me-&gt;get_bukrs( )
                                    THEN me-&gt;get_mode( )
                                    WHEN me-&gt;get_bukrs( ) AND NOT me-&gt;get_ktopl( )
                                    THEN space           &quot;initialising when maintained in CCode (and not COA)
                                    ELSE me-&gt;get_mode( )
                                 )
                 )
                       ).

    DELETE rt_result WHERE data IS INITIAL.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_CCODE_MAPPER" VERSION="1" LANGU="E" DESCRIPT="Mapping for Company Code" EXPOSURE="0" STATE="1" EDITORDER="35 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_CCODE_MAPPER" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_TABLE"/>
   <source>METHOD _ccode_mapper.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    CHECK me-&gt;get_bukrs( ).

    rt_result = VALUE #(                                        ##ENH_OK
                 ( keyy = VALUE #( bukrs = me-&gt;get_bukrs( )
                                   saknr = me-&gt;get_saknr( ) )
                   data = COND #( WHEN me-&gt;_is_ccode_byref( ) AND NOT me-&gt;get_ccode_data( )
                                  THEN CORRESPONDING #( me-&gt;read_skb1( CORRESPONDING #( me-&gt;get_ccode_refacct( ) ) ) )
                                  ELSE me-&gt;get_ccode_data( )
                                )
                   info  = VALUE #( erdat = sy-datum
                                    ernam = sy-uname )
                   action = me-&gt;get_mode( )
                 )
                       ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_COA_MAPPER" VERSION="1" LANGU="E" DESCRIPT="Mapping for COA" EXPOSURE="0" STATE="1" EDITORDER="28 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_COA_MAPPER" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_COA"/>
   <source>METHOD _coa_mapper.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    rs_result = VALUE #(                                                            ##ENH_OK
                  keyy = VALUE #( ktopl = me-&gt;get_ktopl_ccode( me-&gt;get_bukrs( ) )
                                  saknr = me-&gt;get_saknr( )
                                )
                  data = COND #( WHEN me-&gt;_is_coa_byref( ) AND NOT me-&gt;get_coa_data( )
                                 THEN CORRESPONDING #( me-&gt;read_ska1( CORRESPONDING #( me-&gt;get_coa_refacct( ) ) ) )
                                 ELSE me-&gt;get_coa_data( )
                               )
                  info  = VALUE #( erdat = sy-datum
                                   ernam = sy-uname
                                   sakan = me-&gt;get_saknr( )
                                 )
                  action = COND #( WHEN me-&gt;get_ktopl( ) AND NOT me-&gt;get_bukrs( )
                                   THEN me-&gt;get_mode( )
                                   WHEN me-&gt;get_bukrs( ) AND NOT me-&gt;get_ktopl( )
                                   THEN COND #( WHEN NOT me-&gt;get_simulate( ) THEN space ELSE me-&gt;get_mode( ) )
                                   ELSE me-&gt;get_mode( )
                                 )
                       ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_GET_ACCT_NAME" VERSION="1" LANGU="E" DESCRIPT="Get GL Account Name" EXPOSURE="0" STATE="1" EDITORDER="30 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_GET_ACCT_NAME" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_NAME_TABLE"/>
   <source>METHOD _get_acct_name.
    rt_result = me-&gt;lt_name_mapped.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_GET_GLENH_TEXT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="37 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_GET_GLENH_TEXT" SCONAME="IV_TABNAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="TABNAME"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_GET_GLENH_TEXT" SCONAME="IV_KEY" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="NAME_FELD"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_GET_GLENH_TEXT" SCONAME="IV_VALUE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_GET_GLENH_TEXT" SCONAME="ES_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="1" PARPASSTYP="0" TYPTYPE="1" TYPE="ANY"/>
   <source>METHOD _get_glenh_text.

    zcl_com_tabl_upd_utility=&gt;buffer_any_table_for_read(
    EXPORTING
      iv_table    = iv_tabname
      iv_key1     = iv_key
      iv_value1   = iv_value
    IMPORTING
      es_workarea = es_result
    EXCEPTIONS
      read_error  = 1
      OTHERS      = 2
  ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_GET_KEYWORD" VERSION="1" LANGU="E" DESCRIPT="Get GL Account Keyword" EXPOSURE="0" STATE="1" EDITORDER="26 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_GET_KEYWORD" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_KEYWORD_TABLE"/>
   <source>METHOD _get_keyword.
    rt_result = me-&gt;lt_kw_mapped.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_GET_MAP_CCODE" VERSION="1" LANGU="E" DESCRIPT="Get Company Code Mappings" EXPOSURE="0" STATE="1" EDITORDER="33 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_GET_MAP_CCODE" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_TABLE"/>
   <source>METHOD _get_map_ccode.
    rt_result = me-&gt;lt_ccode_mapped.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_GET_MAP_COA" VERSION="1" LANGU="E" DESCRIPT="Get COA Mappings" EXPOSURE="0" STATE="1" EDITORDER="25 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_GET_MAP_COA" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_COA"/>
   <source>METHOD _get_map_coa.
    rs_result = me-&gt;ls_coa_mapped.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_IS_CCODE_BYREF" VERSION="1" LANGU="E" DESCRIPT="Is created by Company Code Reference?" EXPOSURE="0" STATE="1" EDITORDER="23 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_IS_CCODE_BYREF" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <source>METHOD _is_ccode_byref.
    r_result = xsdbool( me-&gt;get_ccode_refacct( ) ).
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_IS_COA_BYREF" VERSION="1" LANGU="E" DESCRIPT="Is created by COA Reference?" EXPOSURE="0" STATE="1" EDITORDER="22 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_IS_COA_BYREF" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <source>METHOD _is_coa_byref.
    r_result = xsdbool( me-&gt;get_coa_refacct( ) ).
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_KEYWORD_MAPPER" VERSION="1" LANGU="E" DESCRIPT="Mapping for Keyword" EXPOSURE="0" STATE="1" EDITORDER="29 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_KEYWORD_MAPPER" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_KEYWORD_TABLE"/>
   <source>METHOD _keyword_mapper.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    rt_result = VALUE #(
                  ( ktopl = me-&gt;get_ktopl( )
                    saknr = me-&gt;get_saknr( )
                    spras = sy-langu
                    schlw = COND #( WHEN me-&gt;_is_coa_byref( ) AND NOT me-&gt;get_keyword( )
                                    THEN me-&gt;get_refkeyword( )
                                    ELSE me-&gt;get_keyword( )
                                  )
                    action = COND #( WHEN me-&gt;get_ktopl( ) AND NOT me-&gt;get_bukrs( )
                                     THEN me-&gt;get_mode( )
                                     WHEN me-&gt;get_bukrs( ) AND NOT me-&gt;get_ktopl( )
                                     THEN space           &quot;initialising when maintained in CCode (and not COA)
                                     ELSE me-&gt;get_mode( )
                                  )
                  )
                        ).

    DELETE rt_result WHERE schlw IS INITIAL.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_MAINTAIN" VERSION="1" LANGU="E" DESCRIPT="Handle Maintenance" EXPOSURE="0" STATE="1" EDITORDER="21 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_MAINTAIN" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_MAINTAIN" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD _maintain.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    &quot;initial checks done - now set mappings
    me-&gt;_set_map_coa( me-&gt;_coa_mapper( ) ).
    me-&gt;_set_map_ccode( me-&gt;_ccode_mapper( ) ).
    me-&gt;_set_keyword( me-&gt;_keyword_mapper( ) ).
    me-&gt;_set_acct_name( me-&gt;_acct_name_mapper( ) ).

    &quot;and save
    r_result = me-&gt;_save( ).
    me-&gt;_commit( ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_SAVE" VERSION="1" LANGU="E" DESCRIPT="Insert/Update/Delete of Master Data object" EXPOSURE="1" STATE="1" EDITORDER="13 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_SAVE" SCONAME="R_RESULT" VERSION="1" LANGU="E" DESCRIPT="True = No Errors" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_SAVE" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD _save.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA lt_return TYPE bapireturn_t.

    DATA(lt_keyword)    = me-&gt;_get_keyword( ).

    DATA(lt_acct_names) = me-&gt;_get_acct_name( ).

    DATA(ls_acct_coa)   = me-&gt;_get_map_coa( ).

    DATA(lt_ccodes)     = me-&gt;_get_map_ccode( ).

    me-&gt;enqueue( ).

    CALL FUNCTION &apos;GL_ACCT_MASTER_SAVE&apos;
      EXPORTING
        testmode           = me-&gt;get_simulate( )      &quot; Test mode?
        no_authority_check = me-&gt;get_simulate( )      &quot; No Auth Checks in Sim mode
      TABLES
        account_names      = lt_acct_names            &quot; Descriptions
        account_keywords   = lt_keyword               &quot; Keywords
        account_ccodes     = lt_ccodes                &quot; Company Code Data
        return             = lt_return                &quot; Messages
      CHANGING
        account_coa        = ls_acct_coa.             &quot; Chart of Accounts Data

    IF zcl_com_bapireturn_services=&gt;check_itab_for_success( lt_return ) = 0.
      me-&gt;_save_glenhancements(  ).
    ENDIF.

    me-&gt;dequeue( ).

    r_result = xsdbool( zcl_com_bapireturn_services=&gt;check_itab_for_errors( lt_return ) &lt;&gt; 0 ).

    CHECK r_result IS INITIAL.

    _mac_raise_multi lt_return.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_SAVE_GLENHANCEMENTS" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="36 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <exception CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_SAVE_GLENHANCEMENTS" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD _save_glenhancements.

    CHECK NOT me-&gt;get_simulate( ).

    DATA:
      ls_gl_toes      TYPE zfi_gl_toes,
      ls_ncver_act    TYPE zfi_gl_ncver_act,
      ls_ncver_cflo   TYPE zfi_gl_ncver_cfl,
      ls_cflow_classf TYPE zfi_gl_cashflow,
      ls_finstat      TYPE zfi_gl_finstat,
      ls_finstat_note TYPE zfi_gl_finstnote,
      ls_ncver_dsc    TYPE zfi_gl_ncver_dsc.

    IF me-&gt;get_ktopl( ) = tafe_grp_coa.

      me-&gt;_get_glenh_text(
         EXPORTING
          iv_tabname = |ZFI_GL_TOES|
          iv_key     = |TOES_ACCT|
          iv_value   = me-&gt;_get_map_coa( )-data-zzs_ncver_toes-zz_toes_acct
        IMPORTING
          es_result  = ls_gl_toes
     ).

      me-&gt;_get_glenh_text(
          EXPORTING
           iv_tabname = |ZFI_GL_NCVER_ACT|
           iv_key     = |ACTVT_CODE|
           iv_value   = me-&gt;_get_map_coa( )-data-zzs_ncver_toes-zz_actvt_code
         IMPORTING
           es_result  = ls_ncver_act
      ).

      me-&gt;_get_glenh_text(
          EXPORTING
           iv_tabname = |ZFI_GL_NCVER_CFL|
           iv_key     = |CFLO_CODE|
           iv_value   = me-&gt;_get_map_coa( )-data-zzs_ncver_toes-zz_cflo_code
         IMPORTING
           es_result  = ls_ncver_cflo
      ).

      me-&gt;_get_glenh_text(
          EXPORTING
           iv_tabname = |ZFI_GL_CASHFLOW|
           iv_key     = |CF_CLASSF|
           iv_value   = me-&gt;_get_map_coa( )-data-zzs_ncver_toes-zz_cf_classf
         IMPORTING
           es_result  = ls_cflow_classf
      ).

      me-&gt;_get_glenh_text(
          EXPORTING
           iv_tabname = |ZFI_GL_FINSTAT|
           iv_key     = |FINSTAT_CODE|
           iv_value   = me-&gt;_get_map_coa( )-data-zzs_ncver_toes-zz_finstat_code
         IMPORTING
           es_result  = ls_finstat
      ).

      me-&gt;_get_glenh_text(
          EXPORTING
           iv_tabname = |ZFI_GL_FINSTNOTE|
           iv_key     = |FINSTAT_NOTE|
           iv_value   = me-&gt;_get_map_coa( )-data-zzs_ncver_toes-zz_finstat_note
         IMPORTING
           es_result  = ls_finstat_note
      ).

      me-&gt;_get_glenh_text(
          EXPORTING
           iv_tabname = |ZFI_GL_NCVER_DSC|
           iv_key     = |FS_DSCLSR|
           iv_value   = me-&gt;_get_map_coa( )-data-zzs_ncver_toes-zz_fs_dsclsr
         IMPORTING
           es_result  = ls_ncver_dsc
      ).

      CALL FUNCTION &apos;ZFI_UPDATE_DEC_GLMAST_SKA1&apos;
        EXPORTING
          it_dec_ska1     = VALUE ztt_fi_gl_dec_ska1(
                             ( ktopl             = me-&gt;_get_map_coa( )-keyy-ktopl
                               saknr             = me-&gt;_get_map_coa( )-keyy-saknr
                               toes_acct         = me-&gt;_get_map_coa( )-data-zzs_ncver_toes-zz_toes_acct
                               toes_acct_text    = ls_gl_toes-toes_acct_text
                               actvt_code        = me-&gt;_get_map_coa( )-data-zzs_ncver_toes-zz_actvt_code
                               actvt_text        = ls_ncver_act-actvt_text
                               cflo_code         = me-&gt;_get_map_coa( )-data-zzs_ncver_toes-zz_cflo_code
                               cflo_text         = ls_ncver_cflo-cflo_text
                               cf_classf         = me-&gt;_get_map_coa( )-data-zzs_ncver_toes-zz_cf_classf
                               cf_classf_text    = ls_cflow_classf-cf_classf_text
                               finstat_code      = me-&gt;_get_map_coa( )-data-zzs_ncver_toes-zz_finstat_code
                               finstat_text      = ls_finstat-finstat_text
                               finstat_note      = me-&gt;_get_map_coa( )-data-zzs_ncver_toes-zz_finstat_note
                               finstat_note_text = ls_finstat_note-finstat_note_text
                               fs_dsclsr         = me-&gt;_get_map_coa( )-data-zzs_ncver_toes-zz_fs_dsclsr
                               fs_dsclsr_text    = ls_ncver_dsc-fs_dsclsr_text
                             )
                                                   )
        EXCEPTIONS
          ex_update_error = 1
          OTHERS          = 2.

      IF sy-subrc &lt;&gt; 0.
        me-&gt;dequeue( ).
        MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
          WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4 INTO dummy.
        _mac_raise.
      ENDIF.
    ENDIF.

    CHECK me-&gt;get_bukrs( ) = tafe_ccode.

    DATA(lt_ccode) = me-&gt;_get_map_ccode( ).
    DATA ls_plan_relv TYPE zfi_gl_planning.

    me-&gt;_get_glenh_text(
         EXPORTING
          iv_tabname = |ZFI_GL_PLANNING|
          iv_key     = |PLAN_RELV|
          iv_value   = lt_ccode[ 1 ]-data-zz_plan_relv
        IMPORTING
          es_result  = ls_plan_relv
     ).

    CALL FUNCTION &apos;ZFI_UPDATE_DEC_GLMAST_SKB1&apos;
      EXPORTING
        it_dec_skb1     = VALUE ztt_fi_gl_dec_skb1(
                            ( bukrs          = lt_ccode[ 1 ]-keyy-bukrs
                              saknr          = lt_ccode[ 1 ]-keyy-saknr
                              plan_relv      = lt_ccode[ 1 ]-data-zz_plan_relv
                              plan_relv_text = ls_plan_relv-plan_relv_text )
                                                  )
      EXCEPTIONS
        ex_update_error = 1
        OTHERS          = 2.

    IF sy-subrc &lt;&gt; 0.
      me-&gt;dequeue( ).
      MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
        WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4 INTO dummy.
      _mac_raise.
    ENDIF.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_SET_ACCT_NAME" VERSION="1" LANGU="E" DESCRIPT="Set GL Account Name" EXPOSURE="0" STATE="1" EDITORDER="31 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_SET_ACCT_NAME" SCONAME="IT_ACCT_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_NAME_TABLE"/>
   <source>METHOD _set_acct_name.
    me-&gt;lt_name_mapped = it_acct_name.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_SET_KEYWORD" VERSION="1" LANGU="E" DESCRIPT="Set GL Account Keyword" EXPOSURE="0" STATE="1" EDITORDER="27 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_SET_KEYWORD" SCONAME="IT_KEYWORD" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_KEYWORD_TABLE"/>
   <source>METHOD _set_keyword.
    me-&gt;lt_kw_mapped = it_keyword.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_SET_MAP_CCODE" VERSION="1" LANGU="E" DESCRIPT="Set Company Code Mappings" EXPOSURE="0" STATE="1" EDITORDER="34 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_SET_MAP_CCODE" SCONAME="IT_CCODE_DATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_TABLE"/>
   <source>METHOD _set_map_ccode.
    me-&gt;lt_ccode_mapped = it_ccode_data.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_SET_MAP_COA" VERSION="1" LANGU="E" DESCRIPT="Set COA Mappings" EXPOSURE="0" STATE="1" EDITORDER="24 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API" CMPNAME="_SET_MAP_COA" SCONAME="IS_COA_DATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_COA"/>
   <source>METHOD _set_map_coa.
    me-&gt;ls_coa_mapped = is_coa_data.
  ENDMETHOD.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_FI_GLMAST_API_EXTEND" VERSION="1" LANGU="E" DESCRIPT="FI GLMAST API Extension for FI-GL object" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 " ZSAPLINK_PLUGIN_MAJOR_VERSION="0 " ZSAPLINK_PLUGIN_MINOR_VERSION="1 " ZSAPLINK_PLUGIN_BUILD_VERSION="0 " ZSAPLINK_PLUGIN_INFO1="ZSAPLINK_CLASS is part of the main ZSAPLINK project --&gt; This plugin found there instead of ZSAPLINK_PLUGINS projects" ZSAPLINK_PLUGIN_INFO2="SAPLINK homepage: https://www.assembla.com/spaces/saplink/wiki" ZSAPLINK_PLUGIN_INFO3="Download from https://www.assembla.com/code/saplink/subversion/nodes" ZSAPLINK_PLUGIN_INFO4="and navigate to:  trunk -&gt; core -&gt; ZSAPLINK -&gt; CLAS -&gt; ZSAPLINK_CLASS.slnk" REFCLSNAME="/EBY/CL_PDMDGL_BAPI">
  <localImplementation>*&quot;* use this source file for the definition and implementation of
*&quot;* local helper classes, interface definitions and type
*&quot;* declarations</localImplementation>
  <localTypes>*&quot;* use this source file for any type of declarations (class
*&quot;* definitions, interfaces or type declarations) you need for
*&quot;* components in the private section</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_FI_GLMAST_API_EXTEND" CMPNAME="LV_BUKRS" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BUKRS" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_API_EXTEND" CMPNAME="LV_KTOPL" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="KTOPL" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_API_EXTEND" CMPNAME="LV_SAKNR" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="SAKNR" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <inheritance CLSNAME="ZCL_FI_GLMAST_API_EXTEND" REFCLSNAME="/EBY/CL_PDMDGL_BAPI" VERSION="1" STATE="1">
   <redefinition CLSNAME="ZCL_FI_GLMAST_API_EXTEND" REFCLSNAME="/EBY/CL_PDMDGL_BAPI" VERSION="1" MTDNAME="GET_DETAIL" EXPOSURE="2"/>
  </inheritance>
  <method CLSNAME="ZCL_FI_GLMAST_API_EXTEND" CMPNAME="GET_BUKRS" VERSION="1" LANGU="E" DESCRIPT="Get Company Code" EXPOSURE="0" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API_EXTEND" CMPNAME="GET_BUKRS" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BUKRS"/>
   <source>METHOD get_bukrs.
    r_result = me-&gt;lv_bukrs.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API_EXTEND" CMPNAME="GET_CCODE_ADDITIONAL_DATA" VERSION="1" LANGU="E" DESCRIPT="Get Additional Data for Company Code" EXPOSURE="0" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API_EXTEND" CMPNAME="GET_CCODE_ADDITIONAL_DATA" SCONAME="CS_BAPI_DATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="2" PARPASSTYP="1" TYPTYPE="1" TYPE="/EBY/PDMDGL_SBAPI_DATA"/>
   <source>METHOD get_ccode_additional_data.

    DATA text_lines TYPE STANDARD TABLE OF tline.

    DATA(l_saknr) = me-&gt;get_saknr( ).
    DATA(l_bukrs) = me-&gt;get_bukrs( ).

    CHECK me-&gt;get_bukrs( ).

    SELECT SINGLE plan_relv
        FROM zfi_dec_skb1_pr
        INTO cs_bapi_data-ccode_data-zz_plan_relv
        WHERE bukrs = l_bukrs
        AND   saknr = l_saknr.

    CALL FUNCTION &apos;READ_TEXT&apos;
      EXPORTING
        id                      = CONV tdid( |0001| )
        language                = sy-langu
        name                    = CONV tdobname( |{ l_saknr ALPHA = IN }{ l_bukrs }| )
        object                  = CONV tdobject( |SKB1| )
      TABLES
        lines                   = text_lines
      EXCEPTIONS
        id                      = 1                &quot; Text ID invalid
        language                = 2                &quot; Invalid language
        name                    = 3                &quot; Invalid text name
        not_found               = 4                &quot; Text not found
        object                  = 5                &quot; Invalid text object
        reference_check         = 6                &quot; Reference chain interrupted
        wrong_access_to_archive = 7                &quot; Archive handle invalid for access
        OTHERS                  = 8.

    CHECK sy-subrc = 0.

    cs_bapi_data-ccode_data-zz_glacct_ccode_text = VALUE #( text_lines[ 1 ]-tdline OPTIONAL ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API_EXTEND" CMPNAME="GET_COA_ADDITIONAL_DATA" VERSION="1" LANGU="E" DESCRIPT="Get Additional Data for Chart of Account" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API_EXTEND" CMPNAME="GET_COA_ADDITIONAL_DATA" SCONAME="CS_BAPI_DATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="2" PARPASSTYP="1" TYPTYPE="1" TYPE="/EBY/PDMDGL_SBAPI_DATA"/>
   <source>METHOD get_coa_additional_data.

    DATA(l_saknr) = me-&gt;get_saknr( ).
    DATA(l_ktopl) = me-&gt;get_ktopl( ).

    CHECK me-&gt;get_ktopl( ).

    SELECT SINGLE
        toes_acct
        finstat_code
        finstat_note
        cf_classf
        fs_dsclsr
        actvt_code
        cflo_code
    FROM zfi_dec_ska1_ncv
    INTO cs_bapi_data-coa_data-zzs_ncver_toes
    WHERE ktopl = l_ktopl
    AND   saknr = l_saknr.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="/EBY/CL_PDMDGL_BAPI" CMPNAME="GET_DETAIL" VERSION="0" EXPOSURE="0" STATE="0" EDITORDER="0 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD get_detail.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    super-&gt;get_detail(
      EXPORTING
        ic_saknr     = ic_saknr
        ic_bukrs     = ic_bukrs
        ic_ktopl     = ic_ktopl
      IMPORTING
        es_bapi_data = es_bapi_data
        es_return    = es_return
   ).

    CHECK es_bapi_data IS NOT INITIAL AND
          es_return-type NA zcl_com_bapireturn_services=&gt;gc_error_msgtypes.

    me-&gt;set_saknr( ic_saknr ).
    me-&gt;set_bukrs( ic_bukrs ).
    me-&gt;set_ktopl( ic_ktopl ).

    me-&gt;get_coa_additional_data( CHANGING cs_bapi_data = es_bapi_data ).

    me-&gt;get_ccode_additional_data( CHANGING cs_bapi_data = es_bapi_data ).


  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API_EXTEND" CMPNAME="GET_KTOPL" VERSION="1" LANGU="E" DESCRIPT="Get Chart of Account" EXPOSURE="0" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API_EXTEND" CMPNAME="GET_KTOPL" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="KTOPL"/>
   <source>METHOD get_ktopl.
    r_result = me-&gt;lv_ktopl.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API_EXTEND" CMPNAME="GET_SAKNR" VERSION="1" LANGU="E" DESCRIPT="Get GL Account" EXPOSURE="0" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API_EXTEND" CMPNAME="GET_SAKNR" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="SAKNR"/>
   <source>METHOD get_saknr.
    r_result = me-&gt;lv_saknr.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API_EXTEND" CMPNAME="SET_BUKRS" VERSION="1" LANGU="E" DESCRIPT="Set Company Code" EXPOSURE="0" STATE="1" EDITORDER="8 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API_EXTEND" CMPNAME="SET_BUKRS" SCONAME="I_BUKRS" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BUKRS"/>
   <source>METHOD set_bukrs.
    me-&gt;lv_bukrs = i_bukrs.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API_EXTEND" CMPNAME="SET_KTOPL" VERSION="1" LANGU="E" DESCRIPT="GSet Chart of Account" EXPOSURE="0" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API_EXTEND" CMPNAME="SET_KTOPL" SCONAME="I_KTOPL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="KTOPL"/>
   <source>METHOD set_ktopl.
    me-&gt;lv_ktopl = i_ktopl.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_API_EXTEND" CMPNAME="SET_SAKNR" VERSION="1" LANGU="E" DESCRIPT="Set GL Account" EXPOSURE="0" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_API_EXTEND" CMPNAME="SET_SAKNR" SCONAME="I_SAKNR" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="SAKNR"/>
   <source>METHOD set_saknr.
    me-&gt;lv_saknr = i_saknr.
  ENDMETHOD.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_FICO_MASTERDATA" VERSION="1" LANGU="E" DESCRIPT="Abstract Class for FI-CO Masterdata" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" CLSABSTRCT="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" RSTAT="K" CLSBCCAT="00" MSG_ID="ZFI" DURATION_TYPE="0 " RISK_LEVEL="0 " ZSAPLINK_PLUGIN_MAJOR_VERSION="0 " ZSAPLINK_PLUGIN_MINOR_VERSION="1 " ZSAPLINK_PLUGIN_BUILD_VERSION="0 " ZSAPLINK_PLUGIN_INFO1="ZSAPLINK_CLASS is part of the main ZSAPLINK project --&gt; This plugin found there instead of ZSAPLINK_PLUGINS projects" ZSAPLINK_PLUGIN_INFO2="SAPLINK homepage: https://www.assembla.com/spaces/saplink/wiki" ZSAPLINK_PLUGIN_INFO3="Download from https://www.assembla.com/code/saplink/subversion/nodes" ZSAPLINK_PLUGIN_INFO4="and navigate to:  trunk -&gt; core -&gt; ZSAPLINK -&gt; CLAS -&gt; ZSAPLINK_CLASS.slnk">
  <implementing CLSNAME="ZCL_FICO_MASTERDATA" REFCLSNAME="ZIF_MASTERDATA" VERSION="1" EXPOSURE="2" STATE="1" RELTYPE="1" IMPABSTRCT="X" EDITORDER="2 "/>
  <implementing CLSNAME="ZCL_FICO_MASTERDATA" REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" VERSION="1" EXPOSURE="2" STATE="1" RELTYPE="1" EDITORDER="1 "/>
  <localImplementation>*&quot;* use this source file for the definition and implementation of
*&quot;* local helper classes, interface definitions and type
*&quot;* declarations</localImplementation>
  <localTypes>*&quot;* use this source file for any type of declarations (class
*&quot;* definitions, interfaces or type declarations) you need for
*&quot;* components in the private section

TYPES:
  BEGIN OF ty_obj_refs,
    saknr TYPE saknr,
    kstar TYPE kstar,
    fipex type fm_fipex,
    versn type versn_011,
    ref   TYPE REF TO zcl_fico_masterdata,
  END OF ty_obj_refs,
  tty_obj_refs TYPE STANDARD TABLE OF ty_obj_refs.</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="ACTION" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="1" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" REFCMPNAME="CO_ACTION" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="DUMMY" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="1" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_MASTERDATA" REFCMPNAME="LV_DUMMY" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="LO_EXCEPTION" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="1" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_MASTERDATA" REFCMPNAME="LO_EXCEPTION" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="LO_MD_API" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_FICO_MASTERDATA" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="LT_OBJ_REFS" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="2 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="TTY_OBJ_REFS" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="LV_COMMIT" VERSION="1" LANGU="E" EXPOSURE="1" STATE="1" EDITORDER="4 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BOOLE_D" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="LV_MODE" VERSION="1" LANGU="E" EXPOSURE="1" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GLACCOUNT_ACTION" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="LV_SIMULATE" VERSION="1" LANGU="E" EXPOSURE="1" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BOOLE_D" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="LV_WAIT" VERSION="1" LANGU="E" EXPOSURE="1" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BOOLE_D" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="RETURN" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="1" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_MASTERDATA" REFCMPNAME="LS_RETURN" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="TAFE_FM_AREA" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="2" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" REFCMPNAME="FM_AREA_1000" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="TAFE_FSV" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="2" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" REFCMPNAME="CO_FSV_VERSN" TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="CHECK_MODE" VERSION="1" LANGU="E" DESCRIPT="Check API Mode" EXPOSURE="1" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDABSTRCT="X" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <exception CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="CHECK_MODE" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" DESCRIPT="Exception Object" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="CLEAR" VERSION="1" LANGU="E" DESCRIPT="Clear Attributes" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD clear.
    CLEAR:
     me-&gt;lo_exception,
     me-&gt;lv_commit,
     me-&gt;lv_mode,
     me-&gt;lv_simulate,
     me-&gt;lv_wait.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="GET_COMMIT" VERSION="1" LANGU="E" DESCRIPT="Get Commit Flag" EXPOSURE="1" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="GET_COMMIT" SCONAME="RV_COMMIT" VERSION="1" LANGU="E" DESCRIPT="Data element for domain BOOLE: TRUE (=&apos;X&apos;) and FALSE (=&apos; &apos;)" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <source>METHOD get_commit.
    rv_commit = me-&gt;lv_commit.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="GET_INSTANCE" VERSION="1" LANGU="E" DESCRIPT="Singleton" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="GET_INSTANCE" SCONAME="IV_SAKNR" VERSION="1" LANGU="E" DESCRIPT="GL Account" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="GET_INSTANCE" SCONAME="IV_COSTELEM" VERSION="1" LANGU="E" DESCRIPT="Cost Element" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="GET_INSTANCE" SCONAME="IV_COMITEM" VERSION="1" LANGU="E" DESCRIPT="Commitment Item" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="GET_INSTANCE" SCONAME="IV_VERSN" VERSION="1" LANGU="E" DESCRIPT="FSV Version" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="GET_INSTANCE" SCONAME="RO_MD_API" VERSION="1" LANGU="E" DESCRIPT="Instance of Master data Subclass" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_FICO_MASTERDATA"/>
   <exception CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="GET_INSTANCE" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" DESCRIPT="Exception Object" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD get_instance.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    &quot;Design Pattern -&gt; Singleton
    TRY.
        DATA(ls_ref) = lt_obj_refs[ saknr = |{ iv_saknr    ALPHA = IN }|
                                    kstar = |{ iv_costelem ALPHA = IN }|
                                    fipex = |{ iv_comitem  ALPHA = OUT }|
                                    versn = |{ iv_versn    ALPHA = IN }|
                                  ].

        ro_md_api = ls_ref-ref.

      CATCH cx_sy_itab_line_not_found.
        lt_obj_refs = VALUE #( BASE lt_obj_refs
                                 ( saknr = |{ iv_saknr    ALPHA = IN }|
                                   kstar = |{ iv_costelem ALPHA = IN }|
                                   fipex = |{ iv_comitem  ALPHA = OUT }|
                                   versn = |{ iv_versn    ALPHA = IN }|
                                   ref   = COND #( WHEN iv_saknr IS NOT INITIAL
                                                   THEN SWITCH #( iv_versn
                                                         WHEN space
                                                         THEN NEW zcl_fi_glmast_api( iv_saknr )
                                                         ELSE NEW zcl_fi_fsv_api( iv_saknr )
                                                                )
                                                   WHEN iv_costelem IS NOT INITIAL
                                                   THEN NEW zcl_fi_costelem_api( iv_costelem )
                                                   WHEN iv_comitem IS NOT INITIAL
                                                   THEN NEW zcl_fi_commitment_api( iv_comitem )
                                                   ELSE THROW zcx_fi_general(
                                                         textid = zcx_fi_general=&gt;incorrect_params
                                                                            )
                                                 )
                                  )
                               ).

        ro_md_api = lt_obj_refs[ saknr = |{ iv_saknr    ALPHA = IN }|
                                 kstar = |{ iv_costelem ALPHA = IN }|
                                 fipex = |{ iv_comitem  ALPHA = OUT }|
                                 versn = |{ iv_versn    ALPHA = IN }|
                               ]-ref.
    ENDTRY.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="GET_MODE" VERSION="1" LANGU="E" DESCRIPT="Get API Run mode" EXPOSURE="1" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="GET_MODE" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_ACTION"/>
   <source>METHOD get_mode.
    r_result = me-&gt;lv_mode.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="GET_SIMULATE" VERSION="1" LANGU="E" DESCRIPT="Get Simulation mode" EXPOSURE="1" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="GET_SIMULATE" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <source>METHOD get_simulate.
    r_result = me-&gt;lv_simulate.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="GET_WAIT" VERSION="1" LANGU="E" DESCRIPT="Get Wait parameter for Commit" EXPOSURE="1" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="GET_WAIT" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <source>METHOD get_wait.
    r_result = me-&gt;lv_wait.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="SET_COMMIT" VERSION="1" LANGU="E" DESCRIPT="Set Commit Flag" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="SET_COMMIT" SCONAME="IV_COMMIT" VERSION="1" LANGU="E" DESCRIPT="Data element for domain BOOLE: TRUE (=&apos;X&apos;) and FALSE (=&apos; &apos;)" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D"/>
   <source>METHOD set_commit.
    me-&gt;lv_commit = iv_commit.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="SET_MODE" VERSION="1" LANGU="E" DESCRIPT="Set API Simulation Mode" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="SET_MODE" SCONAME="IV_MODE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_ACTION"/>
   <source>METHOD set_mode.
    me-&gt;lv_mode = iv_mode.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="SET_SIMULATE" VERSION="1" LANGU="E" DESCRIPT="Set Simulation mode" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="SET_SIMULATE" SCONAME="IV_SIMULATE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D"/>
   <source>METHOD set_simulate.
    me-&gt;lv_simulate = iv_simulate.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="SET_WAIT" VERSION="1" LANGU="E" DESCRIPT="Set Wait parameter for Commit" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="SET_WAIT" SCONAME="IV_WAIT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D"/>
   <source>METHOD set_wait.
    me-&gt;lv_wait = iv_wait.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="_COMMIT" VERSION="1" LANGU="E" DESCRIPT="To Commit or not to" EXPOSURE="1" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD _commit.

    CHECK NOT me-&gt;get_simulate( ).
    CHECK me-&gt;get_commit( ).

    IF NOT me-&gt;get_wait( ).
      cl_soap_commit_rollback=&gt;commit( ).
    ELSEIF me-&gt;get_wait( ).
      cl_soap_commit_rollback=&gt;commit_and_wait( ).
    ELSE.
      ASSERT 1 = 2.
    ENDIF.

  ENDMETHOD.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_FI_COMMITMENT_API" VERSION="1" LANGU="E" DESCRIPT="API for FI-CO Commitment Items Master Data" CATEGORY="00" EXPOSURE="0" STATE="1" RELEASE="0" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" RSTAT="K" CLSBCCAT="00" MSG_ID="ZFI" WITH_UNIT_TESTS="X" DURATION_TYPE="0 " RISK_LEVEL="0 " ZSAPLINK_PLUGIN_MAJOR_VERSION="0 " ZSAPLINK_PLUGIN_MINOR_VERSION="1 " ZSAPLINK_PLUGIN_BUILD_VERSION="0 " ZSAPLINK_PLUGIN_INFO1="ZSAPLINK_CLASS is part of the main ZSAPLINK project --&gt; This plugin found there instead of ZSAPLINK_PLUGINS projects" ZSAPLINK_PLUGIN_INFO2="SAPLINK homepage: https://www.assembla.com/spaces/saplink/wiki" ZSAPLINK_PLUGIN_INFO3="Download from https://www.assembla.com/code/saplink/subversion/nodes" ZSAPLINK_PLUGIN_INFO4="and navigate to:  trunk -&gt; core -&gt; ZSAPLINK -&gt; CLAS -&gt; ZSAPLINK_CLASS.slnk" REFCLSNAME="ZCL_FICO_MASTERDATA">
  <friends CLSNAME="ZCL_FI_COMMITMENT_API" REFCLSNAME="ZCL_FICO_MASTERDATA" FRIENDTYPE="0" VERSION="1" STATE="1"/>
  <localImplementation>*&quot;* use this source file for the definition and implementation of
*&quot;* local helper classes, interface definitions and type
*&quot;* declarations</localImplementation>
  <localTypes>*&quot;* use this source file for any type of declarations (class
*&quot;* definitions, interfaces or type declarations) you need for
*&quot;* components in the private section</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class

DEFINE _mac_raise.
  me-&gt;lo_exception = NEW #( gv_symsg = CORRESPONDING #( sy ) ).
  me-&gt;lo_exception-&gt;add_sy_message( ).
  RAISE RESUMABLE EXCEPTION me-&gt;lo_exception.
END-OF-DEFINITION.</localMacros>
  <localTestClasses>*&quot;* use this source file for your ABAP unit test classes</localTestClasses>
  <attribute CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="LS_DATA" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="4 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="ZFI_S_COMMITMENT_DATA" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="LV_FIKRS" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="FIKRS" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="LV_FIPEX" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="FM_FIPEX" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="LV_REF" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="FM_FIPEX" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <inheritance CLSNAME="ZCL_FI_COMMITMENT_API" REFCLSNAME="ZCL_FICO_MASTERDATA" VERSION="1" STATE="1">
   <redefinition CLSNAME="ZCL_FI_COMMITMENT_API" REFCLSNAME="ZCL_FICO_MASTERDATA" VERSION="0" MTDNAME="CHECK_MODE" EXPOSURE="1"/>
   <redefinition CLSNAME="ZCL_FI_COMMITMENT_API" REFCLSNAME="ZCL_FICO_MASTERDATA" VERSION="1" MTDNAME="ZIF_MASTERDATA~EXISTENCECHECK" EXPOSURE="0"/>
   <redefinition CLSNAME="ZCL_FI_COMMITMENT_API" REFCLSNAME="ZCL_FICO_MASTERDATA" VERSION="1" MTDNAME="ZIF_MASTERDATA~MAINTAIN" EXPOSURE="0"/>
   <redefinition CLSNAME="ZCL_FI_COMMITMENT_API" REFCLSNAME="ZCL_FICO_MASTERDATA" VERSION="1" MTDNAME="ZIF_MASTERDATA~READ_DATA" EXPOSURE="0"/>
  </inheritance>
  <interfaceMethod CLSNAME="ZCL_FI_COMMITMENT_API" CPDNAME="ZIF_MASTERDATA~EXISTENCECHECK">
   <source>METHOD zif_masterdata~existencecheck.

    DATA(l_fikrs) = me-&gt;get_fikrs( ).
    DATA(l_fipex) = me-&gt;get_fipex( ).
    DATA(l_gjahr) = me-&gt;get_data( )-fmci-gjahr.

    SELECT COUNT(*) FROM fmci
      WHERE fikrs = l_fikrs
      AND   gjahr = l_gjahr
      AND   fipex = l_fipex.

    r_result = xsdbool( sy-dbcnt &gt; 0 ).

    CHECK r_result IS INITIAL.

    MESSAGE e094 WITH me-&gt;get_fipex( ) INTO me-&gt;dummy.

    _mac_raise.

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_FI_COMMITMENT_API" CPDNAME="ZIF_MASTERDATA~MAINTAIN">
   <source>METHOD zif_masterdata~maintain.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    me-&gt;set_ref( iv_ref ).

    me-&gt;dummy = SWITCH #( me-&gt;get_mode( )
                  WHEN action-insert OR action-update
                  THEN me-&gt;check_auth( )
                  ELSE THROW zcx_fi_general(
                              textid    = zcx_fi_general=&gt;wrong_mode
                              gv_mode   = me-&gt;get_mode( )
                              gv_string = |Maintain Commitment Item|
                                           )
                       ).

    me-&gt;set_data( COND #( WHEN me-&gt;get_ref( )
                          THEN LET l_subs = VALUE fmci( fipex = me-&gt;get_fipex( )
                                                        fipos = me-&gt;get_fipex( )
                                                      )
                                   l_fmci  = me-&gt;read( )-fmci
                                   ls_fmci = CORRESPONDING fmci( BASE ( l_subs ) l_fmci EXCEPT fipex fipos )
                          IN
                           CORRESPONDING #( BASE ( ls_fmci ) me-&gt;read( ) EXCEPT fmci )
                          ELSE SWITCH #( me-&gt;get_mode( )
                                WHEN action-insert OR action-update
                                THEN me-&gt;get_data( )
                                WHEN action-read OR space
                                THEN me-&gt;read( )
                                ELSE THROW zcx_fi_general(
                                             gv_mode   = me-&gt;get_mode( )
                                             textid    = zcx_fi_general=&gt;wrong_mode
                                             gv_string = |Maintain Commitment Item|
                                                         )
                                       )
                        )
                ).

    r_result = me-&gt;_save( ).

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_FI_COMMITMENT_API" CPDNAME="ZIF_MASTERDATA~READ_DATA">
   <source>METHOD zif_masterdata~read_data.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    me-&gt;dummy = SWITCH #( me-&gt;get_mode( )
                  WHEN action-read
                  THEN me-&gt;check_auth( )
                  ELSE THROW zcx_fi_general(
                              textid  = zcx_fi_general=&gt;wrong_mode
                              gv_mode = me-&gt;get_mode( )
                                           )
                       ).

    es_data = me-&gt;read( ).

  ENDMETHOD.</source>
  </interfaceMethod>
  <method CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="CHECK_AUTH" VERSION="1" LANGU="E" DESCRIPT="Check Commitment Item Authorisations" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="CHECK_AUTH" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="CHECK_AUTH" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD check_auth.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA(l_actvt) = auth_actvt-update.

    DATA l_flg_auth TYPE xfeld.

    CALL FUNCTION &apos;FM_AUTH_CHECK_FM_AREA&apos;
      EXPORTING
        i_fikrs       = me-&gt;get_fikrs( )
        i_actvt       = l_actvt
        i_msgty       = if_hrbas_message_handler=&gt;error
      IMPORTING
        e_flg_auth    = l_flg_auth
      EXCEPTIONS
        error_message = 1.

    IF l_flg_auth IS INITIAL OR sy-subrc IS NOT INITIAL.
      MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
        WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
        INTO me-&gt;dummy.
      _mac_raise.
    ENDIF.

* check authority CI group
    l_actvt = SWITCH #( me-&gt;get_mode( )
                WHEN action-insert
                THEN auth_actvt-create
                WHEN action-update
                THEN auth_actvt-update
                ELSE auth_actvt-read
                      ).

    CALL FUNCTION &apos;FM_AUTH_CHECK_GRP_COM_ITEM&apos;
      EXPORTING
        i_fikrs         = me-&gt;get_fikrs( )
        i_fipex         = CONV fm_fipex( |{ me-&gt;get_fipex( ) ALPHA = OUT }| )
        i_authgrp_fipex = me-&gt;get_data( )-fmci-augrp
        i_actvt         = l_actvt
        i_msgty         = if_hrbas_message_handler=&gt;error
      IMPORTING
        e_flg_auth      = l_flg_auth
      EXCEPTIONS
        error_message   = 1.

    CHECK l_flg_auth IS INITIAL OR sy-subrc IS NOT INITIAL.

    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
      WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
      INTO me-&gt;dummy.

    _mac_raise.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="CHECK_MAINTAIN" VERSION="1" LANGU="E" DESCRIPT="Check data before Maintenance" EXPOSURE="0" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <exception CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="CHECK_MAINTAIN" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
   <source>METHOD check_maintain.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    CHECK me-&gt;get_mode( ) = action-update. &quot;AND me-&gt;get_ref( ).

    MESSAGE e008(zfi) WITH |Maintain with Reference is only valid for &apos;Insert&apos; Mode| INTO me-&gt;dummy.
    _mac_raise.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FICO_MASTERDATA" CMPNAME="CHECK_MODE" VERSION="0" EXPOSURE="0" STATE="0" EDITORDER="0 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD check_mode.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" DESCRIPT="Object Constructor" EXPOSURE="0" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="2" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="CONSTRUCTOR" SCONAME="IV_FIPEX" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="FM_FIPEX"/>
   <source>METHOD constructor.

    super-&gt;constructor( ).

    me-&gt;set_fipex( iv_fipex ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="GET_DATA" VERSION="1" LANGU="E" DESCRIPT="Get Commitment Item Master Data" EXPOSURE="0" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="GET_DATA" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZFI_S_COMMITMENT_DATA"/>
   <source>METHOD get_data.
    rs_result = me-&gt;ls_data.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="GET_FIKRS" VERSION="1" LANGU="E" DESCRIPT="Get Financial Management Area" EXPOSURE="0" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="GET_FIKRS" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="FIKRS"/>
   <source>METHOD get_fikrs.
    r_result = me-&gt;lv_fikrs.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="GET_FIPEX" VERSION="1" LANGU="E" DESCRIPT="Get Commitment Item" EXPOSURE="0" STATE="1" EDITORDER="8 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="GET_FIPEX" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="FM_FIPEX"/>
   <source>METHOD get_fipex.
    r_result = me-&gt;lv_fipex.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="GET_REF" VERSION="1" LANGU="E" DESCRIPT="Get Reference Commitment Item" EXPOSURE="0" STATE="1" EDITORDER="9 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="GET_REF" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="FM_FIPEX"/>
   <source>METHOD get_ref.
    r_result = me-&gt;lv_ref.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="READ" VERSION="1" LANGU="E" DESCRIPT="Read Commitment Item details" EXPOSURE="0" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="READ" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZFI_S_COMMITMENT_DATA"/>
   <exception CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="READ" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD read.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    ASSERT me-&gt;get_fikrs( ).

    CALL FUNCTION &apos;FM_COM_ITEM_READ_SINGLE_DATA&apos;
      EXPORTING
        i_fikrs                  = me-&gt;get_fikrs( )
*       i_varnt                  = &apos;000&apos;
        i_gjahr                  = CONV gjahr( &apos;&apos; )
        i_fipex                  = COND #( WHEN me-&gt;get_ref( )
                                           THEN me-&gt;get_ref( )
                                           ELSE me-&gt;get_fipex( )
                                         )
        i_date                   = sy-datum
        i_flg_text               = abap_true
        i_flg_hierarchy          = abap_true
      IMPORTING
        e_f_fmci                 = rs_result-fmci
        e_f_fmcit                = rs_result-fmcit
        e_f_fmhici               = rs_result-fmhici
      EXCEPTIONS
        master_data_not_found    = 1
        hierarchy_data_not_found = 2
        input_error              = 3
        cmmt_item_not_valid      = 4
        OTHERS                   = 5.

    CHECK sy-subrc &lt;&gt; 0.

    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
      WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
      INTO me-&gt;dummy.

    _mac_raise.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="SET_DATA" VERSION="1" LANGU="E" DESCRIPT="Set Commitment Item Master Data" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="SET_DATA" SCONAME="IS_DATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ZFI_S_COMMITMENT_DATA"/>
   <source>METHOD set_data.
    me-&gt;ls_data = is_data.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="SET_FIKRS" VERSION="1" LANGU="E" DESCRIPT="Set Financial Management Area" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="SET_FIKRS" SCONAME="IV_FIKRS" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="FIKRS" PARVALUE="TAFE_FM_AREA"/>
   <source>METHOD set_fikrs.
    me-&gt;lv_fikrs = iv_fikrs.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="SET_FIPEX" VERSION="1" LANGU="E" DESCRIPT="Set Commitment Item" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="SET_FIPEX" SCONAME="IV_FIPEX" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="FM_FIPEX"/>
   <source>METHOD set_fipex.
    me-&gt;lv_fipex = |{ iv_fipex ALPHA = OUT }|.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="SET_REF" VERSION="1" LANGU="E" DESCRIPT="Set Reference Commitment Item" EXPOSURE="0" STATE="1" EDITORDER="10 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="SET_REF" SCONAME="IV_REF" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY"/>
   <source>METHOD set_ref.
    me-&gt;lv_ref = |{ iv_ref ALPHA = OUT }|.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="_SAVE" VERSION="1" LANGU="E" DESCRIPT="Save Commitment Item Master Data" EXPOSURE="0" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="_SAVE" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZCL_FI_COMMITMENT_API" CMPNAME="_SAVE" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD _save.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA:
      lt_fmci    TYPE fmmd_t_fmci,
      lt_fmcit   TYPE fmmd_t_fmcit,
      lt_fmhici  TYPE fmmd_t_fmhici,
      lt_fmzubsp TYPE fmmd_t_fmzubsp,
      l_subrc    TYPE sysubrc.

    DATA:
      l_status_md        TYPE fmdy-xfeld,
      l_status_hierarchy TYPE fmdy-xfeld.

    DATA(ls_fmci)    = VALUE fmmd_fmci( LET l_fipex = me-&gt;get_data( )-fmci-fipex IN
                         BASE CORRESPONDING #( me-&gt;get_data( )-fmci )
                                fikrs  = me-&gt;get_fikrs( )
                                fipex  = |{ l_fipex ALPHA = OUT }|
                                fipos  = |{ l_fipex ALPHA = OUT }|
                                action = me-&gt;get_mode( )
                                      ).

    DATA(ls_fmcit)   = VALUE fmmd_fmcit( LET l_fipex = me-&gt;get_data( )-fmci-fipex IN
                         BASE CORRESPONDING #( me-&gt;get_data( )-fmcit )
                                fikrs  = me-&gt;get_fikrs( )
                                fipex  = |{ l_fipex ALPHA = OUT }|
                                spras  = sy-langu
                                action = me-&gt;get_mode( )
                                       ).

    IF me-&gt;get_data( )-fmzubsp IS NOT INITIAL.
      DATA(ls_fmzubsp) = VALUE fmmd_fmzubsp( LET l_fipex = me-&gt;get_data( )-fmci-fipex IN
                          BASE CORRESPONDING #( me-&gt;get_data( )-fmzubsp )
                                sfipex  = |{ l_fipex ALPHA = OUT }|
                                action = me-&gt;get_mode( )
                                           ).
    ENDIF.

    DATA(lt_hier) = VALUE fmmd_t_fmhici_small( ( VALUE #( BASE CORRESPONDING #( me-&gt;get_data( )-fmci )
                                                            varnt  = CONV #( |000| )
                                                            action = me-&gt;get_mode( )
                                                        )
                                               )
                                             ).

    PERFORM single_item_fill_structures
      IN PROGRAM sapmfmci IF FOUND
            TABLES   lt_fmci
                     lt_fmcit
                     lt_fmhici
                     lt_fmzubsp
            USING    space
                     ls_fmci
                     ls_fmcit
                     lt_hier
                     ls_fmzubsp
           CHANGING  l_subrc.

    IF NOT me-&gt;get_simulate( ).
      &quot;update mode
      CALL FUNCTION &apos;ENQUEUE_EFMCI&apos;
        EXPORTING
          fikrs          = me-&gt;get_fikrs( )
          gjahr          = CONV gjahr( &apos;&apos; )
          fipex          = me-&gt;get_data( )-fmci-fipex
        EXCEPTIONS
          foreign_lock   = 1                &quot; Object already locked
          system_failure = 2                &quot; Internal error from enqueue server
          OTHERS         = 3.

      IF sy-subrc &lt;&gt; 0.
        MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
          WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
          INTO me-&gt;dummy.
        _mac_raise.
      ENDIF.

      CALL FUNCTION &apos;FM_COMITEM_UPDATE&apos;
        EXPORTING
          i_fikrs        = me-&gt;get_fikrs( )
          i_gjahr        = CONV gjahr( &apos;&apos; )
          i_flg_commit   = me-&gt;get_commit( )
        TABLES
          t_fmmd_fmci    = lt_fmci
          t_fmmd_fmcit   = lt_fmcit
          t_fmmd_fmhici  = lt_fmhici
          t_fmmd_fmzubsp = lt_fmzubsp
        EXCEPTIONS
          error_occurred = 1
          OTHERS         = 2.

      r_result = xsdbool( sy-subrc = 0 ).

      CALL FUNCTION &apos;DEQUEUE_EFMCI&apos;
        EXPORTING
          fikrs = me-&gt;get_fikrs( )
          gjahr = CONV gjahr( &apos;&apos; )
          fipex = me-&gt;get_data( )-fmci-fipex.

    ELSE.
      &quot;simulation mode
      CALL FUNCTION &apos;FM_COM_ITEM_NO_SCREEN_CREATE&apos;
        EXPORTING
          i_f_fmci           = CORRESPONDING fmci( ls_fmci )
          i_f_fmcit          = CORRESPONDING fmcit( ls_fmcit )
          i_f_fmzubsp        = CORRESPONDING fmzubsp( ls_fmzubsp )
          i_fipup            = ls_fmci-fipup
          i_varnt            = VALUE #( lt_hier[ 1 ]-varnt DEFAULT CONV #( |000| ) )
          i_flg_test         = abap_true
          i_flg_no_enqueue   = abap_true
          i_flg_commit       = abap_false
        IMPORTING
          e_status_md        = l_status_md
          e_status_hierarchy = l_status_hierarchy
        EXCEPTIONS
          error_occured      = 1
          OTHERS             = 2.

      r_result = xsdbool( sy-subrc = 0 ).

    ENDIF.

    CHECK r_result IS INITIAL.

    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
      WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
      INTO me-&gt;dummy.

    _mac_raise.

  ENDMETHOD.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" VERSION="1" LANGU="E" DESCRIPT="Imp. class for BAdI imp. ZFI_QISR1_GL_MAINT" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" RSTAT="K" CLSBCCAT="00" MSG_ID="ZFI_GLMAST" DURATION_TYPE="0 " RISK_LEVEL="0 " ZSAPLINK_PLUGIN_MAJOR_VERSION="0 " ZSAPLINK_PLUGIN_MINOR_VERSION="1 " ZSAPLINK_PLUGIN_BUILD_VERSION="0 " ZSAPLINK_PLUGIN_INFO1="ZSAPLINK_CLASS is part of the main ZSAPLINK project --&gt; This plugin found there instead of ZSAPLINK_PLUGINS projects" ZSAPLINK_PLUGIN_INFO2="SAPLINK homepage: https://www.assembla.com/spaces/saplink/wiki" ZSAPLINK_PLUGIN_INFO3="Download from https://www.assembla.com/code/saplink/subversion/nodes" ZSAPLINK_PLUGIN_INFO4="and navigate to:  trunk -&gt; core -&gt; ZSAPLINK -&gt; CLAS -&gt; ZSAPLINK_CLASS.slnk">
  <implementing CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" VERSION="1" EXPOSURE="2" STATE="1" RELTYPE="1" EDITORDER="3 "/>
  <implementing CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" REFCLSNAME="IF_EX_QISR1" VERSION="1" EXPOSURE="2" STATE="1" RELTYPE="1" EDITORDER="2 "/>
  <localImplementation>*&quot;* use this source file for the definition and implementation of
*&quot;* local helper classes, interface definitions and type
*&quot;* declarations</localImplementation>
  <localTypes>*&quot;* use this source file for any type of declarations (class
*&quot;* definitions, interfaces or type declarations) you need for
*&quot;* components in the private section

TYPES:
  BEGIN OF ty_refaccts,
    glcoa_grp  TYPE saknr,
    glcoa_oper TYPE saknr,
    comitem    TYPE fm_fipex,
    glccode    TYPE saknr,
    glfsv      TYPE saknr,
    costelem   TYPE kstar,
  END OF ty_refaccts,

  BEGIN OF ty_isr_groups,
    sectionnum TYPE qisrdfieldindex,
    fieldname  TYPE qisrdfieldname,
  END OF ty_isr_groups,
  tty_isr_group TYPE SORTED TABLE OF ty_isr_groups WITH UNIQUE KEY sectionnum fieldname,
  tty_ucomm     TYPE RANGE OF syucomm,
  tty_ebs_gl    TYPE STANDARD TABLE OF zfic_ebs_glaccnt WITH DEFAULT KEY.</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class

DEFINE _mac_add_msg.
  zcl_com_bapireturn_services=&gt;add_message_to_bapiret(
     EXPORTING
       iv_type       = sy-msgty          &quot; Message type: S Success, E Error, W Warning, I Info, A Abort
       iv_id         = sy-msgid          &quot; Message Class
     CHANGING
       ct_return     = &amp;1                &quot; Table with BAPI Return Information
   ).
   &amp;2 = zcl_com_bapireturn_services=&gt;add_msg_to_str1( ).     &quot;Return structure (required by some Methods)
END-OF-DEFINITION.

DEFINE _mac_check_field.
  IF NOT me-&gt;get_fldvalue( &amp;1 ).
   MESSAGE &amp;2 WITH &amp;3 &amp;4 INTO me-&gt;l_dummy.
   _mac_add_msg me-&gt;lt_messages me-&gt;ls_return.
  ENDIF.
END-OF-DEFINITION.

DEFINE _mac_resume_if_resumable.
  IF &amp;1 = abap_true.
   RESUME.
  ELSE.
   CHECK me-&gt;get_fldvalue( |REQUEST_TYPE| ) BETWEEN 1 AND 2.
   me-&gt;lo_exception = NEW #( gv_symsg = CORRESPONDING #( sy ) ).
   me-&gt;lo_exception-&gt;add_sy_message( ).
   RAISE EXCEPTION me-&gt;lo_exception.
  ENDIF.
END-OF-DEFINITION.</localMacros>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="ACTION" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="0" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" REFCMPNAME="CO_ACTION" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="COA_GROUP_TAFE" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="0" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" REFCMPNAME="COA_GROUP_TAFE" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="COA_OPER_TAFE" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="0" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" REFCMPNAME="COA_OPERATING_TAFE" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="FSV_VERSN" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="0" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" REFCMPNAME="CO_FSV_VERSN" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LO_EXCEPTION" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCX_FI_GENERAL" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LO_GL_FACTORY" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_FICO_MASTERDATA_FACTORY" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LS_ACCT_NAMES" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="8 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GLACCOUNT_NAME_DATA" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LS_CCODE_DATA" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="7 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_DATA" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LS_COA_DATA" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="6 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GLACCOUNT_COA_DATA" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LS_COMMITMENT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="9 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="ZFI_S_COMMITMENT_DATA" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LS_COSTELEMENT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="10 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BAPI1030_CEOUTPUTLIST" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LS_REFACCTS" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="23 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="TY_REFACCTS" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LS_RETURN" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="5 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BAPIRET1" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_ACCT_GROUP" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="28 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_ADDITIONAL" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="13 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_CELEM_CAT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="47 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_CITEM_CAT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="44 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_CITEM_POST" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="43 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_CITEM_VAR" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="46 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_COMP_CODES" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="27 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_CURRENCY" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="36 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_FINSTAT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="30 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_FINSTNOTE" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="31 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_FINTRANS" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="42 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_FLDSTATUS" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="39 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_FSV_HIER" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="48 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_FSV_HIER2" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="49 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_GL_CFLOW" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="32 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_GL_TOES" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="29 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_GROUPS" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="24 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="TTY_ISR_GROUP" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_INFO" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="14 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTFIELD_INFO" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_MESSAGES" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="11 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTRETURN" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_NAVIGATOR" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="26 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_NCVER_ACT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="34 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_NCVER_CFLO" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="35 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_NCVER_DSC" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="33 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_PLANLEVEL" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="40 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_PLANRELV" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="41 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_SCITEM_CAT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="45 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_SORTKEY" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="38 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_SPECIAL" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="12 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_TAXCATEG" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="37 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LT_USERCOMM" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="25 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="TTY_UCOMM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LV_MODE" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GLACCOUNT_ACTION" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="LV_SIMULATE" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="4 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BOOLE_D" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="L_BUS_UNIT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="21 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STEXT" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="L_CHKLIST" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="22 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BOOLE_D" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="L_COMMAND" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="18 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="SYUCOMM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="L_DUMMY" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="19 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BAPI_MSG" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="L_MODE" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="16 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRDMODE" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="L_NOTIF" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="20 " ATTDECLTYP="1" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QMNUM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="L_OBJECTKEY" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="15 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QMNUM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="L_VIEW" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="17 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="QISRDFORMVIEW" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="TAFE_COMPCODE" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="0" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" REFCMPNAME="COMP_CODE_TAFE" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="TAFE_FMAREA" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="0" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" REFCMPNAME="FM_AREA_1000" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="TAFE_FSV" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="0" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" REFCMPNAME="CO_FSV_VERSN" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="TAFE_KOKRS" VERSION="1" LANGU="E" ALIAS="X" EXPOSURE="0" STATE="1" EDITORDER="0 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="0" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " REFCLSNAME="ZIF_FI_GLOBAL_CONSTANTS" REFCMPNAME="CO_AREA_1000" TYPESRC_LENG="0 "/>
  <interfaceMethod CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CPDNAME="IF_EX_QISR1~INT_SERVICE_REQUEST_CHECK">
   <source>METHOD if_ex_qisr1~int_service_request_check.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    me-&gt;set_mode( mode ).
    me-&gt;set_command( user_command ).
    me-&gt;set_view( form_view ).
    me-&gt;set_special( special_data ).
    me-&gt;set_additional( additional_data ).
    me-&gt;set_control( CHANGING ct_special_data = special_data ).

    CHECK   me-&gt;get_view( )     = |ISR_REQUEST|                            AND
            NOT me-&gt;get_fldvalue( |DRAFT| )                                AND
          ( me-&gt;get_mode( )     = |CREATE| OR me-&gt;get_mode( ) = |CHANGE| ) AND
          ( me-&gt;get_command( )  = |CHECK|  OR me-&gt;get_command( ) = |START| ).

    TRY.
        me-&gt;check_mandatory( ).
        me-&gt;simulate( ).

      CATCH BEFORE UNWIND zcx_fi_general INTO DATA(lo_exception).
        IF lo_exception-&gt;is_resumable IS NOT INITIAL.
          &quot;that&apos;s OK - we continue with rest of the updates until a &quot;hard&quot; exception is raised
          RESUME.
        ELSE.
          me-&gt;set_messages( lo_exception-&gt;get_messages( ) ).
          message_list = me-&gt;get_messages( ).
          me-&gt;clear_fields( ).                                    &quot;do we want to clear after check?
          special_data = me-&gt;get_special( ).
          return = VALUE #( message_list[ 1 ] OPTIONAL ).         &quot;required for this interface method
          RETURN.
        ENDIF.
    ENDTRY.

    message_list = me-&gt;get_messages( ).
    return = VALUE #( message_list[ 1 ] OPTIONAL ).
    special_data = me-&gt;get_special( ).

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CPDNAME="IF_EX_QISR1~INT_SERVICE_REQUEST_INIT">
   <source>METHOD if_ex_qisr1~int_service_request_init.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    me-&gt;set_usercomm( ).
    me-&gt;set_groups( ).

    special_data[ fieldname = |REQUEST_TYPE| ]-fieldvalue = |1|.  &quot;Defaulting to 1 at start

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CPDNAME="IF_EX_QISR1~POST_NOTIF_POSITION">
   <source>METHOD if_ex_qisr1~post_notif_position.
  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CPDNAME="IF_EX_QISR1~REVERSE_NOTIF_EXTERNAL">
   <source>METHOD if_ex_qisr1~reverse_notif_external.
  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CPDNAME="IF_EX_QISR1~SCENARIO_AFTER_SUBMIT">
   <source>METHOD if_ex_qisr1~scenario_after_submit.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   October 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    me-&gt;set_mode( mode ).
    me-&gt;set_command( user_command ).
    me-&gt;set_view( form_view ).
    me-&gt;set_special( special_data ).
    me-&gt;set_objectkey( object_key ).

    CHECK ( me-&gt;get_mode( ) = |CHANGE| AND me-&gt;get_view( ) = |ISR_APPROVE| )                        &quot;during Approval process
      OR  ( me-&gt;get_view( ) = |ISR_REQUEST| AND me-&gt;get_fldvalue( |APPRV_STATUS| ) = |WITHDRAWN| ). &quot;during Withdrawal process

    message_list = me-&gt;get_messages( ).
    return = VALUE #( message_list[ 1 ] OPTIONAL ).
    CHECK zcl_com_bapireturn_services=&gt;check_itab_for_errors( message_list ) &lt;&gt; 0.

    message_list = VALUE #( BASE message_list ( LINES OF me-&gt;set_approval_status( ) ) ).
    return = VALUE #( message_list[ 1 ] OPTIONAL ).

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CPDNAME="IF_EX_QISR1~SCENARIO_FINAL_BEFORE_SUBMIT">
   <source>METHOD if_ex_qisr1~scenario_final_before_submit.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   October 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    me-&gt;set_mode( mode ).
    me-&gt;set_command( user_command ).
    me-&gt;set_view( form_view ).
    me-&gt;set_special( special_data ).
    me-&gt;set_control( CHANGING ct_special_data = special_data ).

    CHECK me-&gt;get_view( ) = |ISR_REQUEST| AND    &quot;first condition -&gt; must be from a Request view
          ( me-&gt;get_mode( )    = |CREATE| OR me-&gt;get_mode( ) = |CHANGE| )  AND
          ( me-&gt;get_command( ) = |SEND|   OR me-&gt;get_command( ) = |SAVE| ).


    me-&gt;lt_special[ fieldname = |APPRV_STATUS| ]-fieldvalue
            = COND #( WHEN me-&gt;get_fldvalue( |DRAFT| )          &quot;save as Draft checkbox is ON
                      THEN `DRAFT`
                      ELSE SWITCH #( me-&gt;get_fldvalue( |APPRV_STATUS| )
                            WHEN `CLOSED`
                            THEN |WITHDRAWN|
                            ELSE |SUBMIT|                       &quot;save as Draft checkbox is OFF
                           )
                    ).

    special_data = me-&gt;get_special( ).

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CPDNAME="IF_EX_QISR1~SCENARIO_PROCESS_USER_COMMAND">
   <source>METHOD if_ex_qisr1~scenario_process_user_command.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA gl_data_group TYPE /eby/pdmdgl_sbapi_data.
    DATA gl_data_oper  TYPE /eby/pdmdgl_sbapi_data.
    DATA gl_data_ccode TYPE /eby/pdmdgl_sbapi_data.
    DATA comitem_data  TYPE zfi_s_commitment_data.
    DATA costelem_data TYPE bapi1030_ceoutputlist.
    DATA fsv_data      TYPE fagl_011zc.

* method names are self explanatory without additional comments
    me-&gt;set_mode( mode ).
    me-&gt;set_command( user_command ).
    me-&gt;set_view( form_view ).
    me-&gt;set_special( special_data ).
    me-&gt;set_additional( additional_data ).
    me-&gt;set_control( CHANGING ct_special_data = special_data ).
    me-&gt;set_info( field_info ).
    me-&gt;update_fieldinfo( ).
    me-&gt;handle_commands( ).
    me-&gt;check_approvers( CHANGING cs_return = return ).
    me-&gt;refresh( ).

    CHECK ( me-&gt;get_mode( ) = |CREATE| OR me-&gt;get_mode( ) = |CHANGE| ) AND
            me-&gt;get_view( ) = |ISR_REQUEST|.

    me-&gt;set_fldvalue( VALUE #( LET indx = 1 IN fieldindex = indx
         ( fieldname = |NEW_GLACCT2|     fieldvalue = me-&gt;get_fldvalue( |NEW_GLACCT| ) )
         ( fieldname = |NEW_GLACCT4|     fieldvalue = me-&gt;get_fldvalue( |NEW_GLACCT| ) )
         ( fieldname = |NEW_COMITEM|     fieldvalue = me-&gt;get_fldvalue( |NEW_GLACCT| ) )
         ( fieldname = |NEW_CCODE_FIPEX| fieldvalue = me-&gt;get_fldvalue( |NEW_GLACCT| ) )
         ( fieldname = |NEW_GLFSV|       fieldvalue = me-&gt;get_fldvalue( |NEW_GLACCT| ) )
         ( fieldname = |NEW_COSTELEM|    fieldvalue = COND #( WHEN me-&gt;is_costelem_required( )   &quot;Is Cost Element required at all for this GL account?
                                                              THEN me-&gt;get_fldvalue( |NEW_GLACCT| )
                                                              ELSE space
                                                            ) )
         ( fieldname = |NEW_BILKT|       fieldvalue = me-&gt;get_fldvalue( |NEW_GLACCT| ) )

       &quot;the below block has to be commented out when all Sections are required visible on the Form
         ( fieldname = |REF_GLACCT2|    fieldvalue = me-&gt;get_fldvalue( |REF_GLACCT| ) )
         ( fieldname = |REF_GLACCT4|    fieldvalue = me-&gt;get_fldvalue( |REF_GLACCT| ) )
         ( fieldname = |REF_COMITEM|    fieldvalue = me-&gt;get_fldvalue( |REF_GLACCT| ) )
         ( fieldname = |REF_GLFSV|      fieldvalue = SWITCH #( me-&gt;get_fldvalue( |REQUEST_TYPE| )
                                                        WHEN 5
                                                        THEN me-&gt;get_fldvalue( |REF_GLFSV| )
                                                        ELSE me-&gt;get_fldvalue( |REF_GLACCT| )
                                                             ) )
         ( fieldname = |REF_COSTELEM|   fieldvalue = me-&gt;get_fldvalue( |REF_GLACCT| ) )
                             )
                    ).

    TRY.
        me-&gt;validate_data( ).
        me-&gt;set_api_mode( action-read ).

*      validation OK -&gt; instantiate for Read
        me-&gt;lo_gl_factory = me-&gt;get_md_factory( VALUE #(
                                 saknr = CONV #( me-&gt;get_fldvalue( |REF_GLACCT| ) )
                                 ktopl = CONV #( me-&gt;get_fldvalue( |NEW_COA| ) )
                                                      )
                                             ).

        IF me-&gt;lo_gl_factory IS BOUND.
          &quot;get data for Section 1 (GL Account in COA 2000)
          me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~get_data( IMPORTING es_data = gl_data_group ).

          me-&gt;set_fldvalue( VALUE #( LET index = 1 IN fieldindex = index
               ( fieldname = |REF_COA|        fieldvalue  = coa_group_tafe )
               ( fieldname = |REF_KTOKS|      fieldvalue  = gl_data_group-coa_data-ktoks )
               ( fieldname = |REF_XBILK|      fieldvalue  = gl_data_group-coa_data-xbilk )
               ( fieldname = |REF_GVTYP|      fieldvalue  = gl_data_group-coa_data-gvtyp )
               ( fieldname = |REF_PROP_DESC|  fieldvalue  = gl_data_group-names[ 1 ]-data-txt20 )
               ( fieldname = |REF_LONG_DESC|  fieldvalue  = gl_data_group-names[ 1 ]-data-txt50 )
               ( fieldname = |REF_TOES|       fieldvalue  = gl_data_group-coa_data-zzs_ncver_toes-zz_toes_acct )
               ( fieldname = |REF_FSTMT|      fieldvalue  = gl_data_group-coa_data-zzs_ncver_toes-zz_finstat_code )
               ( fieldname = |REF_FSTMT_NOTE| fieldvalue  = gl_data_group-coa_data-zzs_ncver_toes-zz_finstat_note )
               ( fieldname = |REF_CFLOW|      fieldvalue  = gl_data_group-coa_data-zzs_ncver_toes-zz_cf_classf )
               ( fieldname = |REF_NCVER_DSC|  fieldvalue  = gl_data_group-coa_data-zzs_ncver_toes-zz_fs_dsclsr )
               ( fieldname = |REF_NCVER_ACT|  fieldvalue  = gl_data_group-coa_data-zzs_ncver_toes-zz_actvt_code )
               ( fieldname = |REF_NCVER_CFLO| fieldvalue  = gl_data_group-coa_data-zzs_ncver_toes-zz_cflo_code )
                                   )
                          ).
        ENDIF.

        &quot;get data for Section 2 (GL Account in COA 1000)
        me-&gt;lo_gl_factory = me-&gt;get_md_factory( VALUE #(
                                   saknr = CONV #( me-&gt;get_fldvalue( |REF_GLACCT2| ) )
                                   ktopl = CONV #( me-&gt;get_fldvalue( |NEW_COA2| ) )
                                                            )
                                                   ).

        IF me-&gt;lo_gl_factory IS BOUND.
          me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~get_data( IMPORTING es_data = gl_data_oper ).

          me-&gt;set_fldvalue( VALUE #( LET index = 1 IN fieldindex = index
               ( fieldname = |REF_COA2|       fieldvalue  = coa_oper_tafe )
               ( fieldname = |REF_KTOKS2|     fieldvalue  = gl_data_oper-coa_data-ktoks )
               ( fieldname = |REF_XBILK2|     fieldvalue  = gl_data_oper-coa_data-xbilk )
               ( fieldname = |REF_BILKT|      fieldvalue  = |{ gl_data_oper-coa_data-bilkt ALPHA = OUT }| )
               ( fieldname = |REF_GVTYP2|     fieldvalue  = gl_data_oper-coa_data-gvtyp )
               ( fieldname = |REF_PROP_DESC2| fieldvalue  = gl_data_oper-names[ 1 ]-data-txt20 )
               ( fieldname = |REF_LONG_DESC2| fieldvalue  = gl_data_oper-names[ 1 ]-data-txt50 )
                                   )
                          ).
        ENDIF.

        &quot;get data for Section 4 (GL Account in Company Code 1020)
        me-&gt;lo_gl_factory = me-&gt;get_md_factory( VALUE #(
                                    saknr = CONV #( me-&gt;get_fldvalue( |REF_GLACCT4| ) )
                                    bukrs = CONV #( me-&gt;get_fldvalue( |NEW_COMPCODE4| ) )
                                              )
                            ).

        IF me-&gt;lo_gl_factory IS BOUND.
          me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~get_data( IMPORTING es_data = gl_data_ccode ).

          me-&gt;set_fldvalue( VALUE #( LET index = 1 IN fieldindex = index
               ( fieldname = |REF_COMPCODE4|   fieldvalue = tafe_compcode )
               ( fieldname = |REF_CURR|        fieldvalue = gl_data_ccode-ccode_data-waers )
               ( fieldname = |REF_BALLC|       fieldvalue = gl_data_ccode-ccode_data-xsalh )
               ( fieldname = |REF_TAXCATEG|    fieldvalue = gl_data_ccode-ccode_data-mwskz )
               ( fieldname = |REF_POSTNOTAX|   fieldvalue = gl_data_ccode-ccode_data-xmwno )
               ( fieldname = |REF_ALTACCT|     fieldvalue = |{ gl_data_ccode-ccode_data-altkt ALPHA = OUT }| )
               ( fieldname = |REF_OPENITEM|    fieldvalue = gl_data_ccode-ccode_data-xopvw )
               ( fieldname = |REF_LITEM_DISP|  fieldvalue = gl_data_ccode-ccode_data-xkres )
               ( fieldname = |REF_SORTKEY|     fieldvalue = gl_data_ccode-ccode_data-zuawa )
               ( fieldname = |REF_FSTAG|       fieldvalue = gl_data_ccode-ccode_data-fstag )
               ( fieldname = |REF_AUTOPOST|    fieldvalue = gl_data_ccode-ccode_data-xintb )
               ( fieldname = |REF_PLANLVL|     fieldvalue = gl_data_ccode-ccode_data-fdlev )
               ( fieldname = |REF_CFLOW_RELV|  fieldvalue = gl_data_ccode-ccode_data-xgkon )
               ( fieldname = |REF_CCODE_FIPEX| fieldvalue = gl_data_ccode-ccode_data-fipos )
               ( fieldname = |REF_PLANRELV|    fieldvalue = gl_data_ccode-ccode_data-zz_plan_relv )
               ( fieldname = |REF_ASSINFO|     fieldvalue = gl_data_ccode-ccode_data-zz_glacct_ccode_text )
                                   )
                          ).
        ENDIF.

        &quot;get data for Section 3 (Commitment Item Details)
        me-&gt;lo_gl_factory = me-&gt;get_md_factory( VALUE #(
                                    fikrs = tafe_fmarea
                                    fipex = CONV #( me-&gt;get_fldvalue( |REF_COMITEM| ) ) ) ).

        IF me-&gt;lo_gl_factory IS BOUND.
          me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~get_data( IMPORTING es_data = comitem_data ).

          me-&gt;set_fldvalue( VALUE #( LET index = 1 IN fieldindex = index
                ( fieldname = |REF_FM|                fieldvalue = comitem_data-fmci-fikrs )
                ( fieldname = |REF_CITEM_NAME|        fieldvalue = comitem_data-fmcit-bezei )
                ( fieldname = |REF_CITEM_DESC|        fieldvalue = comitem_data-fmcit-text1 )
                ( fieldname = |REF_CITEM_POST|        fieldvalue = comitem_data-fmci-kateg )
                ( fieldname = |REF_CITEM_TRTYP|       fieldvalue = comitem_data-fmci-fivor )
                ( fieldname = |REF_CITEM_ITCATEG|     fieldvalue = comitem_data-fmci-potyp )
                ( fieldname = |REF_CITEM_SUP_ITCATEG| fieldvalue = comitem_data-fmci-fipup )
                ( fieldname = |REF_CITEM_VARIANT|     fieldvalue = comitem_data-fmci-stvar )
                                   )
                          ).
        ENDIF.

        &quot;get data for Section 5 (GL account in FSV in TAFE FSV)
        me-&gt;lo_gl_factory = me-&gt;get_md_factory( VALUE #(
                                    saknr = CONV #( me-&gt;get_fldvalue( |REF_GLFSV| ) )
                                    versn = tafe_fsv-tafe_fsv
                                                       )
                                              ).

        IF me-&gt;lo_gl_factory IS BOUND.
          me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~get_data( IMPORTING es_data = fsv_data ).

          me-&gt;set_fldvalue( VALUE #( LET index = 1 IN fieldindex = index
                 ( fieldname = |REF_FSVCOA|            fieldvalue = fsv_data-ktopl )
                 ( fieldname = |REF_FSV|               fieldvalue = fsv_data-versn )
                 ( fieldname = |REF_FSVHIER|           fieldvalue = fsv_data-ergsl )
                                    )
                           ).
        ENDIF.

        &quot;get data for Section 5 (GL account in FSV in TAFE Alternate FSV Hierarchy)
        me-&gt;lo_gl_factory = me-&gt;get_md_factory( VALUE #(
                                    saknr = CONV #( me-&gt;get_fldvalue( |REF_GLFSV| ) )
                                    versn = tafe_fsv-tafe_alt_fsv
                                                       )
                                              ).

        IF me-&gt;lo_gl_factory IS BOUND.
          me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~get_data( IMPORTING es_data = fsv_data ).

          me-&gt;set_fldvalue( VALUE #( LET index = 1 IN fieldindex = index
                 ( fieldname = |REF_ALTFSV|               fieldvalue = fsv_data-versn )
                 ( fieldname = |REF_ALTFSVHIER|           fieldvalue = fsv_data-ergsl )
                                    )
                           ).
        ENDIF.

        &quot;get data for Section 6 (Cost Element)
        IF me-&gt;is_costelem_required( ).         &quot;Is Cost Element required at all for this GL account?
          me-&gt;lo_gl_factory = me-&gt;get_md_factory( VALUE #( kstar = CONV #( me-&gt;get_fldvalue( |REF_COSTELEM| ) ) ) ).

          IF me-&gt;lo_gl_factory IS BOUND.
            me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~get_data( IMPORTING es_data = costelem_data ).

            me-&gt;set_fldvalue( VALUE #( LET index = 1 IN fieldindex = index
                   ( fieldname = |REF_KOKRS|           fieldvalue = tafe_kokrs )
                   ( fieldname = |REF_CLEM_BEGDA|      fieldvalue = costelem_data-valid_from )
                   ( fieldname = |REF_CLEM_ENDDA|      fieldvalue = costelem_data-valid_to )
                   ( fieldname = |REF_CELEM_NAME|      fieldvalue = costelem_data-name )
                   ( fieldname = |REF_CELEM_DESC|      fieldvalue = costelem_data-descript )
                   ( fieldname = |REF_CELEM_CATEG|     fieldvalue = costelem_data-celem_category )
                                     )
                           ).
          ENDIF.
        ELSE.     &quot;Cost Element not required -&gt; clear data for this Section 6 -&gt; @TODO check config if hidden
          me-&gt;set_command( |RESET6| ).
          me-&gt;handle_commands( ).
        ENDIF.

        &quot;Section Lock/Unlock GL account in Operating Chart of Account
        me-&gt;lo_gl_factory = me-&gt;get_md_factory( VALUE #(
                                    saknr = CONV #( me-&gt;get_fldvalue( |REF_ACCTLOCK| ) )
                                    ktopl = CONV #( me-&gt;get_fldvalue( |NEW_COALOCK| ) )
                                              )
                            ).

        IF me-&gt;lo_gl_factory IS BOUND.
          me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~get_data( IMPORTING es_data = gl_data_oper ).

          me-&gt;set_fldvalue( VALUE #( LET index = 1 IN fieldindex = index
                 ( fieldname = |REF_COALOCK|  fieldvalue = me-&gt;get_fldvalue( |NEW_COALOCK| ) )
                 ( fieldname = |REF_LOCK|     fieldvalue = gl_data_oper-coa_data-xspeb )
                                   )
                          ).
        ENDIF.

        &quot;Section Set Delete Flag in Operating Chart of Account
        me-&gt;lo_gl_factory = me-&gt;get_md_factory( VALUE #(
                                    saknr = CONV #( me-&gt;get_fldvalue( |REF_ACCTDEL| ) )
                                    ktopl = CONV #( me-&gt;get_fldvalue( |NEW_COADEL| ) )
                                              )
                            ).

        IF me-&gt;lo_gl_factory IS BOUND.
          me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~get_data( IMPORTING es_data = gl_data_oper ).

          me-&gt;set_fldvalue( VALUE #( LET index = 1 IN fieldindex = index
                 ( fieldname = |REF_COADEL|  fieldvalue = me-&gt;get_fldvalue( |NEW_COADEL| ) )
                 ( fieldname = |REF_DEL|     fieldvalue = gl_data_oper-coa_data-xloev )
                                   )
                          ).
        ENDIF.

      CATCH BEFORE UNWIND zcx_fi_general INTO DATA(lo_exception).
        IF lo_exception-&gt;is_resumable IS NOT INITIAL.
          &quot;that&apos;s OK - we continue to load rest of the form until a &quot;hard&quot; exception is raised
          CLEAR fsv_data.
          RESUME.
        ELSE.
          me-&gt;set_messages( lo_exception-&gt;get_messages( ) ).
          message_list = me-&gt;get_messages( ).
          me-&gt;clear_fields( ).
          special_data = me-&gt;get_special( ).
        ENDIF.

      CATCH cx_sy_itab_line_not_found.
        MESSAGE e001 WITH flt_val INTO DATA(dummy).     &quot;Customising error
        _mac_add_msg me-&gt;lt_messages return.
    ENDTRY.

* set static data - we need to know if REF accounts were changed from the last time
    ls_refaccts = VALUE #( glcoa_grp   = special_data[ fieldname = |REF_GLACCT| ]-fieldvalue
                           glcoa_oper  = special_data[ fieldname = |REF_GLACCT2| ]-fieldvalue
                           comitem     = special_data[ fieldname = |REF_COMITEM| ]-fieldvalue
                           glccode     = special_data[ fieldname = |REF_GLACCT4| ]-fieldvalue
                           glfsv       = special_data[ fieldname = |REF_GLFSV| ]-fieldvalue
                           costelem    = special_data[ fieldname = |REF_COSTELEM| ]-fieldvalue
                         ).

* Copy values in NEW column from values in REF column
    me-&gt;copy_ref( is_coa_group = gl_data_group
                  is_coa_oper  = gl_data_oper
                  is_ccode     = gl_data_ccode
                  is_citemdata = comitem_data
                  is_fsvdata   = fsv_data
                  is_celemdata = costelem_data
                ).

    &quot;update Approval Status when Form is Withdrawn
    &quot; - this is set for BEFORE_SUBMIT &amp; AFTER_SUBMIT methods to pick up
    me-&gt;lt_special[ fieldname = |APPRV_STATUS|
                  ]-fieldvalue = SWITCH #( user_command
                                  WHEN `CLOSE`
                                  THEN |CLOSED|
                                  ELSE me-&gt;get_fldvalue( |APPRV_STATUS| )
                                ).

    special_data = me-&gt;get_special( ).

    CHECK user_command = |START| OR user_command = |CLOSE|.       &quot;Requestor amends/updates/withdraws Form from Draft/Revision WF step etc.

    me-&gt;if_ex_qisr1~int_service_request_check(
      EXPORTING
        flt_val         = flt_val
        field_info      = field_info
        mode            = mode
        form_view       = form_view
        user_command    = user_command
      IMPORTING
        return          = return
      CHANGING
        general_data    = general_data
        special_data    = special_data
        additional_data = additional_data
        message_list    = message_list
    ).

    CHECK zcl_com_bapireturn_services=&gt;check_itab_for_errors( message_list ) &lt;&gt; 0.

    CHECK l_notif IS NOT INITIAL.

    general_data-header-notif_no = l_notif.
    user_command = |SAVE|.                      &quot;&lt;-- system persists the Notification

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CPDNAME="IF_EX_QISR1~SCENARIO_SET_ADDITIONAL_VALUES">
   <source>METHOD if_ex_qisr1~scenario_set_additional_values.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    me-&gt;set_mode( mode ).
    me-&gt;set_view( form_view ).
    me-&gt;set_special( special_data ).
    me-&gt;set_additional( additional_data ).

    l_notif = COND #( WHEN general_data-header-notif_no IS NOT INITIAL
                      THEN general_data-header-notif_no
                      ELSE l_notif
                    ).

    me-&gt;set_dropdowns( ).

    additional_data = me-&gt;get_additional( ).

    &quot;not sure if concurrent and vacant positions required to be checked
    zcl_fcom_isr_tool=&gt;fill_form_req_position_data(
      EXPORTING
        iv_user_id               = SWITCH #( general_data-initiated_by-user_id
                                    WHEN space THEN sy-uname
                                    ELSE general_data-initiated_by-user_id
                                           )
      &quot;IMPORTING
      &quot;  ev_no_position_found     = DATA(lv_no_position_found)
      &quot;  ev_no_concurnt_pos_found = DATA(lv_no_concurnt_pos_found)
      CHANGING
        et_additional_data       = additional_data
     ).

    TRY.
        special_data[ fieldname = |POSITION_NAME| ]-fieldvalue  = VALUE #( additional_data[ fieldname = |POSITION_NAME_KEY| ]-fieldvalue OPTIONAL ).
        special_data[ fieldname = |POSITION_DESC| ]-fieldvalue  = VALUE #( additional_data[ fieldname = |POSITION_NAME_LABEL| ]-fieldvalue OPTIONAL ).
        special_data[ fieldname = |BUSINESS_UNIT| ]-fieldvalue  = me-&gt;get_bus_unit( me-&gt;get_fldvalue( it_data = additional_data iv_name = |POSITION_NAME_KEY| ) ).
        special_data[ fieldname = |ISR_REQUEST_NO| ]-fieldvalue = l_notif.
        special_data[ fieldname = |NEW_COA| ]-fieldvalue        = coa_group_tafe.
        special_data[ fieldname = |NEW_COA2| ]-fieldvalue       = coa_oper_tafe.
        special_data[ fieldname = |NEW_COMPCODE4 | ]-fieldvalue = tafe_compcode.
        special_data[ fieldname = |NEW_FM| ]-fieldvalue         = tafe_fmarea .
        special_data[ fieldname = |NEW_FSVCOA| ]-fieldvalue     = coa_oper_tafe.
        special_data[ fieldname = |NEW_FSV| ]-fieldvalue        = fsv_versn-tafe_fsv.
        special_data[ fieldname = |NEW_ALTFSV| ]-fieldvalue     = fsv_versn-tafe_alt_fsv.
        special_data[ fieldname = |NEW_KOKRS| ]-fieldvalue      = tafe_kokrs.
        special_data[ fieldname = |NEW_CLEM_BEGDA| ]-fieldvalue = me-&gt;get_fy_start( ).
        special_data[ fieldname = |NEW_COALOCK| ]-fieldvalue    = coa_oper_tafe.
        special_data[ fieldname = |NEW_COADEL| ]-fieldvalue     = coa_oper_tafe.

      CATCH cx_sy_itab_line_not_found.
        MESSAGE e001 WITH flt_val INTO DATA(dummy).     &quot;Customising error
        _mac_add_msg me-&gt;lt_messages data(return).
        RETURN.
    ENDTRY.

    &quot;initialise Agree flag on Revision request here as method REQUEST_INIT is not called on CHANGE mode
    CHECK me-&gt;get_mode( ) = |CHANGE| AND me-&gt;get_view( ) = |ISR_REQUEST| AND
          me-&gt;get_fldvalue( |ISR_EVENT| ) = |BACKTO|                     AND
          me-&gt;get_fldvalue( |ISR_REQUEST_NO| ).        &quot;Notification persists

    &quot; Requester must Agree every time on Revision request
    special_data[ fieldname = |AGREE| ]-fieldvalue = space.

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CPDNAME="IF_EX_QISR1~SCENARIO_SET_FORM_VIEW">
   <source>METHOD if_ex_qisr1~scenario_set_form_view.
  ENDMETHOD.</source>
  </interfaceMethod>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="ACCTNAME_MAPPER" VERSION="1" LANGU="E" DESCRIPT="Map account name" EXPOSURE="0" STATE="1" EDITORDER="27 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="ACCTNAME_MAPPER" SCONAME="IV_KTOPL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="KTOPL" PARVALUE="COA_GROUP_TAFE"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="ACCTNAME_MAPPER" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_NAME_DATA"/>
   <source>METHOD acctname_mapper.

    rs_result = VALUE #( txt20 = me-&gt;get_fldvalue( SWITCH #( iv_ktopl
                                                    WHEN coa_group_tafe
                                                    THEN |NEW_PROP_DESC|
                                                    WHEN coa_oper_tafe
                                                    THEN |NEW_PROP_DESC2|
                                                           )
                                                 )
                         txt50 = me-&gt;get_fldvalue( SWITCH #( iv_ktopl
                                                    WHEN coa_group_tafe
                                                    THEN |NEW_LONG_DESC|
                                                    WHEN coa_oper_tafe
                                                    THEN |NEW_LONG_DESC2|
                                                           )
                                                 )
                       ).
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="CCODE_MAPPER" VERSION="1" LANGU="E" DESCRIPT="Map Company Code data" EXPOSURE="0" STATE="1" EDITORDER="32 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="CCODE_MAPPER" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_DATA"/>
   <source>METHOD ccode_mapper.

    rs_result = VALUE #( waers = me-&gt;get_fldvalue( |NEW_CURR| )
                         xsalh = me-&gt;get_fldvalue( |NEW_BALLC| )
                         mwskz = me-&gt;get_fldvalue( |NEW_TAXCATEG| )
                         xmwno = me-&gt;get_fldvalue( |NEW_POSTNOTAX| )
                         altkt = me-&gt;get_fldvalue( |NEW_ALTACCT| )
                         xopvw = me-&gt;get_fldvalue( |NEW_OPENITEM| )
                         xkres = me-&gt;get_fldvalue( |NEW_LITEM_DISP| )
                         zuawa = me-&gt;get_fldvalue( |NEW_SORTKEY| )
                         fstag = me-&gt;get_fldvalue( |NEW_FSTAG| )
                         xintb = me-&gt;get_fldvalue( |NEW_AUTOPOST| )
                         fdlev = me-&gt;get_fldvalue( |NEW_PLANLVL| )
                         xgkon = me-&gt;get_fldvalue( |NEW_CFLOW_RELV| )
                         fipos = COND #( WHEN NOT me-&gt;get_simulate( )
                                         THEN |{ me-&gt;get_fldvalue( |NEW_CCODE_FIPEX| ) ALPHA = OUT }|
                                         ELSE space
                                       )
                         zz_plan_relv = me-&gt;get_fldvalue( |NEW_PLANRELV| )
                         zz_glacct_ccode_text = me-&gt;get_fldvalue( |NEW_ASSINFO| )
                      ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="CHECK_APPROVERS" VERSION="1" LANGU="E" DESCRIPT="Check mandatory fields for Approvers" EXPOSURE="0" STATE="1" EDITORDER="67 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="CHECK_APPROVERS" SCONAME="CS_RETURN" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="2" PARPASSTYP="1" TYPTYPE="1" TYPE="BAPIRET1"/>
   <source>METHOD check_approvers.

    CHECK me-&gt;get_mode( ) = |CHANGE| AND me-&gt;get_view( ) = |ISR_APPROVE|.       &quot;logic only for Approvers

    IF  me-&gt;get_fldvalue( |APPRV_STATUS| ) =  |APPRVD_L1| OR   &quot;only Level 2 &amp; 3 approvers have a checklist
        me-&gt;get_fldvalue( |APPRV_STATUS| ) =  |APPRVD_L2|.

* validate all checkboxes of the Approver Checklist
      CASE me-&gt;get_fldvalue( |APPRV_STATUS| ).
        WHEN `APPRVD_L1`.
          &quot;Person viewing is Level 2 approver
          CASE me-&gt;get_fldvalue( |REQUEST_TYPE| ).
            WHEN 1.
              IF me-&gt;get_command( ) = |APPROVE|.     &quot;checking only when Approve button is clicked
                _mac_check_field `CBOX1` e067 1 ``.
                _mac_check_field `CBOX2` e067 2 ``.
                _mac_check_field `CBOX3` e067 3 ``.
                _mac_check_field `CBOX4` e067 4 ``.
                _mac_check_field `CBOX5` e067 5 ``.
              ENDIF.

            WHEN 2.
              IF me-&gt;get_command( ) = |APPROVE|.     &quot;checking only when Approve button is clicked
                _mac_check_field `CBOX6` e067 1 ``.
                _mac_check_field `CBOX7` e067 2 ``.
              ENDIF.

            WHEN 3.
              IF me-&gt;get_fldvalue( |NEW_LOCK| ).
                IF me-&gt;get_command( ) = |APPROVE|.     &quot;checking only when Approve button is clicked
                  _mac_check_field `CBOX8`  e067 1 ``.
                  _mac_check_field `CBOX9`  e067 2 ``.
                  _mac_check_field `CBOX10` e067 3 ``.
                  _mac_check_field `CBOX11` e067 4 ``.
                ENDIF.
              ELSE.
                IF me-&gt;get_command( ) = |APPROVE|.     &quot;checking only when Approve button is clicked
                  _mac_check_field `CBOX12` e067 1 ``.
                  _mac_check_field `CBOX13` e067 2 ``.
                  _mac_check_field `CBOX14` e067 3 ``.
                  _mac_check_field `CBOX15` e067 4 ``.
                ENDIF.
              ENDIF.
            WHEN 4.
              IF me-&gt;get_command( ) = |APPROVE|.     &quot;checking only when Approve button is clicked
                _mac_check_field `CBOX16` e067 1 ``.
                _mac_check_field `CBOX17` e067 2 ``.
                _mac_check_field `CBOX18` e067 3 ``.
                _mac_check_field `CBOX19` e067 4 ``.
              ENDIF.

            WHEN 5.
              IF me-&gt;get_command( ) = |APPROVE|.     &quot;checking only when Approve button is clicked
                _mac_check_field `CBOX20` e067 1 ``.
                _mac_check_field `CBOX21` e067 2 ``.
              ENDIF.

            WHEN OTHERS.
          ENDCASE.

          &quot;Level 2 approver has to enter a comment when:
          &quot;Reject Submission   - user_command = &apos;REJECT&apos;
          &quot;Revised Submissions - user_command = &apos;BACKTO&apos;
          IF me-&gt;get_command( )  = |REJECT| OR me-&gt;get_command( ) = |BACKTO|.
            &quot;validation for Comments for Level 1 approver
            DATA(string) = SWITCH #( me-&gt;get_command( )
                             WHEN `REJECT` THEN |Rejection|
                             ELSE |Revision| ).
            _mac_check_field `REJ_COMMENTS` e069 string  ``.
          ENDIF.

        WHEN `APPRVD_L2`.
          &quot;Person viewing is Level 3 Approver
          IF me-&gt;get_command( ) = |APPROVE|.     &quot;checking only when Approve button is clicked
            _mac_check_field `CBOX25` e068 `` ``.
          ENDIF.

          &quot;Level 3 approver has to enter a comment when:
          &quot;Reject Submission   - user_command = &apos;REJECT&apos;
          &quot;Revised Submissions - user_command = &apos;BACKTO&apos;
          IF me-&gt;get_command( )  = |REJECT| OR me-&gt;get_command( ) = |BACKTO|.
            &quot;validation for Comments for Level 1 approver
            string = SWITCH #( me-&gt;get_command( )
                      WHEN `REJECT` THEN |Rejection|
                      ELSE |Revision| ).
            _mac_check_field `REJ_COMMENTS` e069 string  ``.
          ENDIF.

        WHEN OTHERS.
      ENDCASE.

      &quot;Level 1 approver has to enter a comment when:
      &quot;Reject Submission   - user_command = &apos;REJECT&apos;
      &quot;Revised Submissions - user_command = &apos;BACKTO&apos;
    ELSEIF me-&gt;get_fldvalue( |APPRV_STATUS| ) =  |SUBMIT| OR    &quot;Confirms a Level 1 approver
           me-&gt;get_fldvalue( |APPRV_STATUS| ) =  |BACKTO|.
      IF me-&gt;get_command( )  = |REJECT| OR me-&gt;get_command( ) = |BACKTO|.
        &quot;validation for Comments for Level 1 approver
        string = SWITCH #( me-&gt;get_command( )
                   WHEN `REJECT` THEN |Rejection|
                   ELSE |Revision| ).
        _mac_check_field `REJ_COMMENTS` e069 string  ``.
      ENDIF.
    ENDIF.

    DATA(messages) = me-&gt;get_messages( ).
    cs_return = VALUE #( messages[ 1 ] OPTIONAL ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="CHECK_CHANGES" VERSION="1" LANGU="E" DESCRIPT="Check for Text changes" EXPOSURE="0" STATE="1" EDITORDER="52 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD check_changes.

* only applicable for Request Type 2
    IF me-&gt;get_fldvalue( |REQUEST_TYPE| ) = 2.

* check short text changes in COA 2000
      IF me-&gt;get_fldvalue( |REF_PROP_DESC| ) AND
         me-&gt;get_fldvalue( |REF_PROP_DESC| ) = me-&gt;get_fldvalue( |NEW_PROP_DESC| ).
        MESSAGE e052 WITH coa_group_tafe INTO me-&gt;l_dummy.
        _mac_add_msg me-&gt;lt_messages data(return).
      ENDIF.

* check long text changes in COA 2000
      IF me-&gt;get_fldvalue( |REF_LONG_DESC| ) AND
          me-&gt;get_fldvalue( |REF_LONG_DESC| ) = me-&gt;get_fldvalue( |NEW_LONG_DESC| ).
        MESSAGE e053 WITH coa_group_tafe INTO me-&gt;l_dummy.
        _mac_add_msg me-&gt;lt_messages return.
      ENDIF.


      &quot;I have kept the source code below - please uncomment it when other Sections of the Form are required to be visible
      &quot;At the moment, business decision is to hide Sections 2-6 on the Form


* check short text changes in COA 1000
*      IF me-&gt;get_fldvalue( |REF_PROP_DESC2| ) AND
*          me-&gt;get_fldvalue( |REF_PROP_DESC2| ) = me-&gt;get_fldvalue( |NEW_PROP_DESC2| ).
*        MESSAGE e052 WITH coa_oper_tafe INTO me-&gt;l_dummy.
*        _mac_add_msg me-&gt;lt_messages return.
*      ENDIF.

** check long text changes in COA 1000
*      IF me-&gt;get_fldvalue( |REF_LONG_DESC2| ) AND
*          me-&gt;get_fldvalue( |REF_LONG_DESC2| ) = me-&gt;get_fldvalue( |NEW_LONG_DESC2| ).
*        MESSAGE e053 WITH coa_oper_tafe INTO me-&gt;l_dummy.
*        _mac_add_msg me-&gt;lt_messages return.
*      ENDIF.

** check name changes in Commitment Items
*      IF me-&gt;get_fldvalue( |REF_CITEM_NAME| ) AND
*          me-&gt;get_fldvalue( |REF_CITEM_NAME| ) = me-&gt;get_fldvalue( |NEW_CITEM_NAME| ).
*        MESSAGE e054 WITH tafe_fmarea INTO me-&gt;l_dummy.
*        _mac_add_msg me-&gt;lt_messages return.
*      ENDIF.
*
** check description changes in Commitment Items
*      IF me-&gt;get_fldvalue( |REF_CITEM_DESC| ) AND
*          me-&gt;get_fldvalue( |REF_CITEM_DESC| ) = me-&gt;get_fldvalue( |NEW_CITEM_DESC| ).
*        MESSAGE e055 WITH tafe_fmarea INTO me-&gt;l_dummy.
*        _mac_add_msg me-&gt;lt_messages return.
*      ENDIF.
    ENDIF.

* only applicable for Request Type 3 - Lock/Unlock
    IF me-&gt;get_fldvalue( |REQUEST_TYPE| ) = 3.

* check lock indicator delta
      IF me-&gt;get_fldvalue( |REF_LOCK| ) = me-&gt;get_fldvalue( |NEW_LOCK| ).
        MESSAGE e056 WITH  |{ me-&gt;get_fldvalue( |REF_ACCTLOCK| ) ALPHA = OUT }| coa_oper_tafe INTO me-&gt;l_dummy.
        _mac_add_msg me-&gt;lt_messages return.
      ENDIF.
    ENDIF.

* only applicable for Request Type 4 - Set DeletionFlag
    IF me-&gt;get_fldvalue( |REQUEST_TYPE| ) = 4.

* check deletion flag delta
      IF me-&gt;get_fldvalue( |REF_DEL| ) = me-&gt;get_fldvalue( |NEW_DEL| ).
        MESSAGE e057 WITH  |{ me-&gt;get_fldvalue( |REF_ACCTDEL| ) ALPHA = OUT }| coa_oper_tafe INTO me-&gt;l_dummy.
        _mac_add_msg me-&gt;lt_messages return.
      ENDIF.
    ENDIF.

* only applicable for Request Type 5 - Reassign FSV
    IF me-&gt;get_fldvalue( |REQUEST_TYPE| ) = 5.

* check hierarchy node delta
      IF me-&gt;get_fldvalue( |REF_FSVHIER| ) = me-&gt;get_fldvalue( |NEW_FSVHIER| ).
        MESSAGE e058 WITH fsv_versn-tafe_fsv INTO me-&gt;l_dummy.
        _mac_add_msg me-&gt;lt_messages return.
      ENDIF.
* check alternate hierarchy values
      IF NOT me-&gt;get_fldvalue( |REF_ALTFSVHIER| ) AND me-&gt;get_fldvalue( |NEW_ALTFSVHIER| ).
        MESSAGE e059 WITH |{ me-&gt;get_fldvalue( |REF_GLFSV| ) ALPHA = OUT }| fsv_versn-tafe_alt_fsv INTO me-&gt;l_dummy.
        _mac_add_msg me-&gt;lt_messages return.
      ELSEIF NOT me-&gt;get_fldvalue( |NEW_ALTFSVHIER| ) AND me-&gt;get_fldvalue( |REF_ALTFSVHIER| ) OR
        me-&gt;get_fldvalue( |NEW_ALTFSVHIER| ) = me-&gt;get_fldvalue( |REF_ALTFSVHIER| ).
        MESSAGE i061 WITH |{ me-&gt;get_fldvalue( |REF_GLFSV| ) ALPHA = OUT }| fsv_versn-tafe_alt_fsv INTO me-&gt;l_dummy.
      ENDIF.
    ENDIF.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="CHECK_COSTELEM_LOCKS" VERSION="1" LANGU="E" DESCRIPT="Check Costelement locks" EXPOSURE="0" STATE="1" EDITORDER="58 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <exception CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="CHECK_COSTELEM_LOCKS" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
   <source>METHOD check_costelem_locks.

* only valid for a cost element scenario and when Request Type is &quot;Change Description&quot;
    CHECK me-&gt;is_costelem_required( ) AND me-&gt;get_fldvalue( |REQUEST_TYPE| ) = 2.

    CALL FUNCTION &apos;ENQUEUE_EKCSKAE&apos;
      EXPORTING
        ktopl          = coa_oper_tafe
        kstar          = CONV kstar( me-&gt;get_fldvalue( |NEW_COSTELEM| ) )
      EXCEPTIONS
        foreign_lock   = 1
        system_failure = 2
        OTHERS         = 3.

    IF sy-subrc &lt;&gt; 0.
      MESSAGE e065 WITH me-&gt;get_fldvalue( |NEW_COSTELEM| ) INTO me-&gt;l_dummy.
      _mac_add_msg me-&gt;lt_messages data(return).
      RAISE RESUMABLE EXCEPTION TYPE zcx_fi_general
        EXPORTING
          gv_symsg = CORRESPONDING #( sy ).
    ELSE.
      CALL FUNCTION &apos;DEQUEUE_EKCSKAE&apos;
        EXPORTING
          ktopl = coa_oper_tafe
          kstar = CONV kstar( me-&gt;get_fldvalue( |NEW_COSTELEM| ) ).
    ENDIF.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="CHECK_FSV_LOCKS" VERSION="1" LANGU="E" DESCRIPT="Check if FSV is locked" EXPOSURE="0" STATE="1" EDITORDER="55 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <exception CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="CHECK_FSV_LOCKS" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
   <source>METHOD check_fsv_locks.

    CHECK me-&gt;is_fsv_required( ).

    CALL FUNCTION &apos;FI_BS_ENQUEUE&apos;
      EXPORTING
        versn          = fsv_versn-tafe_fsv
      EXCEPTIONS
        foreign_lock   = 1
        system_failure = 2
        OTHERS         = 3.

    IF sy-subrc &lt;&gt; 0.
      MESSAGE e060 WITH fsv_versn-tafe_fsv INTO me-&gt;l_dummy.
      _mac_add_msg me-&gt;lt_messages data(return).
      RAISE RESUMABLE EXCEPTION TYPE zcx_fi_general
        EXPORTING
          gv_symsg = CORRESPONDING #( sy ).
    ELSE.
      CALL FUNCTION &apos;FI_BS_DEQUEUE&apos;
        EXPORTING
          versn = fsv_versn-tafe_fsv.
    ENDIF.

    CALL FUNCTION &apos;FI_BS_ENQUEUE&apos;
      EXPORTING
        versn          = fsv_versn-tafe_alt_fsv
      EXCEPTIONS
        foreign_lock   = 1
        system_failure = 2
        OTHERS         = 3.

    IF sy-subrc &lt;&gt; 0.
      MESSAGE e060 WITH fsv_versn-tafe_alt_fsv INTO me-&gt;l_dummy.
      _mac_add_msg me-&gt;lt_messages return.
      RAISE RESUMABLE EXCEPTION TYPE zcx_fi_general
        EXPORTING
          gv_symsg = CORRESPONDING #( sy ).
    ELSE.
      CALL FUNCTION &apos;FI_BS_DEQUEUE&apos;
        EXPORTING
          versn = fsv_versn-tafe_alt_fsv.
    ENDIF.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="CHECK_LOCKS" VERSION="1" LANGU="E" DESCRIPT="Check master data object locks" EXPOSURE="0" STATE="1" EDITORDER="57 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <exception CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="CHECK_LOCKS" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD check_locks.

    CHECK me-&gt;get_mode( ) = |DISPLAY| AND me-&gt;get_view( ) = |ISR_APPROVE|.

    me-&gt;check_fsv_locks( ).
    me-&gt;check_costelem_locks( ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="CHECK_MANDATORY" VERSION="1" LANGU="E" DESCRIPT="Check mandatory fields on the Form" EXPOSURE="0" STATE="1" EDITORDER="18 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <exception CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="CHECK_MANDATORY" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD check_mandatory.

    &quot;only check when Check button is clicked
    CHECK ( me-&gt;get_command( ) = |CHECK| OR me-&gt;get_command( ) = |START| ) AND
            NOT me-&gt;get_fldvalue( |DRAFT| ).

    &quot;Reason must be entered for all Request Types
    _mac_check_field `REASON` e020 `` ``.
    _mac_check_field `AGREE`  e062 `` ``.

    &quot;Section Change Description, Lock/Unlock, Set Delete Flag, Reassign FSV
    CASE me-&gt;get_fldvalue( |REQUEST_TYPE| ).
      WHEN 1.
        &quot;IF config-sectionnum-hide = abap_true. -&gt; if this is the only Section invisible  &quot;plan to bring in UI display configuration
        _mac_check_field `REF_GLACCT`       e050 coa_group_tafe ``.
        _mac_check_field `NEW_PROP_DESC`    e007 coa_group_tafe ``.
        _mac_check_field `NEW_LONG_DESC`    e008 coa_group_tafe ``.
        _mac_check_field `NEW_GLACCT`       e004 coa_group_tafe ``.
        _mac_check_field `NEW_KTOKS`        e010 coa_group_tafe ``.

**// I have kept the source code below so it can be uncommented when other Sections need to be visible on the Form

*    _mac_check_field `NEW_KTOKS2`               e010 coa_oper_tafe ``.
*    _mac_check_field `NEW_BILKT`                e018 `` ``.
*    _mac_check_field `NEW_TOES`                 e011 `` ``.
*    _mac_check_field `NEW_FSTMT`                e012 `` ``.
*    _mac_check_field `NEW_FSTMT_NOTE`           e013 `` ``.
*    _mac_check_field `NEW_CFLOW`                e014 `` ``.
*    _mac_check_field `NEW_NCVER_DSC`            e015 `` ``.
*    _mac_check_field `NEW_NCVER_ACT`            e016 `` ``.
*    _mac_check_field `NEW_NCVER_CFLO`           e017 `` ``.
*    _mac_check_field `NEW_CITEM_POST`           e024 `` ``.
*    _mac_check_field `NEW_CITEM_TRTYP`          e027 `` ``.
*    _mac_check_field `NEW_CITEM_ITCATEG`        e028 `` ``.
*    _mac_check_field `NEW_CITEM_SUP_ITCATEG`    e029 `` ``.
*    _mac_check_field `NEW_CURR`                 e031 `` ``.
*    _mac_check_field `NEW_FSTAG`                e035 `` ``.
*    _mac_check_field `NEW_PLANRELV`             e038 `` ``.
*    _mac_check_field `NEW_FSVHIER`              e042 `` ``.

*    IF NOT me-&gt;get_fldvalue( |NEW_XBILK| ) AND NOT me-&gt;get_fldvalue( |NEW_GVTYP| ).
*      _mac_check_field `NEW_XBILK` e005 coa_group_tafe ``.
*    ENDIF.
*
*    IF me-&gt;get_fldvalue( |NEW_XBILK| ) AND me-&gt;get_fldvalue( |NEW_GVTYP| ).
*      MESSAGE e006 WITH coa_group_tafe INTO me-&gt;l_dummy.
*      _mac_add_msg me-&gt;lt_messages me-&gt;ls_return.
*    ENDIF.
*
*    IF NOT me-&gt;get_fldvalue( |NEW_XBILK2| ) AND NOT me-&gt;get_fldvalue( |NEW_GVTYP2| ).
*      _mac_check_field `NEW_XBILK2`  e005 coa_oper_tafe ``.
*    ENDIF.
*
*    IF me-&gt;get_fldvalue( |NEW_XBILK2| ) AND me-&gt;get_fldvalue( |NEW_GVTYP2| ).
*      MESSAGE e006 WITH coa_oper_tafe INTO me-&gt;l_dummy.
*      _mac_add_msg me-&gt;lt_messages me-&gt;ls_return.
*    ENDIF.
*
*    &quot;Section 6 -&gt; Conditional
*    CHECK me-&gt;get_fldvalue( |NEW_COSTELEM| ).
*
*    _mac_check_field `NEW_CLEM_BEGDA`     e044 `` ``.
*    _mac_check_field `NEW_CLEM_ENDDA`     e045 `` ``.
*    _mac_check_field `NEW_CELEM_NAME`     e046 `` ``.
*    _mac_check_field `NEW_CELEM_DESC`     e047 `` ``.
*    _mac_check_field `NEW_CELEM_CATEG`    e048 `` ``.
*    _mac_check_field `NEW_PROP_DESC2`   e007 coa_oper_tafe ``.
*    _mac_check_field `NEW_LONG_DESC2`   e008 coa_oper_tafe ``.
*     _mac_check_field `NEW_CITEM_NAME`   e022 `` ``.
*    _mac_check_field `NEW_CITEM_DESC`   e023 `` ``.

      WHEN 2.
        _mac_check_field `REF_GLACCT`       e050 coa_group_tafe ``.
        _mac_check_field `NEW_PROP_DESC`    e007 coa_group_tafe ``.
        _mac_check_field `NEW_LONG_DESC`    e008 coa_group_tafe ``.
*    _mac_check_field `REF_GLACCT2`   e050 coa_oper_tafe  ``.
*    _mac_check_field `REF_COMITEM` e051 tafe_fmarea ``.
*    _mac_check_field `NEW_PROP_DESC2`   e007 coa_oper_tafe ``.
*    _mac_check_field `NEW_LONG_DESC2`   e008 coa_oper_tafe ``.
*    _mac_check_field `NEW_CITEM_NAME`   e022 `` ``.
*    _mac_check_field `NEW_CITEM_DESC`   e023 `` ``.

      WHEN 3.
        _mac_check_field  `REF_ACCTLOCK` e049 `` ``.
      WHEN 4.
        _mac_check_field  `REF_ACCTDEL`  e049 `` ``.
      WHEN 5.
        _mac_check_field  `REF_GLFSV`    e049 `` ``.
        _mac_check_field  `NEW_FSVHIER`  e042 `` ``.
      WHEN OTHERS.
        &quot;continue with the checks below
    ENDCASE.

    me-&gt;check_changes( ).   &quot;check deltas for Texts and other important fields

    CHECK zcl_com_bapireturn_services=&gt;check_itab_for_errors( me-&gt;get_messages( ) ) = 0.

    RAISE EXCEPTION TYPE zcx_fi_general.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="CHECK_MD_EXIST" VERSION="1" LANGU="E" DESCRIPT="Check Existence of the Master Data Object" EXPOSURE="0" STATE="1" EDITORDER="17 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="CHECK_MD_EXIST" SCONAME="IS_KEYS" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ZFI_S_GLMAST_ISR_KEY"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="CHECK_MD_EXIST" SCONAME="IV_REF" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D" PARVALUE="ABAP_TRUE"/>
   <exception CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="CHECK_MD_EXIST" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
   <source>METHOD check_md_exist.

    TRY.
        DATA(lo_gl_factory) = me-&gt;get_md_factory( is_keys ).

        CHECK lo_gl_factory IS BOUND.

        lo_gl_factory-&gt;zif_masterdata_factory~is_exist(    &quot;Params are OK, do not panic! debug single step.
               iv_key1  = is_keys-saknr
               iv_key2  = is_keys-ktopl
               iv_key3  = is_keys-bukrs
      ).

        CHECK iv_ref IS INITIAL.        &quot;Exists for New MD Object -&gt; we have a problem with that

        IF is_keys-ktopl IS NOT INITIAL.
          MESSAGE e009 WITH is_keys-saknr is_keys-ktopl INTO DATA(dummy).
        ELSEIF is_keys-bukrs IS NOT INITIAL.
          MESSAGE e019 WITH is_keys-saknr is_keys-bukrs INTO dummy.
        ELSEIF is_keys-fipex IS NOT INITIAL.
          MESSAGE e021 WITH |{ is_keys-fipex ALPHA = OUT }| is_keys-fikrs INTO dummy.
        ELSEIF is_keys-kstar IS NOT INITIAL.
          MESSAGE e040 WITH |{ is_keys-kstar ALPHA = OUT }| tafe_kokrs INTO dummy.
        ELSEIF is_keys-versn IS NOT INITIAL.
          MESSAGE e041 WITH |{ is_keys-saknr ALPHA = OUT }| tafe_fsv-tafe_fsv INTO dummy.
        ENDIF.

        _mac_add_msg me-&gt;lt_messages data(return).
        me-&gt;clear_fields( |NEW| ).

      CATCH BEFORE UNWIND zcx_fi_general INTO DATA(lo_exception).
        IF lo_exception-&gt;is_resumable IS NOT INITIAL AND iv_ref IS NOT INITIAL.
          &quot;MD Object does not exist for REF MD Object value entered
          me-&gt;set_messages( lo_exception-&gt;get_messages( ) ).
          me-&gt;clear_fields( ).
        ENDIF.
        &quot;other non-resumable errors -&gt; we have a problem with those as well
        CHECK lo_exception-&gt;is_resumable IS INITIAL.
        me-&gt;set_messages( lo_exception-&gt;get_messages( ) ).
        me-&gt;clear_fields( ).
    ENDTRY.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="CLEAR_FIELDS" VERSION="1" LANGU="E" DESCRIPT="Clear fields on the Form" EXPOSURE="0" STATE="1" EDITORDER="19 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="CLEAR_FIELDS" SCONAME="IV_TYPE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="0" TYPTYPE="1" TYPE="CHAR3" PARVALUE="`REF`"/>
   <source>METHOD clear_fields.

    LOOP AT me-&gt;lt_special ASSIGNING FIELD-SYMBOL(&lt;special&gt;)
         WHERE fieldname(3) = iv_type.
      CHECK &lt;special&gt;-fieldname NS |{ iv_type }_GLACCT|.
      CHECK &lt;special&gt;-fieldname NS |{ iv_type }_COMITEM|.
      CHECK &lt;special&gt;-fieldname NS |{ iv_type }_COSTELEM|.
      CHECK &lt;special&gt;-fieldname NS |{ iv_type }_GLFSV|.
      CHECK &lt;special&gt;-fieldname NE |{ iv_type }_ACCTLOCK|.
      CHECK &lt;special&gt;-fieldname NE |{ iv_type }_ACCTDEL|.
      CHECK &lt;special&gt;-fieldname NE |REQUEST_TYPE|.
      CLEAR &lt;special&gt;-fieldvalue.
    ENDLOOP.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="COA_MAPPER" VERSION="1" LANGU="E" DESCRIPT="Map COA data" EXPOSURE="0" STATE="1" EDITORDER="23 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="COA_MAPPER" SCONAME="IV_KTOPL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="KTOPL" PARVALUE="COA_GROUP_TAFE"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="COA_MAPPER" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_COA_DATA"/>
   <source>METHOD coa_mapper.

    IF me-&gt;get_api_mode( ) = action-insert.
      rs_result = SWITCH #( iv_ktopl
                   WHEN coa_group_tafe
                   THEN VALUE #(
                           ktoks                          = me-&gt;get_fldvalue( |NEW_KTOKS| )
                           xbilk                          = me-&gt;get_fldvalue( |NEW_XBILK| )
                           gvtyp                          = me-&gt;get_fldvalue( |NEW_GVTYP| )
                           zzs_ncver_toes-zz_toes_acct    = me-&gt;get_fldvalue( |NEW_TOES| )
                           zzs_ncver_toes-zz_finstat_code = me-&gt;get_fldvalue( |NEW_FSTMT| )
                           zzs_ncver_toes-zz_finstat_note = me-&gt;get_fldvalue( |NEW_FSTMT_NOTE| )
                           zzs_ncver_toes-zz_cf_classf    = me-&gt;get_fldvalue( |NEW_CFLOW| )
                           zzs_ncver_toes-zz_fs_dsclsr    = me-&gt;get_fldvalue( |NEW_NCVER_DSC| )
                           zzs_ncver_toes-zz_actvt_code   = me-&gt;get_fldvalue( |NEW_NCVER_ACT| )
                           zzs_ncver_toes-zz_cflo_code    = me-&gt;get_fldvalue( |NEW_NCVER_CFLO| )
                        )
                    WHEN coa_oper_tafe
                    THEN VALUE #(
                           ktoks                          = me-&gt;get_fldvalue( |NEW_KTOKS2| )
                           xbilk                          = me-&gt;get_fldvalue( |NEW_XBILK2| )
                           gvtyp                          = me-&gt;get_fldvalue( |NEW_GVTYP2| )
                           bilkt                          = COND #( WHEN me-&gt;get_simulate( )
                                                                    THEN me-&gt;get_fldvalue( |REF_GLACCT2| )
                                                                    ELSE me-&gt;get_fldvalue( |NEW_BILKT| )
                                                                  )
                          )
                        ).
    ENDIF.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="COMMITMENT_MAPPER" VERSION="1" LANGU="E" DESCRIPT="Map Commitment Item data" EXPOSURE="0" STATE="1" EDITORDER="33 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="COMMITMENT_MAPPER" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZFI_S_COMMITMENT_DATA"/>
   <source>METHOD commitment_mapper.

    rs_result = VALUE #( LET api_mode = me-&gt;get_api_mode( )
                 IN
                  fmci-fipex  = SWITCH #( api_mode
                                 WHEN action-insert
                                 THEN me-&gt;get_fldvalue( |NEW_COMITEM| )
                                 ELSE me-&gt;get_fldvalue( |REF_COMITEM| )
                                        )
                  fmci-fipos  = rs_result-fmci-fipex
                  fmci-fikrs  = me-&gt;get_fldvalue( |NEW_FM| )
                  fmci-kateg  = me-&gt;get_fldvalue( |NEW_CITEM_POST| )
                  fmci-fivor  = me-&gt;get_fldvalue( |NEW_CITEM_TRTYP| )
                  fmci-potyp  = me-&gt;get_fldvalue( |NEW_CITEM_ITCATEG| )
                  fmci-fipup  = me-&gt;get_fldvalue( |NEW_CITEM_SUP_ITCATEG| )
                  fmci-stvar  = me-&gt;get_fldvalue( |NEW_CITEM_VARIANT| )
                  fmcit-spras = sy-langu
                  fmcit-fipex = rs_result-fmci-fipex
                  fmcit-fikrs = me-&gt;get_fldvalue( |NEW_FM| )
                  fmcit-bezei = me-&gt;get_fldvalue( |NEW_CITEM_NAME| )
                  fmcit-text1 = me-&gt;get_fldvalue( |NEW_CITEM_DESC| )
                       ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="COPY_REF" VERSION="1" LANGU="E" DESCRIPT="Copy Reference values" EXPOSURE="0" STATE="1" EDITORDER="38 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="COPY_REF" SCONAME="IS_COA_GROUP" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="/EBY/PDMDGL_SBAPI_DATA" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="COPY_REF" SCONAME="IS_COA_OPER" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="/EBY/PDMDGL_SBAPI_DATA" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="COPY_REF" SCONAME="IS_CCODE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="/EBY/PDMDGL_SBAPI_DATA" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="COPY_REF" SCONAME="IS_CITEMDATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ZFI_S_COMMITMENT_DATA" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="COPY_REF" SCONAME="IS_FSVDATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="FAGL_011ZC" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="COPY_REF" SCONAME="IS_CELEMDATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="6 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BAPI1030_CEOUTPUTLIST" PAROPTIONL="X"/>
   <source>METHOD copy_ref.

    CHECK me-&gt;get_command( ) &lt;&gt; |CHECK|.

    DATA(field_info) = me-&gt;get_info( ).

* Copy values to NEW column from values in REF column - Section 1
    IF me-&gt;get_fldvalue( |REF_GLACCT| ) AND
       VALUE #( field_info[ fieldname = |REF_GLACCT| ]-changed OPTIONAL ) = abap_true.
      me-&gt;set_fldvalue( VALUE #( LET group   = is_coa_group-coa_data
                                     grnames = is_coa_group-names
                                     index   = 1 IN fieldindex = index
                         ( fieldname = |NEW_KTOKS|             fieldvalue  = group-ktoks )
                         ( fieldname = |NEW_XBILK|             fieldvalue  = group-xbilk )
                         ( fieldname = |NEW_GVTYP|             fieldvalue  = group-gvtyp )
                         ( fieldname = |NEW_TOES|              fieldvalue  = group-zzs_ncver_toes-zz_toes_acct )
                         ( fieldname = |NEW_FSTMT|             fieldvalue  = group-zzs_ncver_toes-zz_finstat_code )
                         ( fieldname = |NEW_FSTMT_NOTE|        fieldvalue  = group-zzs_ncver_toes-zz_finstat_note )
                         ( fieldname = |NEW_CFLOW|             fieldvalue  = group-zzs_ncver_toes-zz_cf_classf )
                         ( fieldname = |NEW_NCVER_DSC|         fieldvalue  = group-zzs_ncver_toes-zz_fs_dsclsr )
                         ( fieldname = |NEW_NCVER_ACT|         fieldvalue  = group-zzs_ncver_toes-zz_actvt_code )
                         ( fieldname = |NEW_NCVER_CFLO|        fieldvalue  = group-zzs_ncver_toes-zz_cflo_code )
                         ( fieldname = |NEW_PROP_DESC|         fieldvalue  = VALUE #( grnames[ 1 ]-data-txt20 OPTIONAL ) )
                         ( fieldname = |NEW_LONG_DESC|         fieldvalue  = VALUE #( grnames[ 1 ]-data-txt50 OPTIONAL ) )
                                 )
                      ).
    ENDIF.

* Section 2
    IF me-&gt;get_fldvalue( |REF_GLACCT2| ) AND
       VALUE #( field_info[ fieldname = |REF_GLACCT2| ]-changed OPTIONAL ) = abap_true.
      me-&gt;set_fldvalue( VALUE #( LET oper    = is_coa_oper-coa_data
                                     opnames = is_coa_oper-names
                                     newglac = me-&gt;get_fldvalue( |NEW_GLACCT| )
                                     index   = 1 IN fieldindex = index
*                         ( fieldname = |NEW_PROP_DESC2|        fieldvalue  = VALUE #( opnames[ 1 ]-data-txt20 OPTIONAL ) )
*                         ( fieldname = |NEW_LONG_DESC2|        fieldvalue  = VALUE #( opnames[ 1 ]-data-txt50 OPTIONAL ) )
                         ( fieldname = |NEW_PROP_DESC2|        fieldvalue  = me-&gt;get_fldvalue( |NEW_PROP_DESC| ) )
                         ( fieldname = |NEW_LONG_DESC2|        fieldvalue  = me-&gt;get_fldvalue( |NEW_LONG_DESC| ) )
                         ( fieldname = |NEW_KTOKS2|            fieldvalue  = oper-ktoks )
                         ( fieldname = |NEW_XBILK2|            fieldvalue  = oper-xbilk )
                         ( fieldname = |NEW_GVTYP2|            fieldvalue  = oper-gvtyp )
                               )
                    ).
    ENDIF.

* Section 4
    IF me-&gt;get_fldvalue( |REF_GLACCT4| ) AND
       VALUE #( field_info[ fieldname = |REF_GLACCT4| ]-changed OPTIONAL ) = abap_true.
      me-&gt;set_fldvalue( VALUE #( LET ccode   = is_ccode-ccode_data
                                     index   = 1 IN fieldindex = index
                         ( fieldname = |NEW_CURR|              fieldvalue  = ccode-waers )
                         ( fieldname = |NEW_BALLC|             fieldvalue  = ccode-xsalh )
                         ( fieldname = |NEW_TAXCATEG|          fieldvalue  = ccode-mwskz )
                         ( fieldname = |NEW_POSTNOTAX|         fieldvalue  = ccode-xmwno )
                         ( fieldname = |NEW_ALTACCT|           fieldvalue  = |{ ccode-altkt ALPHA = OUT }| )
                         ( fieldname = |NEW_OPENITEM|          fieldvalue  = ccode-xopvw )
                         ( fieldname = |NEW_LITEM_DISP|        fieldvalue  = ccode-xkres )
                         ( fieldname = |NEW_SORTKEY|           fieldvalue  = ccode-zuawa )
                         ( fieldname = |NEW_FSTAG|             fieldvalue  = ccode-fstag )
                         ( fieldname = |NEW_AUTOPOST|          fieldvalue  = ccode-xintb )
                         ( fieldname = |NEW_PLANLVL|           fieldvalue  = ccode-fdlev )
                         ( fieldname = |NEW_CFLOW_RELV|        fieldvalue  = ccode-xgkon )
                         ( fieldname = |NEW_PLANRELV|          fieldvalue  = ccode-zz_plan_relv )
                         ( fieldname = |NEW_ASSINFO|           fieldvalue  = ccode-zz_glacct_ccode_text )
                                 )
                     ).
    ENDIF.

* Section 3
    IF me-&gt;get_fldvalue( |REF_COMITEM| ) AND
       VALUE #( field_info[ fieldname = |REF_COMITEM| ]-changed OPTIONAL ) = abap_true.
      me-&gt;set_fldvalue( VALUE #( LET comitem = is_citemdata
                                     index   = 1 IN fieldindex = index
                         ( fieldname = |NEW_FM|                fieldvalue  = comitem-fmci-fikrs )
                         ( fieldname = |NEW_CITEM_NAME|        fieldvalue  = me-&gt;get_fldvalue( |NEW_PROP_DESC| ) ) &quot;comitem-fmcit-bezei )
                         ( fieldname = |NEW_CITEM_DESC|        fieldvalue  = me-&gt;get_fldvalue( |NEW_LONG_DESC| ) ) &quot;comitem-fmcit-text1 )
                         ( fieldname = |NEW_CITEM_POST|        fieldvalue  = comitem-fmci-kateg )
                         ( fieldname = |NEW_CITEM_TRTYP|       fieldvalue  = COND #( WHEN comitem-fmci-fivor IS INITIAL
                                                                                     THEN space
                                                                                     ELSE comitem-fmci-fivor
                                                                                   ) )
                         ( fieldname = |NEW_CITEM_ITCATEG|     fieldvalue  = COND #( WHEN comitem-fmci-potyp IS INITIAL
                                                                                     THEN space
                                                                                     ELSE comitem-fmci-potyp
                                                                                   ) )
                         ( fieldname = |NEW_CITEM_SUP_ITCATEG| fieldvalue  = COND #( WHEN comitem-fmci-fipup IS INITIAL
                                                                                     THEN space
                                                                                     ELSE comitem-fmci-fipup
                                                                                   ) )
                         ( fieldname = |NEW_CITEM_VARIANT|     fieldvalue  = comitem-fmci-stvar )
                                 )
                     ).
    ENDIF.

* Section 5
    IF me-&gt;get_fldvalue( |REF_GLFSV| ) AND
       VALUE #( field_info[ fieldname = |REF_GLFSV| ]-changed OPTIONAL ) = abap_true.
      me-&gt;set_fldvalue( VALUE #( LET fsvdata  = is_fsvdata
                                     index    = 1 IN fieldindex = index
                         ( fieldname = |NEW_FSVHIER|    fieldvalue = me-&gt;get_fldvalue( |REF_FSVHIER| ) )
                         ( fieldname = |NEW_ALTFSVHIER| fieldvalue = me-&gt;get_fldvalue( |REF_ALTFSVHIER| ) )
                                )
                      ).
    ENDIF.

* Section 6
    IF me-&gt;get_fldvalue( |REF_COSTELEM| ) AND
       VALUE #( field_info[ fieldname = |REF_COSTELEM| ]-changed OPTIONAL ) = abap_true.
      me-&gt;set_fldvalue( VALUE #( LET costelem = is_celemdata
                                     index    = 1 IN fieldindex = index
                         ( fieldname = |NEW_CLEM_BEGDA|   fieldvalue = costelem-valid_from )
                         ( fieldname = |NEW_CLEM_ENDDA|   fieldvalue = costelem-valid_to )
                         ( fieldname = |NEW_CELEM_NAME|   fieldvalue = me-&gt;get_fldvalue( |NEW_PROP_DESC| ) ) &quot;costelem-name )
                         ( fieldname = |NEW_CELEM_DESC|   fieldvalue = me-&gt;get_fldvalue( |NEW_LONG_DESC| ) ) &quot;costelem-descript )
                         ( fieldname = |NEW_CELEM_CATEG|  fieldvalue = costelem-celem_category )
                                )
                      ).
    ENDIF.

    &quot;@TODO check Config here -&gt; is Section 1 is the only section visible? -&gt; If yes, copy over all texts
    &quot;move this to ELSE block for every Section coding above
    me-&gt;set_fldvalue( VALUE #( LET short =  me-&gt;get_fldvalue( |NEW_PROP_DESC| )
                                   long  =  me-&gt;get_fldvalue( |NEW_LONG_DESC| )
                                   req   =  me-&gt;is_costelem_required( )
                               IN
                       ( fieldname = |NEW_PROP_DESC2|        fieldvalue  = short )
                       ( fieldname = |NEW_LONG_DESC2|        fieldvalue  = long  )
                       ( fieldname = |NEW_CITEM_NAME|        fieldvalue  = short )
                       ( fieldname = |NEW_CITEM_DESC|        fieldvalue  = long  )
                       ( fieldname = |NEW_CELEM_NAME|        fieldvalue  = COND #( WHEN req = abap_true THEN short ) )
                       ( fieldname = |NEW_CELEM_DESC|        fieldvalue  = COND #( WHEN req = abap_true THEN long  ) )
                              )
                    ).

    &quot;special condition for Section 2 copying Group Account Number
    CHECK me-&gt;get_fldvalue( |REQUEST_TYPE| ) = 2.
    me-&gt;set_fldvalue( VALUE #( ( fieldname = |NEW_BILKT|  fieldvalue  = me-&gt;get_fldvalue( |REF_BILKT| ) ) ) ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="COSTELEM_MAPPER" VERSION="1" LANGU="E" DESCRIPT="Map Cost Element data" EXPOSURE="0" STATE="1" EDITORDER="24 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="COSTELEM_MAPPER" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BAPI1030_CEINPUTLIST"/>
   <source>METHOD costelem_mapper.

    rs_result = VALUE #(
                 LET prefix = SWITCH char3( me-&gt;get_api_mode( )
                               WHEN action-insert THEN |NEW| ELSE |REF| )
                 IN
                  cost_elem      = me-&gt;get_fldvalue( |{ prefix }_COSTELEM| )        &quot;Key
                  celem_category = me-&gt;get_fldvalue( |{ prefix }_CELEM_CATEG| )     &quot;readOnly
                  valid_from     = me-&gt;get_fldvalue( |{ prefix }_CLEM_BEGDA| )      &quot;readOnly
                  valid_to       = me-&gt;get_fldvalue( |{ prefix }_CLEM_ENDDA| )      &quot;readOnly
                  descript       = me-&gt;get_fldvalue( |NEW_CELEM_DESC| )             &quot;updateable
                  name           = me-&gt;get_fldvalue( |NEW_CELEM_NAME| )             &quot;updateable
                       ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_ACCT_GROUP" VERSION="1" LANGU="E" DESCRIPT="Read Account Groups" EXPOSURE="0" STATE="1" EDITORDER="76 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_ACCT_GROUP" SCONAME="IV_KTOPL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="KTOPL"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_ACCT_GROUP" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_acct_group.

    DATA(lt_helpvalues) = zcl_swf_common=&gt;get_account_groups( iv_ktopl ).

    zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
      EXPORTING
        it_helpvalues  = lt_helpvalues
        iv_fieldkey    = SWITCH #( iv_ktopl
                          WHEN coa_group_tafe
                          THEN &apos;NEW_KTOKS_KEY&apos;
                          WHEN coa_oper_tafe
                          THEN &apos;NEW_KTOKS2_KEY&apos;
                                 )
        iv_fieldlabel  = SWITCH #( iv_ktopl
                          WHEN coa_group_tafe
                          THEN &apos;NEW_KTOKS_LABEL&apos;
                          WHEN coa_oper_tafe
                          THEN &apos;NEW_KTOKS2_LABEL&apos;
                                 )
      CHANGING
        et_additional_data = rt_result &quot;lt_acct_group
    ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_ACCT_NAMES" VERSION="1" LANGU="E" DESCRIPT="Get account name" EXPOSURE="0" STATE="1" EDITORDER="25 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_ACCT_NAMES" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_NAME_DATA"/>
   <source>METHOD get_acct_names.
    rs_result = me-&gt;ls_acct_names.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_ADDITIONAL" VERSION="1" LANGU="E" DESCRIPT="Get ISR Form additional fields" EXPOSURE="0" STATE="1" EDITORDER="14 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_ADDITIONAL" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_additional.
    rt_result = me-&gt;lt_additional.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_API_MODE" VERSION="1" LANGU="E" DESCRIPT="Get API mode" EXPOSURE="0" STATE="1" EDITORDER="28 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_API_MODE" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_ACTION"/>
   <source>METHOD get_api_mode.
    r_result = me-&gt;lv_mode.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_BUS_UNIT" VERSION="1" LANGU="E" DESCRIPT="Read Business Unit" EXPOSURE="0" STATE="1" EDITORDER="68 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_BUS_UNIT" SCONAME="IV_FIELDVALUE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="QISRDFIELDVALUE"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_BUS_UNIT" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRDFIELDVALUE"/>
   <source>METHOD get_bus_unit.

    IF l_bus_unit IS INITIAL.
      zcl_fcom_isr_tool=&gt;get_business_unit_frm_position(
         EXPORTING
           iv_obj_id   = CONV #( iv_fieldvalue )
         IMPORTING
           ev_bu_descr = l_bus_unit
       ).
    ENDIF.

    r_result = l_bus_unit.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_CCODE_DATA" VERSION="1" LANGU="E" DESCRIPT="Get Company Code data" EXPOSURE="0" STATE="1" EDITORDER="30 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_CCODE_DATA" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_DATA"/>
   <source>METHOD get_ccode_data.
    rs_result = me-&gt;ls_ccode_data.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_CFLOW" VERSION="1" LANGU="E" DESCRIPT="Read CashFlow" EXPOSURE="0" STATE="1" EDITORDER="80 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_CFLOW" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_cflow.

    DATA lt_helpvalues TYPE hrasr00help_dataset_tab.

    IF lt_gl_cflow IS INITIAL.

      SELECT cf_classf,cf_classf_text
        FROM zfi_gl_cashflow
        INTO TABLE @lt_helpvalues.

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
        EXPORTING
          it_helpvalues      = lt_helpvalues
          iv_fieldkey        = |NEW_CFLOW_KEY|
          iv_fieldlabel      = |NEW_CFLOW_LABEL|
        CHANGING
          et_additional_data = lt_gl_cflow
      ).
    ENDIF.

    rt_result = lt_gl_cflow.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_COA_DATA" VERSION="1" LANGU="E" DESCRIPT="Return COA data" EXPOSURE="0" STATE="1" EDITORDER="21 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_COA_DATA" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_COA_DATA"/>
   <source>METHOD get_coa_data.
    rs_result = me-&gt;ls_coa_data.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_COMITEM_CATEG" VERSION="1" LANGU="E" DESCRIPT="Read Domain POTYP" EXPOSURE="0" STATE="1" EDITORDER="72 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_COMITEM_CATEG" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_comitem_categ.

    IF lt_citem_cat IS INITIAL.

      DATA(lt_helpvalues) = get_domain_values( |FM_POTYP| ).

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
        EXPORTING
          it_helpvalues      = lt_helpvalues
          iv_fieldkey        = |NEW_CITEM_ITCATEG_KEY|
          iv_fieldlabel      = |NEW_CITEM_ITCATEG_LABEL|
        CHANGING
          et_additional_data = lt_citem_cat
      ).

    ENDIF.

    rt_result = lt_citem_cat.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_COMITEM_POST" VERSION="1" LANGU="E" DESCRIPT="Read Domain KATEG" EXPOSURE="0" STATE="1" EDITORDER="71 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_COMITEM_POST" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_comitem_post.

    IF lt_citem_post IS INITIAL.

      DATA(lt_helpvalues) = get_domain_values( |FM_KATEG| ).

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
        EXPORTING
          it_helpvalues      = lt_helpvalues
          iv_fieldkey        = |NEW_CITEM_KATEG_KEY|
          iv_fieldlabel      = |NEW_CITEM_KATEG_LABEL|
        CHANGING
          et_additional_data = lt_citem_post
      ).

    ENDIF.

    rt_result = lt_citem_post.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_COMITEM_VAR" VERSION="1" LANGU="E" DESCRIPT="Read Commitment Item Variant" EXPOSURE="0" STATE="1" EDITORDER="74 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_COMITEM_VAR" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_comitem_var.

    IF lt_citem_var IS INITIAL.

      DATA(lt_helpvalues) = get_domain_values( |XFELD| ).

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
        EXPORTING
          it_helpvalues      = lt_helpvalues
          iv_fieldkey        = |NEW_CITEM_VARIANT_KEY|
          iv_fieldlabel      = |NEW_CITEM_VARIANT_LABEL|
        CHANGING
          et_additional_data = lt_citem_var
      ).

    ENDIF.

    rt_result = lt_citem_var.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_COMMAND" VERSION="1" LANGU="E" DESCRIPT="Get ISR framework Command" EXPOSURE="0" STATE="1" EDITORDER="8 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_COMMAND" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="SYUCOMM"/>
   <source>METHOD get_command.
    r_result = me-&gt;l_command.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_COMMITMENT" VERSION="1" LANGU="E" DESCRIPT="Get Commitment attribute" EXPOSURE="0" STATE="1" EDITORDER="39 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_COMMITMENT" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZFI_S_COMMITMENT_DATA"/>
   <source>METHOD get_commitment.
    rs_result = me-&gt;ls_commitment.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_COMP_CODES" VERSION="1" LANGU="E" DESCRIPT="Read Company Codes" EXPOSURE="0" STATE="1" EDITORDER="75 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_COMP_CODES" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_comp_codes.

    IF lt_comp_codes IS INITIAL.

      zcl_swf_common=&gt;get_company_codes(
        IMPORTING
          et_helpvalues = DATA(lt_helpvalues)
      ).

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
        EXPORTING
          it_helpvalues      = lt_helpvalues
          iv_fieldkey        = &apos;NEW_COMP_CODE_KEY&apos;
          iv_fieldlabel      = &apos;NEW_COMP_CODE_LABEL&apos;
        CHANGING
          et_additional_data = lt_comp_codes
      ).
    ENDIF.

    rt_result = lt_comp_codes.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_COSTELEMENT" VERSION="1" LANGU="E" DESCRIPT="Get Cost Element attribute" EXPOSURE="0" STATE="1" EDITORDER="45 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_COSTELEMENT" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BAPI1030_CEINPUTLIST"/>
   <source>METHOD get_costelement.
    rs_result = me-&gt;ls_costelement.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_COSTELEM_CATEG" VERSION="1" LANGU="E" DESCRIPT="Read Cost Element Category" EXPOSURE="0" STATE="1" EDITORDER="90 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_COSTELEM_CATEG" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_costelem_categ.

    IF lt_celem_cat IS INITIAL.

      DATA(lt_helpvalues) = get_domain_values( |KATYP| ).

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
        EXPORTING
          it_helpvalues      = lt_helpvalues
          iv_fieldkey        = |NEW_CELEM_CATEG_KEY|
          iv_fieldlabel      = |NEW_CELEM_CATEG_LABEL|
        CHANGING
          et_additional_data = lt_celem_cat
      ).

    ENDIF.

    rt_result = lt_celem_cat.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_CURRENCY" VERSION="1" LANGU="E" DESCRIPT="Read Currencies" EXPOSURE="0" STATE="1" EDITORDER="84 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_CURRENCY" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_currency.

    DATA lt_helpvalues TYPE hrasr00help_dataset_tab.

    IF lt_currency IS INITIAL.
      SELECT waers,ltext
       FROM tcurt
       INTO TABLE @lt_helpvalues
       WHERE spras = @sy-langu.

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
           EXPORTING
             it_helpvalues      = lt_helpvalues
             iv_fieldkey        = |NEW_CURRENCY_KEY|
             iv_fieldlabel      = |NEW_CURRENCY_LABEL|
           CHANGING
             et_additional_data = lt_currency
         ).
    ENDIF.

    rt_result = lt_currency.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_DOMAIN_VALUES" VERSION="1" LANGU="E" DESCRIPT="Read Domain Fixed Values" EXPOSURE="0" STATE="1" EDITORDER="69 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_DOMAIN_VALUES" SCONAME="IV_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="CSEQUENCE"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_DOMAIN_VALUES" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="HRASR00HELP_DATASET_TAB"/>
   <source>METHOD get_domain_values.

    cl_reca_ddic_doma=&gt;get_values(
      EXPORTING
        id_name   =  iv_name
      IMPORTING
        et_values = DATA(lt_values)
      EXCEPTIONS
        not_found = 1
        OTHERS    = 2
    ).

    CHECK sy-subrc = 0.

    rt_result = VALUE #( FOR ls_value IN lt_values
                    ( help_key   = ls_value-domvalue_l
                      help_value = ls_value-ddtext )
                       ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_FIELDSTATUS" VERSION="1" LANGU="E" DESCRIPT="Read Field Statuses" EXPOSURE="0" STATE="1" EDITORDER="87 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_FIELDSTATUS" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_fieldstatus.

    DATA lt_helpvalues TYPE hrasr00help_dataset_tab.

    IF lt_fldstatus IS INITIAL.

      SELECT fstag, fsttx
        FROM t004g
        INTO TABLE @lt_helpvalues
        WHERE spras = @sy-langu
        AND   bukrs = @tafe_kokrs.

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
        EXPORTING
          it_helpvalues      = lt_helpvalues
          iv_fieldkey        = |NEW_FSTAG_KEY|
          iv_fieldlabel      = |NEW_FSTAG_LABEL|
        CHANGING
          et_additional_data = lt_fldstatus
      ).

    ENDIF.

    rt_result = lt_fldstatus.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_FINSTAT" VERSION="1" LANGU="E" DESCRIPT="Read Financial Statements" EXPOSURE="0" STATE="1" EDITORDER="78 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_FINSTAT" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_finstat.

    DATA lt_helpvalues TYPE hrasr00help_dataset_tab.

    IF lt_finstat IS INITIAL.

      SELECT finstat_code,finstat_text
        FROM zfi_gl_finstat
        INTO TABLE @lt_helpvalues.

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
        EXPORTING
          it_helpvalues      = lt_helpvalues
          iv_fieldkey        = |NEW_FSTMT_KEY|
          iv_fieldlabel      = |NEW_FSTMT_LABEL|
        CHANGING
          et_additional_data = lt_finstat
      ).
    ENDIF.

    rt_result = lt_finstat.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_FINSTNOTE" VERSION="1" LANGU="E" DESCRIPT="Read Financial Statement Notes" EXPOSURE="0" STATE="1" EDITORDER="79 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_FINSTNOTE" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_finstnote.

    DATA lt_helpvalues TYPE hrasr00help_dataset_tab.

    IF lt_finstnote IS INITIAL.

      SELECT finstat_note,finstat_note_text
        FROM zfi_gl_finstnote
        INTO TABLE @lt_helpvalues.

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
        EXPORTING
          it_helpvalues      = lt_helpvalues
          iv_fieldkey        = |NEW_FSTMT_NOTE_KEY|
          iv_fieldlabel      = |NEW_FSTMT_NOTE_LABEL|
        CHANGING
          et_additional_data = lt_finstnote
      ).
    ENDIF.

    rt_result = lt_finstnote.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_FINTRANS" VERSION="1" LANGU="E" DESCRIPT="Read Domain FIVOR" EXPOSURE="0" STATE="1" EDITORDER="70 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_FINTRANS" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_fintrans.

    IF lt_fintrans IS INITIAL.

      DATA(lt_helpvalues) = get_domain_values( |FM_FIVOR| ).

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
        EXPORTING
          it_helpvalues      = lt_helpvalues
          iv_fieldkey        = |NEW_CITEM_TRTYP_KEY|
          iv_fieldlabel      = |NEW_CITEM_TRTYP_LABEL|
        CHANGING
          et_additional_data = lt_fintrans
      ).

    ENDIF.

    rt_result = lt_fintrans.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_FLDVALUE" VERSION="1" LANGU="E" DESCRIPT="Get value of a field from the Form" EXPOSURE="0" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_FLDVALUE" SCONAME="IT_DATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_FLDVALUE" SCONAME="IV_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="QISRDFIELDNAME"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_FLDVALUE" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRDFIELDVALUE"/>
   <source>METHOD get_fldvalue.
    DATA(lt_data) = COND #( WHEN it_data IS SUPPLIED THEN it_data ELSE me-&gt;get_special( ) ).
    r_result = VALUE #( lt_data[ fieldname = iv_name ]-fieldvalue OPTIONAL ).
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_FSV_HIERARCHY" VERSION="1" LANGU="E" DESCRIPT="Read FSV Hierarchy" EXPOSURE="0" STATE="1" EDITORDER="91 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_FSV_HIERARCHY" SCONAME="IV_VERSN" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="0" TYPTYPE="1" TYPE="VERSN_011" PARVALUE="TAFE_FSV-TAFE_FSV"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_FSV_HIERARCHY" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <exception CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_FSV_HIERARCHY" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
   <source>METHOD get_fsv_hierarchy.

    DATA lt_helpvalues TYPE hrasr00help_dataset_tab.
    DATA lt_additional TYPE qisrtspecial_param.

    IF SWITCH #( iv_versn
        WHEN tafe_fsv-tafe_fsv
        THEN lt_fsv_hier
        ELSE lt_fsv_hier2 ) IS INITIAL.

      CALL FUNCTION &apos;ZFI_GL_READ_FSV&apos;
        EXPORTING
          iv_versn        = iv_versn          &quot; Financial Statement Version
        IMPORTING
          rt_result       = lt_helpvalues
        EXCEPTIONS
          ex_no_authority = 1
          ex_load_error   = 2
          ex_read_error   = 3
          OTHERS          = 4.

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
         EXPORTING
           it_helpvalues      = lt_helpvalues
           iv_fieldkey        = SWITCH #( iv_versn
                                 WHEN tafe_fsv-tafe_fsv
                                 THEN |NEW_FSVHIER_KEY|
                                 ELSE |NEW_ALTFSVHIER_KEY|
                                        )
           iv_fieldlabel      = SWITCH #( iv_versn
                                 WHEN tafe_fsv-tafe_fsv
                                 THEN |NEW_FSVHIER_LABEL|
                                 ELSE |NEW_ALTFSVHIER_LABEL|
                                        )
         CHANGING
           et_additional_data = lt_additional
       ).

      CASE iv_versn.
        WHEN tafe_fsv-tafe_fsv.
          lt_fsv_hier = lt_additional.
        WHEN tafe_fsv-tafe_alt_fsv.
          lt_fsv_hier2 = lt_additional.
        WHEN OTHERS.
          RAISE RESUMABLE EXCEPTION TYPE zcx_fi_general
            EXPORTING
              textid    = zcx_fi_general=&gt;incorrect_params
              gv_string = |Parameter { iv_versn } is unknown!|.
      ENDCASE.

    ENDIF.

    rt_result = SWITCH #( iv_versn
                 WHEN tafe_fsv-tafe_fsv
                 THEN lt_fsv_hier
                 WHEN tafe_fsv-tafe_alt_fsv
                 THEN lt_fsv_hier2
                 ELSE THROW zcx_fi_general(
                              textid    = zcx_fi_general=&gt;incorrect_params
                              gv_string = |Parameter { iv_versn } is unknown!|
                                          )
                       ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_FY_START" VERSION="1" LANGU="E" DESCRIPT="Derive Financial Year start date" EXPOSURE="0" STATE="1" EDITORDER="41 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_FY_START" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="DATUM"/>
   <source>METHOD get_fy_start.
    r_result = COND #( WHEN sy-datum+4(2) BETWEEN |01| AND |06|
                       THEN |{ sy-datum(4) - 1 }0701|
                       ELSE |{ sy-datum(4) }0701|
                     ).
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_GROUPS" VERSION="1" LANGU="E" DESCRIPT="Get Form Groupings/Sections" EXPOSURE="0" STATE="1" EDITORDER="48 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_GROUPS" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="TTY_ISR_GROUP"/>
   <source>METHOD get_groups.
    rt_result = lt_groups.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_INFO" VERSION="1" LANGU="E" DESCRIPT="Return info attribute for Form field changes" EXPOSURE="0" STATE="1" EDITORDER="42 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_INFO" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTFIELD_INFO"/>
   <source>METHOD get_info.
    rt_result = me-&gt;lt_info.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_MD_FACTORY" VERSION="1" LANGU="E" DESCRIPT="Return an Instance of the Master data Factory Object" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_MD_FACTORY" SCONAME="IS_KEYS" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ZFI_S_GLMAST_ISR_KEY"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_MD_FACTORY" SCONAME="RO_MD_FACTORY" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_FICO_MASTERDATA_FACTORY"/>
   <exception CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_MD_FACTORY" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
   <source>METHOD get_md_factory.

    TRY.
        ro_md_factory = zcl_fico_masterdata_factory=&gt;create(
                          iv_saknr      = is_keys-saknr
                          iv_costelem   = is_keys-kstar
                          iv_comitem    = is_keys-fipex
                          iv_ktopl      = is_keys-ktopl
                          iv_bukrs      = is_keys-bukrs
                          iv_fikrs      = is_keys-fikrs
                          iv_versn      = is_keys-versn
                          iv_ergsl      = is_keys-ergsl
                          is_coa_data   = me-&gt;get_coa_data( )
                          is_ccode_data = me-&gt;get_ccode_data( )
                          is_acct_name  = me-&gt;get_acct_names( )
                          iv_coarea     = tafe_kokrs                &quot;create setters &amp; getters when a new CO Area is introduced
                          is_citemdata  = me-&gt;get_commitment( )
                          is_costinput  = me-&gt;get_costelement( )
*                      iv_keydate    = SY-DATUM
*                      iv_coelclass  = &apos;1&apos;
                          iv_mode       = me-&gt;get_api_mode( )
                          iv_simulate   = me-&gt;get_simulate( )
                          iv_commit     = abap_false
                        ).

      CATCH zcx_fi_general.
        &quot;this is necessary for a better user (UI) experience - Do Not remove or re-engineer!
        DATA(raise) = COND #( WHEN is_keys-saknr IS NOT INITIAL OR is_keys-fipex IS NOT INITIAL
                        THEN abap_true
                        ELSE THROW RESUMABLE zcx_fi_general(
                                              textid    = zcx_fi_general=&gt;incorrect_params
                                              gv_string = |Incorrect Parameters|
                                                           )
                            ).
    ENDTRY.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_MESSAGES" VERSION="1" LANGU="E" DESCRIPT="Get ISR Message List" EXPOSURE="0" STATE="1" EDITORDER="10 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_MESSAGES" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTRETURN"/>
   <source>METHOD get_messages.
    CHECK me-&gt;lt_messages IS NOT INITIAL.
    SORT me-&gt;lt_messages. &quot;BY number.
    DELETE ADJACENT DUPLICATES FROM me-&gt;lt_messages COMPARING ALL FIELDS.
    rt_result = me-&gt;lt_messages.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_MODE" VERSION="1" LANGU="E" DESCRIPT="Get Form Run Mode" EXPOSURE="0" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_MODE" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRDMODE"/>
   <source>METHOD get_mode.
    r_result = me-&gt;l_mode.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_NCVER_ACT" VERSION="1" LANGU="E" DESCRIPT="Read NCVER Act" EXPOSURE="0" STATE="1" EDITORDER="82 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_NCVER_ACT" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_ncver_act.

    DATA lt_helpvalues TYPE hrasr00help_dataset_tab.

    IF lt_ncver_act IS INITIAL.

      SELECT actvt_code,actvt_text
        FROM zfi_gl_ncver_act
        INTO TABLE @lt_helpvalues.

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
        EXPORTING
          it_helpvalues      = lt_helpvalues
          iv_fieldkey        = |NEW_NCVER_ACT_KEY|
          iv_fieldlabel      = |NEW_NCVER_ACT_LABEL|
        CHANGING
          et_additional_data = lt_ncver_act
      ).
    ENDIF.

    rt_result = lt_ncver_act.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_NCVER_CFLO" VERSION="1" LANGU="E" DESCRIPT="Read NCVER Cashflow" EXPOSURE="0" STATE="1" EDITORDER="83 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_NCVER_CFLO" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_ncver_cflo.

    DATA lt_helpvalues TYPE hrasr00help_dataset_tab.

    IF lt_ncver_cflo IS INITIAL.

      SELECT cflo_code,cflo_text
        FROM zfi_gl_ncver_cfl
        INTO TABLE @lt_helpvalues.

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
        EXPORTING
          it_helpvalues      = lt_helpvalues
          iv_fieldkey        = |NEW_NCVER_CFLO_KEY|
          iv_fieldlabel      = |NEW_NCVER_CFLO_LABEL|
        CHANGING
          et_additional_data = lt_ncver_cflo
      ).
    ENDIF.

    rt_result = lt_ncver_cflo.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_NCVER_DSC" VERSION="1" LANGU="E" DESCRIPT="Read NCVER Disclosure" EXPOSURE="0" STATE="1" EDITORDER="81 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_NCVER_DSC" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_ncver_dsc.

    DATA lt_helpvalues TYPE hrasr00help_dataset_tab.

    IF lt_ncver_dsc IS INITIAL.

      SELECT fs_dsclsr,fs_dsclsr_text
        FROM zfi_gl_ncver_dsc
        INTO TABLE @lt_helpvalues.

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
        EXPORTING
          it_helpvalues      = lt_helpvalues
          iv_fieldkey        = |NEW_NCVER_DSC_KEY|
          iv_fieldlabel      = |NEW_NCVER_DSC_LABEL|
        CHANGING
          et_additional_data = lt_ncver_dsc
      ).
    ENDIF.

    rt_result = lt_ncver_dsc.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_OBJECTKEY" VERSION="1" LANGU="E" DESCRIPT="Get ObjectKey" EXPOSURE="0" STATE="1" EDITORDER="63 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_OBJECTKEY" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QMNUM"/>
   <source>METHOD get_objectkey.
    r_result = me-&gt;l_objectkey.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_PLAN_LEVEL" VERSION="1" LANGU="E" DESCRIPT="Read Planning Level" EXPOSURE="0" STATE="1" EDITORDER="88 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_PLAN_LEVEL" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_plan_level.

    DATA lt_helpvalues TYPE hrasr00help_dataset_tab.

    IF lt_planlevel IS INITIAL.

      SELECT ebene, ltext
        FROM t036t
        INTO TABLE @lt_helpvalues
        WHERE spras = @sy-langu.

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
        EXPORTING
          it_helpvalues      = lt_helpvalues
          iv_fieldkey        = |NEW_PLANLVL_KEY|
          iv_fieldlabel      = |NEW_PLANLVL_LABEL|
        CHANGING
          et_additional_data = lt_planlevel
      ).

    ENDIF.

    rt_result = lt_planlevel.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_PLAN_RELV" VERSION="1" LANGU="E" DESCRIPT="Read Planning Relevance" EXPOSURE="0" STATE="1" EDITORDER="89 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_PLAN_RELV" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_plan_relv.

    DATA lt_helpvalues TYPE hrasr00help_dataset_tab.

    IF lt_planrelv IS INITIAL.

      SELECT plan_relv, plan_relv_text
        FROM zfi_gl_planning
        INTO TABLE @lt_helpvalues.

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
        EXPORTING
          it_helpvalues      = lt_helpvalues
          iv_fieldkey        = |NEW_PLANRELV_KEY|
          iv_fieldlabel      = |NEW_PLANRELV_LABEL|
        CHANGING
          et_additional_data = lt_planrelv
      ).

    ENDIF.

    rt_result = lt_planrelv.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_SIMULATE" VERSION="1" LANGU="E" DESCRIPT="Get Simulation" EXPOSURE="0" STATE="1" EDITORDER="35 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_SIMULATE" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <source>METHOD get_simulate.
    r_result = me-&gt;lv_simulate.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_SORTKEY" VERSION="1" LANGU="E" DESCRIPT="Read Sort Keys" EXPOSURE="0" STATE="1" EDITORDER="86 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_SORTKEY" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_sortkey.

    DATA lt_helpvalues TYPE hrasr00help_dataset_tab.

    IF lt_sortkey IS INITIAL.

      SELECT zuawa, ttext
        FROM tzunt
        INTO TABLE @lt_helpvalues
        WHERE spras = @sy-langu.

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
        EXPORTING
          it_helpvalues      = lt_helpvalues
          iv_fieldkey        = |NEW_SORTKEY_KEY|
          iv_fieldlabel      = |NEW_SORTKEY_LABEL|
        CHANGING
          et_additional_data = lt_finstat
      ).

    ENDIF.

    rt_result = lt_sortkey.


  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_SPECIAL" VERSION="1" LANGU="E" DESCRIPT="Get ISR Form fields" EXPOSURE="0" STATE="1" EDITORDER="12 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_SPECIAL" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_special.
    rt_result = me-&gt;lt_special.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_SUPCOMITEM_CATEG" VERSION="1" LANGU="E" DESCRIPT="Read Superior Commitment Item Category" EXPOSURE="0" STATE="1" EDITORDER="73 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_SUPCOMITEM_CATEG" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_supcomitem_categ.

    IF lt_scitem_cat IS INITIAL.

      zcl_fcom_isr_tool=&gt;fill_help_value_without_key(
        EXPORTING
           it_helpvalues     = VALUE hrasr00help_dataset_tab(
                                FOR ls_fipup IN zcl_fi_commitment_factory=&gt;get_all( )
                                ( help_key = ls_fipup-fipup ) )
          iv_fieldkey        = |NEW_CITEM_SUP_ITCATEG_KEY|
          iv_fieldlabel      = |NEW_CITEM_SUP_ITCATEG_LABEL|
        CHANGING
          et_additional_data = lt_scitem_cat
      ).

    ENDIF.

    rt_result = lt_scitem_cat.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_TAXCATEGORY" VERSION="1" LANGU="E" DESCRIPT="Read Tax Categories" EXPOSURE="0" STATE="1" EDITORDER="85 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_TAXCATEGORY" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_taxcategory.

    DATA lt_helpvalues TYPE hrasr00help_dataset_tab.
    DATA lt_t007s      TYPE STANDARD TABLE OF t007s.
    DATA l_kalsm       TYPE kalsm_d.

    IF lt_taxcateg IS INITIAL.

      SELECT SINGLE kalsm INTO l_kalsm
       FROM t005 WHERE land1 = zif_fi_global_constants=&gt;country_au.

      &quot;FYI they are hard coded in the standard system as well (you can build a table if you like)
      lt_helpvalues = VALUE #( BASE lt_helpvalues
                        ( help_key = |-| help_value  = |Only input tax allowed| )
                        ( help_key = |+| help_value  = |Only output tax allowed| )
                        ( help_key = |*| help_value  = |All tax types allowed| )
                        ( help_key = |&lt;| help_value  = |Input Tax Account| )
                        ( help_key = |&gt;| help_value  = |Output Tax Account| )
                        ( help_key = |-B| help_value = |Input tax - down payments managed gross| )
                        ( help_key = |+B| help_value = |Output tax - down payments managed gross| )
                             ).

      CALL FUNCTION &apos;WSRS_O_T007_X_DB_READ&apos;
        EXPORTING
          pi_kalsm   = l_kalsm
        TABLES
          pe_t_t007s = lt_t007s.

      CHECK lt_t007s IS NOT INITIAL.

      lt_helpvalues = VALUE #( BASE lt_helpvalues
                        FOR t007s IN lt_t007s
                        ( help_key   = t007s-mwskz
                          help_value = t007s-text1 )
                             ).

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
           EXPORTING
             it_helpvalues      = lt_helpvalues
             iv_fieldkey        = |NEW_TAXCATEG_KEY|
             iv_fieldlabel      = |NEW_TAXCATEG_LABEL|
           CHANGING
             et_additional_data = lt_taxcateg
         ).

    ENDIF.

    rt_result = lt_taxcateg.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_TOES" VERSION="1" LANGU="E" DESCRIPT="Read TOES Account" EXPOSURE="0" STATE="1" EDITORDER="77 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_TOES" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD get_toes.

    DATA lt_helpvalues TYPE hrasr00help_dataset_tab.

    IF lt_gl_toes IS INITIAL.

      SELECT toes_acct toes_acct_text
        FROM zfi_gl_toes
        INTO TABLE lt_helpvalues.

      zcl_fcom_isr_tool=&gt;fill_add_data_frm_help_value(
        EXPORTING
          it_helpvalues      = lt_helpvalues
          iv_fieldkey        = |NEW_TOES_KEY|
          iv_fieldlabel      = |NEW_TOES_LABEL|
        CHANGING
          et_additional_data = lt_gl_toes
      ).
    ENDIF.

    rt_result = lt_gl_toes.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_USERCOMM" VERSION="1" LANGU="E" DESCRIPT="Set User Command attribute" EXPOSURE="0" STATE="1" EDITORDER="49 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_USERCOMM" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="TTY_UCOMM"/>
   <source>METHOD get_usercomm.
    rt_result = lt_usercomm.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_VIEW" VERSION="1" LANGU="E" DESCRIPT="Get Form View" EXPOSURE="0" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="GET_VIEW" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRDFORMVIEW"/>
   <source>METHOD get_view.
    r_result = me-&gt;l_view.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="HANDLE_COMMANDS" VERSION="1" LANGU="E" DESCRIPT="Handle User Commands" EXPOSURE="0" STATE="1" EDITORDER="51 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD handle_commands.

    me-&gt;set_usercomm( ).
    me-&gt;set_groups( ).

    CHECK me-&gt;get_usercomm( ) AND me-&gt;get_command( ) IN me-&gt;get_usercomm( ).

    DATA(special_data) = me-&gt;get_special( ).

    DATA(l_secnum) = CONV i( LET l_str = me-&gt;get_command( ) IN
                        substring( val = l_str off = strlen( l_str ) - 1 len = 1 )
                           ).

    DATA(where) = COND #( WHEN me-&gt;get_command( ) &lt;&gt; `RESET0` THEN |sectionnum = l_secnum| ).

    LOOP AT me-&gt;get_groups( ) ASSIGNING FIELD-SYMBOL(&lt;ls_group&gt;)
         WHERE (where).
      special_data[ fieldname = &lt;ls_group&gt;-fieldname ]-fieldvalue = space.
    ENDLOOP.

    me-&gt;set_special( special_data ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="IS_ALT_FSV" VERSION="1" LANGU="E" DESCRIPT="Check if Alternate FSV is required" EXPOSURE="0" STATE="1" EDITORDER="54 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="IS_ALT_FSV" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ABAP_BOOL"/>
   <source>METHOD is_alt_fsv.

    IF me-&gt;get_fldvalue( |REQUEST_TYPE| ) = 1.
      r_result = xsdbool( me-&gt;get_fldvalue( |NEW_ALTFSVHIER| ) IS NOT INITIAL ).
    ELSE.
      CHECK me-&gt;get_fldvalue( |REQUEST_TYPE| ) = 5.
      CHECK me-&gt;get_fldvalue( |REF_ALTFSVHIER| ).
      r_result = xsdbool( me-&gt;get_fldvalue( |REF_ALTFSVHIER| ) &lt;&gt; me-&gt;get_fldvalue( |NEW_ALTFSVHIER| ) AND
                          me-&gt;get_fldvalue( |NEW_ALTFSVHIER| )
                        ).
    ENDIF.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="IS_COSTELEM_REQUIRED" VERSION="1" LANGU="E" DESCRIPT="Check if Cost Element is required for this dataset" EXPOSURE="0" STATE="1" EDITORDER="56 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="IS_COSTELEM_REQUIRED" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ABAP_BOOL"/>
   <source>METHOD is_costelem_required.

    TRY.
        DATA(lt_tvarvc) = VALUE /iwbep/t_cod_select_options( ( LINES OF zcl_com_fi_utilities=&gt;get_tvarvc( |ZFI_GLFORM_COSTELEM| ) ) ).

        r_result = xsdbool( ( me-&gt;get_fldvalue( |NEW_GLACCT| ) IN lt_tvarvc OR
                            ( me-&gt;get_fldvalue( |REQUEST_TYPE| ) = 2 AND
                              me-&gt;get_fldvalue( |REF_GLACCT| ) IN lt_tvarvc ) )
                                                AND
                            NEW zcl_fi_glmast_factory( iv_saknr = CONV #( me-&gt;get_fldvalue( |REF_GLACCT| ) )
                                                       iv_ktopl = CONV #( me-&gt;get_fldvalue( |NEW_COA2| ) )
                                    )-&gt;read_glmast( )-coa_data-gvtyp IS NOT INITIAL
                          ).

      CATCH BEFORE UNWIND zcx_fi_general INTO me-&gt;lo_exception.
        CHECK me-&gt;lo_exception-&gt;is_resumable IS NOT INITIAL.
        lt_tvarvc = VALUE #(
                       ( sign   = rsmds_c_sign-including
                         option = rsmds_c_option-between
                         low    = |0000400000|
                         high   = |0000599999| )
                           ).
        RESUME.
    ENDTRY.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="IS_FSV_REQUIRED" VERSION="1" LANGU="E" DESCRIPT="Check if FSV updates required" EXPOSURE="0" STATE="1" EDITORDER="53 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="IS_FSV_REQUIRED" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <source>METHOD is_fsv_required.
    r_result = xsdbool(  me-&gt;get_fldvalue( |REQUEST_TYPE| ) = 1 OR
                         me-&gt;get_fldvalue( |REQUEST_TYPE| ) = 5 ).
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="MAINTAIN" VERSION="1" LANGU="E" DESCRIPT="Maintain the required master data objects" EXPOSURE="0" STATE="1" EDITORDER="59 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="MAINTAIN" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BAPIRET2"/>
   <exception CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="MAINTAIN" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD maintain.

    me-&gt;set_api_mode( SWITCH #( me-&gt;get_fldvalue( |REQUEST_TYPE| )
                       WHEN 1
                       THEN action-insert
                       ELSE action-update
                               )
                     ).

    &quot;Maintain GL account in COA 2000 - Section 1
    me-&gt;set_coa_data( SWITCH #( me-&gt;get_api_mode( )
                      WHEN action-insert
                      THEN me-&gt;coa_mapper( )
                      ELSE me-&gt;read_glmast( VALUE #(
                                             saknr = me-&gt;get_fldvalue( |REF_GLACCT| )
                                             ktopl = me-&gt;get_fldvalue( |REF_COA| )
                                                   )
                                          )-coa_data
                             )
                   ).

    me-&gt;set_acct_names( me-&gt;acctname_mapper( ) ).

    TRY.
        me-&gt;lo_gl_factory = me-&gt;get_md_factory( VALUE #( LET api_mode = me-&gt;get_api_mode( ) IN
                                                 saknr = CONV #( me-&gt;get_fldvalue(
                                                                  SWITCH #( api_mode
                                                                   WHEN action-insert
                                                                   THEN |NEW_GLACCT|
                                                                   ELSE |REF_GLACCT|
                                                                          )
                                                                                 )
                                                               )
                                                 ktopl = CONV #( me-&gt;get_fldvalue(
                                                                  SWITCH #( api_mode
                                                                   WHEN action-insert
                                                                   THEN |NEW_COA|
                                                                   ELSE |REF_COA|
                                                                          )
                                                                                 )
                                                               )
                                                       )
                                               ).

      CATCH BEFORE UNWIND zcx_fi_general INTO DATA(lo_exception).
        _mac_resume_if_resumable lo_exception-&gt;is_resumable.
    ENDTRY.

    IF me-&gt;lo_gl_factory IS BOUND.
      me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~maintain_data( ).
    ENDIF.


    &quot;Maintain GL account in COA 1000 - Section 2
    me-&gt;set_coa_data( SWITCH #( me-&gt;get_api_mode( )
                       WHEN action-insert
                       THEN me-&gt;coa_mapper( coa_oper_tafe )
                       ELSE me-&gt;read_glmast( VALUE #(
                                              saknr = me-&gt;get_fldvalue( |REF_GLACCT2| )
                                              ktopl = me-&gt;get_fldvalue( |REF_COA2| )
                                                    )
                                           )-coa_data
                              )
                    ).

    me-&gt;set_acct_names( me-&gt;acctname_mapper( coa_oper_tafe ) ).

    TRY.
        me-&gt;lo_gl_factory = me-&gt;get_md_factory( VALUE #( LET api_mode = me-&gt;get_api_mode( ) IN
                                                 saknr = CONV #( me-&gt;get_fldvalue(
                                                                  SWITCH #( api_mode
                                                                   WHEN action-insert
                                                                   THEN |NEW_GLACCT2|
                                                                   ELSE |REF_GLACCT2|
                                                                          )
                                                                                 )
                                                               )
                                                 ktopl = CONV #( me-&gt;get_fldvalue(
                                                                  SWITCH #( api_mode
                                                                   WHEN action-insert
                                                                   THEN |NEW_COA2|
                                                                   ELSE |REF_COA2|
                                                                          )
                                                                                 )
                                                               )
                                                       )
                                              ).

      CATCH BEFORE UNWIND zcx_fi_general INTO lo_exception.
        _mac_resume_if_resumable lo_exception-&gt;is_resumable.
    ENDTRY.

    IF me-&gt;lo_gl_factory IS BOUND.
      me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~maintain_data( ).
    ENDIF.

    &quot;Maintain Commitment Item - Section 3
    me-&gt;set_commitment( me-&gt;commitment_mapper( ) ).

    TRY.
        me-&gt;lo_gl_factory = me-&gt;get_md_factory( VALUE #( LET api_mode = me-&gt;get_api_mode( ) IN
                                                  fikrs = CONV #( me-&gt;get_fldvalue(
                                                                   SWITCH #( api_mode
                                                                    WHEN action-insert
                                                                    THEN |NEW_FM|
                                                                    ELSE |REF_FM|
                                                                           )
                                                                                  )
                                                                )
                                                  fipex = CONV #( me-&gt;get_fldvalue(
                                                                    SWITCH #( api_mode
                                                                     WHEN action-insert
                                                                     THEN |NEW_COMITEM|
                                                                     ELSE |REF_COMITEM|
                                                                             )
                                                                          )
                                                                )
                                                       )
                                              ).

      CATCH BEFORE UNWIND zcx_fi_general INTO lo_exception.
        _mac_resume_if_resumable lo_exception-&gt;is_resumable.
    ENDTRY.

    IF me-&gt;lo_gl_factory IS BOUND.
      me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~maintain_data( ).
    ENDIF.

    &quot;Maintain GL account in CCODE 1020 - Section 4
    me-&gt;set_ccode_data( me-&gt;ccode_mapper( ) ).

    TRY.
        me-&gt;lo_gl_factory = me-&gt;get_md_factory( VALUE #( LET api_mode = me-&gt;get_api_mode( ) IN
                                                 saknr = CONV #( me-&gt;get_fldvalue(
                                                                  SWITCH #( api_mode
                                                                   WHEN action-insert
                                                                   THEN |NEW_GLACCT4|
                                                                   ELSE |REF_GLACCT4|
                                                                          )
                                                                                 )
                                                               )
                                                 bukrs = CONV #( me-&gt;get_fldvalue(
                                                                  SWITCH #( api_mode
                                                                   WHEN action-insert
                                                                   THEN |NEW_COMPCODE4|
                                                                   ELSE |REF_COMPCODE4|
                                                                          )
                                                                                 )
                                                               )
                                                       )
                                              ).

      CATCH BEFORE UNWIND zcx_fi_general INTO lo_exception.
        _mac_resume_if_resumable lo_exception-&gt;is_resumable.
    ENDTRY.

    IF me-&gt;lo_gl_factory IS BOUND.
      me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~maintain_data( ).
    ENDIF.

    &quot;Maintain Section Account Lock/Unlock
    IF me-&gt;get_fldvalue( |REQUEST_TYPE| ) = 3.
      me-&gt;lo_gl_factory =   NEW zcl_fi_glmast_factory(
                              iv_saknr      = CONV #( me-&gt;get_fldvalue( |REF_ACCTLOCK| ) )
                              iv_ktopl      = CONV #( me-&gt;get_fldvalue( |REF_COALOCK| ) )
                              iv_mode       = me-&gt;get_api_mode( )
                              iv_commit     = abap_false
                              iv_simulate   = me-&gt;get_simulate( )
                           ).

      IF me-&gt;lo_gl_factory IS BOUND.
        CAST zcl_fi_glmast_factory( me-&gt;lo_gl_factory )-&gt;set_coa_block( CONV #( me-&gt;get_fldvalue( |NEW_LOCK| ) ) ).
      ENDIF.
    ENDIF.

    &quot;Maintain Section Account Set/Clear Deletion Flag
    IF me-&gt;get_fldvalue( |REQUEST_TYPE| ) = 4.
      me-&gt;lo_gl_factory =  NEW zcl_fi_glmast_factory(
                            iv_saknr      = CONV #( me-&gt;get_fldvalue( |REF_ACCTDEL| ) )
                            iv_ktopl      = CONV #( me-&gt;get_fldvalue( |REF_COADEL| ) )
                            iv_mode       = me-&gt;get_api_mode( )
                            iv_commit     = abap_false
                            iv_simulate   = me-&gt;get_simulate( )
                          ).

      IF me-&gt;lo_gl_factory IS BOUND.
        CAST zcl_fi_glmast_factory( me-&gt;lo_gl_factory )-&gt;set_coa_delete( CONV #( me-&gt;get_fldvalue( |NEW_DEL| ) ) ).
      ENDIF.
    ENDIF.

    &quot;Check FSV &amp; Cost Element can be locked before updates
    me-&gt;check_locks( ).

    &quot;Assign TAFE FSV - Section 5
    IF me-&gt;is_fsv_required( ).

      TRY.
          me-&gt;lo_gl_factory = me-&gt;get_md_factory( VALUE #( LET api_mode = me-&gt;get_api_mode( ) IN
                                    saknr = CONV #( me-&gt;get_fldvalue(
                                                     SWITCH #( api_mode
                                                      WHEN action-insert
                                                      THEN |NEW_GLFSV|
                                                      ELSE |REF_GLFSV|
                                                             )
                                                                    )
                                                  )
                                    ktopl = coa_oper_tafe
                                    versn = CONV #( me-&gt;get_fldvalue( |NEW_FSV| ) )
                                    ergsl = CONV #( me-&gt;get_fldvalue( |NEW_FSVHIER| ) )
                                         )
                                ).

        CATCH BEFORE UNWIND zcx_fi_general INTO lo_exception.
          _mac_resume_if_resumable lo_exception-&gt;is_resumable.
      ENDTRY.

      IF me-&gt;lo_gl_factory IS BOUND.
        me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~maintain_data( ).
      ENDIF.

      &quot;Assign TAFE Alternate FSV - Section 5
      TRY.
          me-&gt;lo_gl_factory =  me-&gt;get_md_factory( VALUE #( LET api_mode = me-&gt;get_api_mode( ) IN
                                    saknr = CONV #( me-&gt;get_fldvalue(
                                                     SWITCH #( api_mode
                                                      WHEN action-insert
                                                      THEN |NEW_GLFSV|
                                                      ELSE |REF_GLFSV|
                                                             )
                                                                    )
                                                  )
                                    ktopl = coa_oper_tafe
                                    versn = CONV #( me-&gt;get_fldvalue( |NEW_ALTFSV| ) )
                                    ergsl = CONV #( me-&gt;get_fldvalue( |NEW_ALTFSVHIER| ) )
                                         )
                                ).

        CATCH BEFORE UNWIND zcx_fi_general INTO lo_exception.
          _mac_resume_if_resumable lo_exception-&gt;is_resumable.
      ENDTRY.

      IF me-&gt;lo_gl_factory IS BOUND AND me-&gt;is_alt_fsv( ).
        me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~maintain_data( ).
      ENDIF.
    ENDIF.

    &quot;Maintain Cost Element - Section 6
    CHECK me-&gt;is_costelem_required( ).
    me-&gt;set_costelement( me-&gt;costelem_mapper( ) ).

    TRY.
        me-&gt;lo_gl_factory =  me-&gt;get_md_factory( VALUE #( LET api_mode = me-&gt;get_api_mode( ) IN
                                  kstar = CONV #( me-&gt;get_fldvalue(
                                                   SWITCH #( api_mode
                                                   WHEN action-insert
                                                   THEN |NEW_COSTELEM|
                                                   ELSE |REF_COSTELEM|
                                                           )
                                                                  )
                                                )
                                                        )
                                               ).

      CATCH BEFORE UNWIND zcx_fi_general INTO lo_exception.
        _mac_resume_if_resumable lo_exception-&gt;is_resumable.
    ENDTRY.

    IF me-&gt;lo_gl_factory IS BOUND.
      me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~maintain_data( ).
    ENDIF.

    &quot;Maintain new GL account number in table ZFIC_EBS_GLACCNT for EBS
    me-&gt;persist_ebs_glmast( ).

    &quot;if you are here then it is a good day today - so let us update return with the good news!
    MESSAGE s099 INTO me-&gt;l_dummy.
    zcl_com_bapireturn_services=&gt;add_msg_to_str( CHANGING cs_return = rs_result ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="MAINTAIN_MASTERDATA" VERSION="1" LANGU="E" DESCRIPT="Create/Update GLMAST Masterdata Objects" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="MAINTAIN_MASTERDATA" SCONAME="IV_NOTIFICATION" VERSION="1" LANGU="E" DESCRIPT="ISR Notification Number" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="0" TYPTYPE="1" TYPE="QMNUM"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="MAINTAIN_MASTERDATA" SCONAME="IV_MODE" VERSION="1" LANGU="E" DESCRIPT="Mode (CREATE, DISPLAY) Optional" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="QISRDMODE" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="MAINTAIN_MASTERDATA" SCONAME="IV_VIEW" VERSION="1" LANGU="E" DESCRIPT="Form View (Optional)" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="QISRDFORMVIEW" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="MAINTAIN_MASTERDATA" SCONAME="IV_COMMAND" VERSION="1" LANGU="E" DESCRIPT="User Command (Optional)" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="SYUCOMM" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="MAINTAIN_MASTERDATA" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BAPIRET2"/>
   <exception CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="MAINTAIN_MASTERDATA" SCONAME="CX_BO_INSTANCE_NOT_FOUND" VERSION="1" LANGU="E" DESCRIPT="BO Instance Exception Object" MTDTYPE="0" EDITORDER="1 "/>
   <exception CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="MAINTAIN_MASTERDATA" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" DESCRIPT="Custom FI Exception Object" MTDTYPE="0" EDITORDER="2 "/>
   <source>METHOD maintain_masterdata.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   October 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

* To be able to maintain from outside, we ensure that:
    &quot; - ISR Notification exists
    &quot; - ISR Notification is not completed before update of master data objects; and

    DATA(lo_notification) = zcl_swf_glmast=&gt;get_instance( iv_notification ).

    IF lo_notification-&gt;is_complete( ).
      MESSAGE e066 WITH iv_notification INTO DATA(dummy).
      DATA(lo_exception) = NEW zcx_fi_general( gv_symsg = CORRESPONDING #( sy ) ).
      lo_exception-&gt;add_sy_message( ).
      RAISE EXCEPTION lo_exception.
    ENDIF.

    me-&gt;set_special( lo_notification-&gt;get_value_all( ) ).
    me-&gt;set_mode( iv_mode ).
    me-&gt;set_view( iv_view ).
    me-&gt;set_command( iv_command ).

    &quot; - ISR Notification is at the correct stage of the process before master data updates
    CHECK:
      me-&gt;get_mode( )    = me-&gt;get_fldvalue( |ISR_MODE| )      AND
      me-&gt;get_view( )    = me-&gt;get_fldvalue( |ISR_FORM_VIEW| ) AND
      me-&gt;get_command( ) = me-&gt;get_fldvalue( |ISR_EVENT| ).

    rs_result = me-&gt;maintain( ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="PERSIST_EBS_GLMAST" VERSION="1" LANGU="E" DESCRIPT="Maintain new GL account number for EBS" EXPOSURE="0" STATE="1" EDITORDER="66 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <exception CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="PERSIST_EBS_GLMAST" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD persist_ebs_glmast.

    CHECK me-&gt;get_fldvalue( |REQUEST_TYPE| ) = 1.       &quot;only applicable for Create new GL

    &quot;maintain new GL account number in table ZFIC_EBS_GLACCNT for EBS
    zcl_com_tabl_upd_utility=&gt;update_dbtab(
      EXPORTING
        iv_tabnm                    = |ZFIC_EBS_GLACCNT|
        it_data                     = VALUE tty_ebs_gl(
                                        ( company_code = tafe_compcode
                                          gl_account   = me-&gt;get_fldvalue( |NEW_GLACCT| )
                                          inactive     = abap_false
                                          date_update  = sy-datum
                                          time_update  = sy-uzeit
                                          user_update  = sy-uname )
                                                      )
      IMPORTING
        ev_dbcnt                    = DATA(dbcnt)
      EXCEPTIONS
        ex_dbtabl_not_found         = 1
        ex_data_tab_empty           = 2
        ex_tabl_upd_no_support      = 3
        ex_data_tab_wrong_format    = 4
        ex_dbtabl_not_locked        = 5
        ex_dbtabl_not_updated       = 6
        ex_exceeds_max_rows_allowed = 7
        OTHERS                      = 8
    ).

    CHECK sy-subrc &lt;&gt; 0 OR dbcnt = 0.

    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
      WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4 INTO me-&gt;l_dummy.

    RAISE EXCEPTION TYPE zcx_fi_general EXPORTING gv_symsg = CORRESPONDING #( sy ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="READ_GLMAST" VERSION="1" LANGU="E" DESCRIPT="Read GL account master data" EXPOSURE="0" STATE="1" EDITORDER="34 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="READ_GLMAST" SCONAME="IS_KEYS" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ZFI_S_GLMAST_ISR_KEY"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="READ_GLMAST" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="/EBY/PDMDGL_SBAPI_DATA"/>
   <source>METHOD read_glmast.

    DATA(lo_reader) = NEW zcl_fi_glmast_api_extend( ).

    lo_reader-&gt;get_detail(
      EXPORTING
        ic_saknr     = is_keys-saknr                 &quot; G/L Account Number
        ic_bukrs     = is_keys-bukrs                 &quot; Company Code
        ic_ktopl     = is_keys-ktopl                 &quot; Chart of Accounts
      IMPORTING
        es_bapi_data = rs_result                     &quot; GL Account BAPI data
    ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="REFRESH" VERSION="1" LANGU="E" DESCRIPT="Refresh Form" EXPOSURE="0" STATE="1" EDITORDER="37 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD refresh.

    CHECK me-&gt;get_command( ) = |REFRESH|.

    DATA general_data TYPE qisrsgeneral_param.
    DATA(special_data) = me-&gt;get_special( ).

    LOOP AT me-&gt;get_groups( ) ASSIGNING FIELD-SYMBOL(&lt;ls_group&gt;).
      special_data[ fieldname = &lt;ls_group&gt;-fieldname ]-fieldvalue = space.
    ENDLOOP.

    me-&gt;set_special( special_data ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_ACCT_NAMES" VERSION="1" LANGU="E" DESCRIPT="Set account name" EXPOSURE="0" STATE="1" EDITORDER="26 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_ACCT_NAMES" SCONAME="IS_ACCT_NAMES" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_NAME_DATA"/>
   <source>METHOD set_acct_names.
    me-&gt;ls_acct_names = is_acct_names.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_ADDITIONAL" VERSION="1" LANGU="E" DESCRIPT="Set ISR Form additional fields" EXPOSURE="0" STATE="1" EDITORDER="15 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_ADDITIONAL" SCONAME="IT_ADITIONAL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD set_additional.
    me-&gt;lt_additional = it_aditional.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_API_MODE" VERSION="1" LANGU="E" DESCRIPT="Set API mode" EXPOSURE="0" STATE="1" EDITORDER="29 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_API_MODE" SCONAME="IV_MODE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_ACTION" PARVALUE="ACTION-INSERT"/>
   <source>METHOD set_api_mode.
    me-&gt;lv_mode = iv_mode.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_APPROVAL_STATUS" VERSION="1" LANGU="E" DESCRIPT="Set ISR current Approval Processing Status" EXPOSURE="0" STATE="1" EDITORDER="61 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_APPROVAL_STATUS" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTRETURN"/>
   <source>METHOD set_approval_status.

* Do not set/update any other fields here apart from what is updated below (only STATUS CONTROL fields)

    DATA(lt_special) = me-&gt;get_special( ).

    me-&gt;set_control( CHANGING ct_special_data = lt_special ).

    IF me-&gt;get_command( ) = |APPROVE|.          &quot;Approve button was clicked by the Approver
      lt_special[ fieldname = |APPRV_STATUS| ]-fieldvalue =
        SWITCH #( me-&gt;get_fldvalue( |APPRV_STATUS| )
         WHEN `SUBMIT`
         THEN |APPRVD_L1|
         WHEN `APPRVD_L1`
         THEN |APPRVD_L2|
         WHEN `APPRVD_L2`
         THEN |APPRVD_L3|
         ELSE space         &quot;N/A
               ).
    ELSEIF me-&gt;get_command( ) = |REJECT|.       &quot;Reject button was clicked by the Approver
      lt_special[ fieldname = |APPRV_STATUS| ]-fieldvalue = |REJECT|.
    ELSEIF me-&gt;get_command( ) = |BACKTO|.       &quot;Back to Requestor button was clicked by the Approver
      lt_special[ fieldname = |APPRV_STATUS| ]-fieldvalue = |SUBMIT|.
    ELSEIF me-&gt;get_fldvalue( |APPRV_STATUS| ) = |WITHDRAWN|. &quot;Withdraw button was clicked by Requestor
      &quot;overwriting ISR Mode and ISR Event in case form was Withdrawn by the Requestor
      lt_special[ fieldname = |ISR_MODE| ]-fieldvalue  = |CLOSE|.
      lt_special[ fieldname = |ISR_EVENT| ]-fieldvalue = |WITHDRAWN|.
    ELSE.
      RETURN.
    ENDIF.

    rt_result = me-&gt;set_special_isr( lt_special ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_CCODE_DATA" VERSION="1" LANGU="E" DESCRIPT="Set Company Code data" EXPOSURE="0" STATE="1" EDITORDER="31 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_CCODE_DATA" SCONAME="IS_CCODE_DATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_DATA"/>
   <source>METHOD set_ccode_data.
    me-&gt;ls_ccode_data = is_ccode_data.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_COA_DATA" VERSION="1" LANGU="E" DESCRIPT="Set COA data" EXPOSURE="0" STATE="1" EDITORDER="22 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_COA_DATA" SCONAME="IS_COA_DATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_COA_DATA"/>
   <source>METHOD set_coa_data.
    me-&gt;ls_coa_data = is_coa_data.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_COMMAND" VERSION="1" LANGU="E" DESCRIPT="Set ISR framework Command" EXPOSURE="0" STATE="1" EDITORDER="9 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_COMMAND" SCONAME="IV_UCOMM" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="SYUCOMM"/>
   <source>METHOD set_command.
    me-&gt;l_command = iv_ucomm.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_COMMITMENT" VERSION="1" LANGU="E" DESCRIPT="Set Commitment attribute" EXPOSURE="0" STATE="1" EDITORDER="40 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_COMMITMENT" SCONAME="IS_COMMITMENT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ZFI_S_COMMITMENT_DATA"/>
   <source>METHOD set_commitment.
    me-&gt;ls_commitment = is_commitment.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_CONTROL" VERSION="1" LANGU="E" DESCRIPT="Set Control Parameters for every form stage" EXPOSURE="0" STATE="1" EDITORDER="62 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_CONTROL" SCONAME="CT_SPECIAL_DATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="2" PARPASSTYP="1" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD set_control.

    &quot;if it short-dumps here then ISR customising needs to be addressed to add the Characteristics below
    ct_special_data[ fieldname = |ISR_MODE|       ]-fieldvalue = me-&gt;get_mode( ).
    ct_special_data[ fieldname = |ISR_EVENT|      ]-fieldvalue = me-&gt;get_command( ).
    ct_special_data[ fieldname = |ISR_FORM_VIEW|  ]-fieldvalue = me-&gt;get_view( ).
    ct_special_data[ fieldname = |ISR_REQUEST_NO|
                   ]-fieldvalue = COND #( WHEN NOT me-&gt;get_objectkey( )
                                          THEN l_notif
                                          ELSE me-&gt;get_objectkey( )
                                        ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_COSTELEMENT" VERSION="1" LANGU="E" DESCRIPT="Set Cost Element attribute" EXPOSURE="0" STATE="1" EDITORDER="46 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_COSTELEMENT" SCONAME="IS_COSTELEMENT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BAPI1030_CEINPUTLIST"/>
   <source>METHOD set_costelement.
    me-&gt;ls_costelement = is_costelement.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_DROPDOWNS" VERSION="1" LANGU="E" DESCRIPT="Set all dropdowns on the Form" EXPOSURE="0" STATE="1" EDITORDER="20 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD set_dropdowns.

    DATA(additional_data) = me-&gt;get_additional( ).

    TRY.
        additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_comp_codes( ) ) ).
        additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_acct_group( CONV #( me-&gt;get_fldvalue( |NEW_COA| ) ) ) ) ).

        &quot;I&apos;m keeping the source code - please uncomment if/when business decides to make other Sections visible on the Form
        &quot; additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_acct_group( CONV #( me-&gt;get_fldvalue( |NEW_COA2| ) ) ) ) ).
        &quot;additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_toes( ) ) ).
        &quot;additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_finstat( ) ) ).
        &quot; additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_finstnote( ) ) ).
        &quot; additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_cflow( ) ) ).
        &quot; additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_ncver_act( ) ) ).
        &quot; additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_ncver_cflo( ) ) ).
        &quot; additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_ncver_dsc(  ) ) ).
        &quot; additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_currency( ) ) ).
        &quot; additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_taxcategory( ) ) ).
        &quot; additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_sortkey( ) ) ).
        &quot; additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_fieldstatus( ) ) ).
        &quot; additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_plan_level( ) ) ).
        &quot; additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_plan_relv( ) ) ).
        &quot;additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_fintrans( ) ) ).
        &quot; additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_comitem_categ( ) ) ).
        &quot; additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_comitem_post( ) ) ).
        &quot; additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_supcomitem_categ( ) ) ).
        &quot; additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_comitem_var( ) ) ).
        &quot; additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_costelem_categ( ) ) ).
        additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_fsv_hierarchy( ) ) ).
        additional_data = VALUE #( BASE additional_data ( LINES OF me-&gt;get_fsv_hierarchy( tafe_fsv-tafe_alt_fsv ) ) ).

      CATCH BEFORE UNWIND zcx_fi_general.
        RESUME.     &quot;make sure to check attribute IS_RESUMABLE of the exception object if raising hard exceptions in future
    ENDTRY.

    me-&gt;set_additional( additional_data ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_FLDVALUE" VERSION="1" LANGU="E" DESCRIPT="Set value of a field on the Form" EXPOSURE="0" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_FLDVALUE" SCONAME="IT_FIELDS" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_FLDVALUE" SCONAME="IV_ADDITIONAL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D" PARVALUE="ABAP_FALSE"/>
   <source>METHOD set_fldvalue.

    LOOP AT it_fields ASSIGNING FIELD-SYMBOL(&lt;field&gt;).
      TRY.
          IF iv_additional IS INITIAL.
            me-&gt;lt_special[ fieldname = &lt;field&gt;-fieldname ]-fieldvalue = &lt;field&gt;-fieldvalue.
          ELSE.
            me-&gt;lt_additional[ fieldname = &lt;field&gt;-fieldname ]-fieldvalue = &lt;field&gt;-fieldvalue.
          ENDIF.
        CATCH cx_sy_itab_line_not_found.
          CONTINUE.
      ENDTRY.
    ENDLOOP.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_GROUPS" VERSION="1" LANGU="E" DESCRIPT="Set Form Groupings/Sections" EXPOSURE="0" STATE="1" EDITORDER="47 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD set_groups.

* we need to clear section specific data
*   - not possible to read fields from customising (QISRSCENARIO) as they are not Section specific

    CHECK lt_groups IS INITIAL.

    &quot;Section 1
    lt_groups = VALUE #( LET num = 1 IN sectionnum = num
                 ( fieldname = |REF_GLACCT| )
                 ( fieldname = |REF_COA| )
                 ( fieldname = |NEW_KTOKS| )
                 ( fieldname = |REF_KTOKS| )
                 ( fieldname = |NEW_XBILK| )
                 ( fieldname = |REF_XBILK| )
                 ( fieldname = |NEW_GVTYP| )
                 ( fieldname = |REF_GVTYP| )
                 ( fieldname = |NEW_PROP_DESC| )
                 ( fieldname = |REF_PROP_DESC| )
                 ( fieldname = |NEW_LONG_DESC| )
                 ( fieldname = |REF_LONG_DESC| )
                 ( fieldname = |NEW_TOES| )
                 ( fieldname = |REF_TOES| )
                 ( fieldname = |NEW_FSTMT| )
                 ( fieldname = |REF_FSTMT| )
                 ( fieldname = |NEW_FSTMT_NOTE| )
                 ( fieldname = |REF_FSTMT_NOTE| )
                 ( fieldname = |NEW_CFLOW| )
                 ( fieldname = |REF_CFLOW| )
                 ( fieldname = |NEW_NCVER_DSC| )
                 ( fieldname = |REF_NCVER_DSC| )
                 ( fieldname = |NEW_NCVER_ACT| )
                 ( fieldname = |REF_NCVER_ACT| )
                 ( fieldname = |NEW_NCVER_CFLO| )
                 ( fieldname = |REF_NCVER_CFLO| )
                ).

    &quot;Section 2
    lt_groups = VALUE #( LET num = 2 IN
                BASE lt_groups
                  ( sectionnum = num fieldname = |REF_GLACCT2| )
                  ( sectionnum = num fieldname = |REF_COA2| )
                  ( sectionnum = num fieldname = |NEW_KTOKS2| )
                  ( sectionnum = num fieldname = |REF_KTOKS2| )
                  ( sectionnum = num fieldname = |NEW_XBILK2| )
                  ( sectionnum = num fieldname = |REF_XBILK2| )
                  ( sectionnum = num fieldname = |NEW_GVTYP2| )
                  ( sectionnum = num fieldname = |REF_GVTYP2| )
                  ( sectionnum = num fieldname = |NEW_PROP_DESC2| )
                  ( sectionnum = num fieldname = |REF_PROP_DESC2| )
                  ( sectionnum = num fieldname = |NEW_LONG_DESC2| )
                  ( sectionnum = num fieldname = |REF_LONG_DESC2| )
                  ( sectionnum = num fieldname = |NEW_BILKT| )
                  ( sectionnum = num fieldname = |REF_BILKT| )
                       ).

    &quot;Section 3
    lt_groups = VALUE #( LET num = 3 IN
            BASE lt_groups
              ( sectionnum = num fieldname = |REF_COMITEM| )
              ( sectionnum = num fieldname = |REF_FM| )
              ( sectionnum = num fieldname = |NEW_CITEM_NAME| )
              ( sectionnum = num fieldname = |REF_CITEM_NAME| )
              ( sectionnum = num fieldname = |NEW_CITEM_DESC| )
              ( sectionnum = num fieldname = |REF_CITEM_DESC| )
              ( sectionnum = num fieldname = |NEW_CITEM_POST| )
              ( sectionnum = num fieldname = |REF_CITEM_POST| )
              ( sectionnum = num fieldname = |NEW_CITEM_TRTYP| )
              ( sectionnum = num fieldname = |REF_CITEM_TRTYP| )
              ( sectionnum = num fieldname = |NEW_CITEM_ITCATEG| )
              ( sectionnum = num fieldname = |REF_CITEM_ITCATEG| )
              ( sectionnum = num fieldname = |NEW_CITEM_SUP_ITCATEG| )
              ( sectionnum = num fieldname = |REF_CITEM_SUP_ITCATEG| )
              ( sectionnum = num fieldname = |NEW_CITEM_VARIANT| )
              ( sectionnum = num fieldname = |REF_CITEM_VARIANT| )
                   ).

    &quot;Section 4
    lt_groups = VALUE #( LET num = 4 IN
                BASE lt_groups
                  ( sectionnum = num fieldname = |REF_GLACCT4| )
                  ( sectionnum = num fieldname = |REF_COMPCODE4| )
                  ( sectionnum = num fieldname = |NEW_CURR| )
                  ( sectionnum = num fieldname = |REF_CURR| )
                  ( sectionnum = num fieldname = |NEW_BALLC| )
                  ( sectionnum = num fieldname = |REF_BALLC| )
                  ( sectionnum = num fieldname = |NEW_TAXCATEG| )
                  ( sectionnum = num fieldname = |REF_TAXCATEG| )
                  ( sectionnum = num fieldname = |NEW_POSTNOTAX| )
                  ( sectionnum = num fieldname = |REF_POSTNOTAX| )
                  ( sectionnum = num fieldname = |NEW_ALTACCT| )
                  ( sectionnum = num fieldname = |REF_ALTACCT| )
                  ( sectionnum = num fieldname = |NEW_OPENITEM| )
                  ( sectionnum = num fieldname = |REF_OPENITEM| )
                  ( sectionnum = num fieldname = |NEW_LITEM_DISP| )
                  ( sectionnum = num fieldname = |REF_LITEM_DISP| )
                  ( sectionnum = num fieldname = |NEW_SORTKEY| )
                  ( sectionnum = num fieldname = |REF_SORTKEY| )
                  ( sectionnum = num fieldname = |NEW_FSTAG| )
                  ( sectionnum = num fieldname = |REF_FSTAG| )
                  ( sectionnum = num fieldname = |NEW_AUTOPOST| )
                  ( sectionnum = num fieldname = |REF_AUTOPOST| )
                  ( sectionnum = num fieldname = |NEW_PLANLVL| )
                  ( sectionnum = num fieldname = |REF_PLANLVL| )
                  ( sectionnum = num fieldname = |NEW_CFLOW_RELV| )
                  ( sectionnum = num fieldname = |REF_CFLOW_RELV| )
                  ( sectionnum = num fieldname = |REF_CCODE_FIPEX| )
                  ( sectionnum = num fieldname = |NEW_PLANRELV| )
                  ( sectionnum = num fieldname = |REF_PLANRELV| )
                       ).

    &quot;Section 5
    lt_groups = VALUE #( LET num = 5 IN
            BASE lt_groups
              ( sectionnum = num fieldname = |REF_GLFSV| )
              ( sectionnum = num fieldname = |REF_FSVCOA| )
              ( sectionnum = num fieldname = |NEW_FSVHIER| )
              ( sectionnum = num fieldname = |REF_FSVHIER| )
              ( sectionnum = num fieldname = |REF_ALTFSV| )
              ( sectionnum = num fieldname = |NEW_ALTFSVHIER| )
              ( sectionnum = num fieldname = |REF_ALTFSVHIER| )
                   ).

    &quot;Section 6
    lt_groups = VALUE #( LET num = 6 IN
            BASE lt_groups
              ( sectionnum = num fieldname = |REF_COSTELEM| )
              ( sectionnum = num fieldname = |REF_KOKRS| )
              ( sectionnum = num fieldname = |REF_CLEM_BEGDA| )
              ( sectionnum = num fieldname = |NEW_CLEM_ENDDA| )
              ( sectionnum = num fieldname = |REF_CLEM_ENDDA| )
              ( sectionnum = num fieldname = |NEW_CELEM_NAME| )
              ( sectionnum = num fieldname = |REF_CELEM_NAME| )
              ( sectionnum = num fieldname = |NEW_CELEM_DESC| )
              ( sectionnum = num fieldname = |REF_CELEM_DESC| )
              ( sectionnum = num fieldname = |NEW_CELEM_CATEG| )
              ( sectionnum = num fieldname = |REF_CELEM_CATEG| )
                   ).

    &quot;Include Reason Text, New IDs, Sections Lock/Unlock and Set Deletion Flag for button Reset Form
    lt_groups = VALUE #( LET num = 0 IN
            BASE lt_groups
             ( sectionnum = num fieldname = |REASON| )
             ( sectionnum = num fieldname = |NEW_GLACCT| )
             ( sectionnum = num fieldname = |NEW_GLACCT2| )
             ( sectionnum = num fieldname = |NEW_GLACCT4| )
             ( sectionnum = num fieldname = |NEW_COMITEM| )
             ( sectionnum = num fieldname = |NEW_GLFSV| )
             ( sectionnum = num fieldname = |NEW_COSTELEM| )
             ( sectionnum = num fieldname = |REF_ACCTLOCK| )
             ( sectionnum = num fieldname = |REF_COALOCK| )
             ( sectionnum = num fieldname = |REF_LOCK| )
             ( sectionnum = num fieldname = |NEW_LOCK| )
             ( sectionnum = num fieldname = |REF_ACCTDEL| )
             ( sectionnum = num fieldname = |REF_COADEL| )
             ( sectionnum = num fieldname = |REF_DEL| )
             ( sectionnum = num fieldname = |NEW_DEL| )
                       ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_INFO" VERSION="1" LANGU="E" DESCRIPT="Set info attribute for Form field changes" EXPOSURE="0" STATE="1" EDITORDER="43 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_INFO" SCONAME="IT_INFO" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="QISRTFIELD_INFO"/>
   <source>METHOD set_info.

    IF it_info IS NOT INITIAL.
      me-&gt;lt_info = it_info.
    ELSE.
      &quot;FIELD_INFO table is not sent at PROCESS_USER_COMMAND from Portal Tasklist (Draft mode)
      me-&gt;lt_info = VALUE #( FOR info IN me-&gt;get_special( )
                      ( fieldname = info-fieldname )
                           ).
    ENDIF.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_MESSAGES" VERSION="1" LANGU="E" DESCRIPT="Set ISR Message List" EXPOSURE="0" STATE="1" EDITORDER="11 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_MESSAGES" SCONAME="IT_MESSAGES" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="QISRTRETURN"/>
   <source>METHOD set_messages.

    &quot;this has to behave like a &quot;collect messages&quot; due to the design of the ISR framework
    me-&gt;lt_messages = VALUE #( BASE me-&gt;lt_messages
                        FOR message IN it_messages
                        ( message )
                             ).
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_MODE" VERSION="1" LANGU="E" DESCRIPT="Set Form Run Mode" EXPOSURE="0" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_MODE" SCONAME="IV_MODE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="QISRDMODE"/>
   <source>METHOD set_mode.
    me-&gt;l_mode = iv_mode.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_OBJECTKEY" VERSION="1" LANGU="E" DESCRIPT="Set ObjectKey" EXPOSURE="0" STATE="1" EDITORDER="64 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_OBJECTKEY" SCONAME="IV_OBJECTKEY" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="QMNUM"/>
   <source>METHOD set_objectkey.
    me-&gt;l_objectkey = iv_objectkey.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_SIMULATE" VERSION="1" LANGU="E" DESCRIPT="Set Simulation" EXPOSURE="0" STATE="1" EDITORDER="36 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_SIMULATE" SCONAME="IV_SIMULATE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D"/>
   <source>METHOD set_simulate.
    me-&gt;lv_simulate = iv_simulate.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_SPECIAL" VERSION="1" LANGU="E" DESCRIPT="Set ISR Form fields" EXPOSURE="0" STATE="1" EDITORDER="13 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_SPECIAL" SCONAME="IT_SPECIAL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM"/>
   <source>METHOD set_special.
    me-&gt;lt_special = it_special.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_SPECIAL_ISR" VERSION="1" LANGU="E" DESCRIPT="Writes Form data to ISR Notification database" EXPOSURE="0" STATE="1" EDITORDER="65 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_SPECIAL_ISR" SCONAME="IT_SPECIAL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="QISRTSPECIAL_PARAM" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_SPECIAL_ISR" SCONAME="RT_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="QISRTRETURN"/>
   <source>METHOD set_special_isr.

    CALL FUNCTION &apos;ISR_SPECIAL_DATA_SET&apos;
      EXPORTING
        notification_no               = me-&gt;get_objectkey( )
        special_data                  = COND #( WHEN it_special IS INITIAL
                                                THEN me-&gt;get_special( )
                                                ELSE it_special
                                              )
      IMPORTING
        et_return                     = rt_result
      EXCEPTIONS
        no_internal_service_request   = 1
        invalid_notif_number          = 2
        int_service_request_not_found = 3
        OTHERS                        = 4.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_USERCOMM" VERSION="1" LANGU="E" DESCRIPT="Set User Command attribute" EXPOSURE="0" STATE="1" EDITORDER="50 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD set_usercomm.

    CHECK lt_usercomm IS INITIAL.

    lt_usercomm = VALUE #(
                    LET  s = rsmds_c_sign-including
                         o = rsmds_c_option-equal
                    IN sign   = s
                       option = o
                    ( low =  |RESET1| )
                    ( low =  |RESET2| )
                    ( low =  |RESET3| )
                    ( low =  |RESET4| )
                    ( low =  |RESET5| )
                    ( low =  |RESET6| )
                    ( low =  |RESET0| )
                         ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_VIEW" VERSION="1" LANGU="E" DESCRIPT="Set Form View" EXPOSURE="0" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SET_VIEW" SCONAME="IV_VIEW" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="QISRDFORMVIEW"/>
   <source>METHOD set_view.
    me-&gt;l_view = iv_view.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SIMULATE" VERSION="1" LANGU="E" DESCRIPT="Simulate MD Objects on Check event" EXPOSURE="0" STATE="1" EDITORDER="60 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <exception CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SIMULATE" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
   <source>METHOD simulate.

    me-&gt;set_simulate( abap_true ).
    me-&gt;set_api_mode( SWITCH #( me-&gt;get_fldvalue( |REQUEST_TYPE| )
                       WHEN 1
                       THEN action-insert
                       ELSE action-update
                               )
                     ).

    &quot;Simulate Maintain account in COA 2000 - Section 1
    me-&gt;set_coa_data( SWITCH #( me-&gt;get_api_mode( )
                      WHEN action-insert
                      THEN me-&gt;coa_mapper( )
                      ELSE me-&gt;read_glmast( VALUE #(
                                             saknr = me-&gt;get_fldvalue( |REF_GLACCT| )
                                             ktopl = me-&gt;get_fldvalue( |REF_COA| )
                                                   )
                                          )-coa_data
                             )
                   ).

    me-&gt;set_acct_names( me-&gt;acctname_mapper( ) ).

    me-&gt;lo_gl_factory = me-&gt;get_md_factory( VALUE #( LET api_mode = me-&gt;get_api_mode( ) IN
                                             saknr = CONV #( me-&gt;get_fldvalue(
                                                              SWITCH #( api_mode
                                                               WHEN action-insert
                                                               THEN |NEW_GLACCT|
                                                               ELSE |REF_GLACCT|
                                                                      )
                                                                             )
                                                           )
                                             ktopl = CONV #( me-&gt;get_fldvalue(
                                                              SWITCH #( api_mode
                                                               WHEN action-insert
                                                               THEN |NEW_COA|
                                                               ELSE |REF_COA|
                                                                      )
                                                                             )
                                                           )
                                                   )
                                           ).

    IF me-&gt;lo_gl_factory IS BOUND.
      me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~maintain_data( ).
    ENDIF.

    &quot;Simulate Maintain account in COA 1000 - Section 2
    me-&gt;set_coa_data( SWITCH #( me-&gt;get_api_mode( )
                       WHEN action-insert
                       THEN me-&gt;coa_mapper( coa_oper_tafe )
                       ELSE me-&gt;read_glmast( VALUE #(
                                              saknr = me-&gt;get_fldvalue( |REF_GLACCT2| )
                                              ktopl = me-&gt;get_fldvalue( |REF_COA2| )
                                                    )
                                           )-coa_data
                              )
                    ).

    me-&gt;set_acct_names( me-&gt;acctname_mapper( coa_oper_tafe ) ).

    me-&gt;lo_gl_factory = me-&gt;get_md_factory( VALUE #( LET api_mode = me-&gt;get_api_mode( ) IN
                                             saknr = CONV #( me-&gt;get_fldvalue(
                                                              SWITCH #( api_mode
                                                               WHEN action-insert
                                                               THEN |NEW_GLACCT2|
                                                               ELSE |REF_GLACCT2|
                                                                      )
                                                                             )
                                                           )
                                             ktopl = CONV #( me-&gt;get_fldvalue(
                                                              SWITCH #( api_mode
                                                               WHEN action-insert
                                                               THEN |NEW_COA2|
                                                               ELSE |REF_COA2|
                                                                      )
                                                                             )
                                                           )
                                                   )
                                          ).

    IF me-&gt;lo_gl_factory IS BOUND.
      me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~maintain_data( ).
    ENDIF.

    &quot;Simulate Commitment Item - Section 3
    me-&gt;set_commitment( me-&gt;commitment_mapper( ) ).
    me-&gt;lo_gl_factory = me-&gt;get_md_factory( VALUE #( LET api_mode = me-&gt;get_api_mode( ) IN
                                              fikrs = CONV #( me-&gt;get_fldvalue(
                                                               SWITCH #( api_mode
                                                                WHEN action-insert
                                                                THEN |NEW_FM|
                                                                ELSE |REF_FM|
                                                                       )
                                                                              )
                                                            )
                                              fipex = CONV #( me-&gt;get_fldvalue(
                                                                SWITCH #( api_mode
                                                                 WHEN action-insert
                                                                 THEN |NEW_COMITEM|
                                                                 ELSE |REF_COMITEM|
                                                                         )
                                                                      )
                                                            )
                                                   )
                                          ).

    IF me-&gt;lo_gl_factory IS BOUND.
      me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~maintain_data( ).
    ENDIF.

    &quot;Simulate Maintain account in CCODE 1020 - Section 4
    me-&gt;set_ccode_data( me-&gt;ccode_mapper( ) ).
    me-&gt;lo_gl_factory = me-&gt;get_md_factory( VALUE #( LET api_mode = me-&gt;get_api_mode( ) IN
                                             saknr = CONV #( me-&gt;get_fldvalue(
                                                              SWITCH #( api_mode
                                                               WHEN action-insert
                                                               THEN |NEW_GLACCT4|
                                                               ELSE |REF_GLACCT4|
                                                                      )
                                                                             )
                                                           )
                                             bukrs = CONV #( me-&gt;get_fldvalue(
                                                              SWITCH #( api_mode
                                                               WHEN action-insert
                                                               THEN |NEW_COMPCODE4|
                                                               ELSE |REF_COMPCODE4|
                                                                      )
                                                                             )
                                                           )
                                                   )
                                          ).

    IF me-&gt;lo_gl_factory IS BOUND.
      me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~maintain_data( ).
    ENDIF.

    &quot;Simulate Section Account Lock/Unlock
    IF me-&gt;get_fldvalue( |REQUEST_TYPE| ) = 3.
      me-&gt;lo_gl_factory =   NEW zcl_fi_glmast_factory(
                              iv_saknr      = CONV #( me-&gt;get_fldvalue( |REF_ACCTLOCK| ) )
                              iv_ktopl      = CONV #( me-&gt;get_fldvalue( |REF_COALOCK| ) )
                              iv_mode       = me-&gt;get_api_mode( )
                              iv_commit     = xsdbool( me-&gt;get_simulate( ) IS INITIAL )
                              iv_simulate   = me-&gt;get_simulate( )
                           ).

      IF me-&gt;lo_gl_factory IS BOUND.
        CAST zcl_fi_glmast_factory( me-&gt;lo_gl_factory )-&gt;set_coa_block( CONV #( me-&gt;get_fldvalue( |NEW_LOCK| ) ) ).
      ENDIF.
    ENDIF.

    &quot;Simulate Section Account Set/Clear Deletion Flag
    IF me-&gt;get_fldvalue( |REQUEST_TYPE| ) = 4.
      me-&gt;lo_gl_factory =  NEW zcl_fi_glmast_factory(
                            iv_saknr      = CONV #( me-&gt;get_fldvalue( |REF_ACCTDEL| ) )
                            iv_ktopl      = CONV #( me-&gt;get_fldvalue( |REF_COADEL| ) )
                            iv_mode       = me-&gt;get_api_mode( )
                            iv_commit     = xsdbool( me-&gt;get_simulate( ) IS INITIAL )
                            iv_simulate   = me-&gt;get_simulate( )
                          ).

      IF me-&gt;lo_gl_factory IS BOUND.
        CAST zcl_fi_glmast_factory( me-&gt;lo_gl_factory )-&gt;set_coa_delete( CONV #( me-&gt;get_fldvalue( |NEW_DEL| ) ) ).
      ENDIF.
    ENDIF.


    &quot;Simulation is tricky for the below MD objects so we avoid simulating them
    &quot; for e.g. GL account needs to exist before it can be assigned to the FSV (for create mode)
    &quot; GL account must exist before its Cost Element can be simulated etc. (for create mode)
    &quot; could not think of a way to simulate Reassignment of FSV (no test_flag available)
    &quot; you could do the simulation of Cost Element for Update mode if maintain/update Cost Element
    &quot;is causing issues

    &quot;Assign TAFE FSV - Section 5
*   IF me-&gt;is_fsv_required( ).
*    me-&gt;lo_gl_factory = me-&gt;get_md_factory( VALUE #( LET api_mode = me-&gt;get_api_mode( ) IN
*                              saknr = CONV #( me-&gt;get_fldvalue(
*                                               SWITCH #( api_mode
*                                                WHEN action-insert
*                                                THEN |NEW_GLFSV|
*                                                ELSE |REF_GLFSV|
*                                                       )
*                                                              )
*                                            )
*                              ktopl = coa_oper_tafe
*                              versn = CONV #( me-&gt;get_fldvalue( |NEW_FSV| ) )
*                              ergsl = CONV #( me-&gt;get_fldvalue( |NEW_FSVHIER| ) )
*                                   )
*                          ).
*
*    IF me-&gt;lo_gl_factory IS BOUND.
*      me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~maintain_data( ).
*    ENDIF.

    &quot;Assign TAFE Alternate FSV - Section 5
*    me-&gt;lo_gl_factory =  me-&gt;get_md_factory( VALUE #( LET api_mode = me-&gt;get_api_mode( ) IN
*                              saknr = CONV #( me-&gt;get_fldvalue(
*                                               SWITCH #( api_mode
*                                                WHEN action-insert
*                                                THEN |NEW_GLFSV|
*                                                ELSE |REF_GLFSV|
*                                                       )
*                                                              )
*                                            )
*                              ktopl = coa_oper_tafe
*                              versn = CONV #( me-&gt;get_fldvalue( |NEW_ALTFSV| ) )
*                              ergsl = CONV #( me-&gt;get_fldvalue( |NEW_ALTFSVHIER| ) )
*                                   )
*                          ).
*
*    IF me-&gt;lo_gl_factory IS BOUND AND me-&gt;is_alt_fsv( ).
*      me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~maintain_data( ).
*    ENDIF.
*   ENDIF.

    &quot;Cost Element - Section 6
*    CHECK me-&gt;is_costelem_required( ).
*    me-&gt;set_costelement( me-&gt;costelem_mapper( ) ).
*    me-&gt;lo_gl_factory =  me-&gt;get_md_factory( VALUE #(
*                              kstar = CONV #( me-&gt;get_fldvalue( |NEW_COSTELEM| ) )
*                                                    )
*                                           ).
*
*    IF me-&gt;lo_gl_factory IS BOUND.
*      me-&gt;lo_gl_factory-&gt;zif_masterdata_factory~maintain_data( ).
*    ENDIF.

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SIMULATE_MASTERDATA" VERSION="1" LANGU="E" DESCRIPT="Simulate MD Objects on Check event" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SIMULATE_MASTERDATA" SCONAME="IV_NOTIFICATION" VERSION="1" LANGU="E" DESCRIPT="ISR Notification Number" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="0" TYPTYPE="1" TYPE="QMNUM"/>
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SIMULATE_MASTERDATA" SCONAME="RT_RETURN" VERSION="1" LANGU="E" DESCRIPT="Simulation Results" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BAPIRET2_T"/>
   <exception CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SIMULATE_MASTERDATA" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" DESCRIPT="Custom Exception Object" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
   <exception CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="SIMULATE_MASTERDATA" SCONAME="CX_BO_INSTANCE_NOT_FOUND" VERSION="1" LANGU="E" DESCRIPT="BO Instance Exception Object" MTDTYPE="0" EDITORDER="2 "/>
   <source>METHOD simulate_masterdata.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   October 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

* To be able to Simulate from outside, we ensure that:
    &quot; - ISR Notification exists

    me-&gt;set_special( zcl_swf_glmast=&gt;get_instance( iv_notification )-&gt;get_value_all( ) ).

    TRY.
        me-&gt;simulate( ).

      CATCH BEFORE UNWIND zcx_fi_general INTO DATA(lo_exception).
        IF lo_exception-&gt;is_resumable IS NOT INITIAL.
          &quot;that&apos;s OK - we continue with rest of the updates until a &quot;hard&quot; exception is raised
          RESUME.
        ELSE.
          me-&gt;set_messages( lo_exception-&gt;get_messages( ) ).
          rt_return = me-&gt;get_messages( ).
          RETURN.
        ENDIF.
    ENDTRY.

    rt_return = me-&gt;get_messages( ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="UPDATE_FIELDINFO" VERSION="1" LANGU="E" DESCRIPT="Update info for Form field changes" EXPOSURE="0" STATE="1" EDITORDER="44 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD update_fieldinfo.

    &quot; what has changed and what has not?

    CHECK me-&gt;get_info( ).

    DATA(field_info) = me-&gt;get_info( ).

    field_info[ fieldname = |REF_GLACCT| ]-changed   = xsdbool( ls_refaccts-glcoa_grp  &lt;&gt; me-&gt;get_fldvalue( |REF_GLACCT| ) OR
                                                          &quot;checking Request Type has not been changed as a result NEW values are blank
                                                                ( NOT me-&gt;get_fldvalue( |NEW_XBILK| ) AND NOT me-&gt;get_fldvalue( |NEW_GVTYP| ) ) ).

    &quot;the below 2 blocks have to be swapped over (from comment to uncomment and vice versa) when all Sections are required on the Form

*    field_info[ fieldname = |REF_GLACCT2| ]-changed  = xsdbool( ls_refaccts-glcoa_oper &lt;&gt; me-&gt;get_fldvalue( |REF_GLACCT2| ) ).
*    field_info[ fieldname = |REF_COMITEM| ]-changed  = xsdbool( ls_refaccts-comitem    &lt;&gt; me-&gt;get_fldvalue( |REF_COMITEM| ) ).
*    field_info[ fieldname = |REF_GLACCT4| ]-changed  = xsdbool( ls_refaccts-glccode    &lt;&gt; me-&gt;get_fldvalue( |REF_GLACCT4| ) ).
*    field_info[ fieldname = |REF_GLFSV| ]-changed    = xsdbool( ls_refaccts-glfsv      &lt;&gt; me-&gt;get_fldvalue( |REF_GLFSV| ) ).
*    field_info[ fieldname = |REF_COSTELEM| ]-changed = xsdbool( ls_refaccts-costelem   &lt;&gt; me-&gt;get_fldvalue( |REF_COSTELEM| ) ).

    field_info[ fieldname = |REF_GLACCT2| ]-changed  = xsdbool( ls_refaccts-glcoa_oper &lt;&gt; me-&gt;get_fldvalue( |REF_GLACCT| ) ).
    field_info[ fieldname = |REF_COMITEM| ]-changed  = xsdbool( ls_refaccts-comitem    &lt;&gt; me-&gt;get_fldvalue( |REF_GLACCT| ) ).
    field_info[ fieldname = |REF_GLACCT4| ]-changed  = xsdbool( ls_refaccts-glccode    &lt;&gt; me-&gt;get_fldvalue( |REF_GLACCT| ) ).
    field_info[ fieldname = |REF_GLFSV| ]-changed    = xsdbool( ls_refaccts-glfsv      &lt;&gt; COND #( WHEN me-&gt;get_fldvalue( |REQUEST_TYPE| ) = 1
                                                                                                  THEN me-&gt;get_fldvalue( |REF_GLACCT| )
                                                                                                  ELSE me-&gt;get_fldvalue( |REF_GLFSV| )   &quot;because Section 5 also appears in Reassign
                                                                                                ) ).
    field_info[ fieldname = |REF_COSTELEM| ]-changed = xsdbool( ls_refaccts-costelem   &lt;&gt; me-&gt;get_fldvalue( |REF_GLACCT| ) ).

    me-&gt;set_info( field_info ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="VALIDATE_DATA" VERSION="1" LANGU="E" DESCRIPT="Validate Form data" EXPOSURE="0" STATE="1" EDITORDER="16 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="VALIDATE_DATA" SCONAME="IV_CHECK" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D" PARVALUE="ABAP_FALSE"/>
   <exception CLSNAME="ZCL_IM_FI_QISR1_GL_MAINT" CMPNAME="VALIDATE_DATA" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
   <source>METHOD validate_data.

* constants have been passed instead of reading from special_data because they get cleared when exceptions are raised.
    me-&gt;check_md_exist( is_keys = VALUE #( saknr = me-&gt;get_fldvalue( |NEW_GLACCT| )   ktopl = coa_group_tafe ) iv_ref = &apos;&apos; ).    &quot;Section 1 New account
    me-&gt;check_md_exist( is_keys = VALUE #( saknr = me-&gt;get_fldvalue( |NEW_GLACCT2| )  ktopl = coa_oper_tafe ) iv_ref = &apos;&apos; ).     &quot;Section 2 Reference account
    me-&gt;check_md_exist( is_keys = VALUE #( saknr = me-&gt;get_fldvalue( |REF_GLACCT| )   ktopl = coa_group_tafe ) ).                &quot;Section 1 Reference account
    me-&gt;check_md_exist( is_keys = VALUE #( saknr = me-&gt;get_fldvalue( |REF_GLACCT2| )  ktopl = coa_oper_tafe ) ).                 &quot;Section 2 Reference account
    me-&gt;check_md_exist( is_keys = VALUE #( fipex = me-&gt;get_fldvalue( |NEW_COMITEM| )  fikrs = tafe_fmarea ) iv_ref = &apos;&apos; ).       &quot;Section 3 Commitment Item
    me-&gt;check_md_exist( is_keys = VALUE #( fipex = me-&gt;get_fldvalue( |REF_COMITEM| )  fikrs = tafe_fmarea ) ).                   &quot;Section 3 Reference Commitment Item
    me-&gt;check_md_exist( is_keys = VALUE #( saknr = me-&gt;get_fldvalue( |NEW_GLACCT4| )  bukrs = tafe_compcode ) iv_ref = &apos;&apos; ).     &quot;Section 4 New account
    me-&gt;check_md_exist( is_keys = VALUE #( saknr = me-&gt;get_fldvalue( |REF_GLACCT4| )  bukrs = tafe_compcode ) ).                 &quot;Section 4 Reference account
    me-&gt;check_md_exist( is_keys = VALUE #( saknr = me-&gt;get_fldvalue( |REF_ACCTLOCK| ) ktopl = coa_oper_tafe ) ).                 &quot;Section Lock/Unlock
    me-&gt;check_md_exist( is_keys = VALUE #( saknr = me-&gt;get_fldvalue( |REF_ACCTDEL| )  ktopl = coa_oper_tafe ) ).                 &quot;Section Set Delete Flag

    IF me-&gt;is_fsv_required( ).      &quot;makes sense to check if FSV is relevant for this update
      me-&gt;check_md_exist( is_keys = VALUE #( saknr = me-&gt;get_fldvalue( |REF_GLFSV| )  versn = tafe_fsv-tafe_fsv ) ).             &quot;Section 5 Reference account
      me-&gt;check_md_exist( is_keys = VALUE #( saknr = me-&gt;get_fldvalue( |NEW_GLFSV| )  versn = tafe_fsv-tafe_fsv ) iv_ref = &apos;&apos; ). &quot;Section 5 New account
    ENDIF.

    &quot;passing NEW_GLACCT instead of NEW_COSTELEM because NEW_COSTELEM could not be set for technical reason
    me-&gt;check_md_exist( is_keys = VALUE #( kstar = me-&gt;get_fldvalue( |NEW_GLACCT| ) ) iv_ref = &apos;&apos; ).                             &quot;Section 6 New account
    IF me-&gt;is_costelem_required( ). &quot;makes sense to check if the CostElem is relevant for this update
      me-&gt;check_md_exist( is_keys = VALUE #( kstar = me-&gt;get_fldvalue( |REF_COSTELEM| ) ) ).                                     &quot;Section 6 Reference account
    ENDIF.

    CHECK zcl_com_bapireturn_services=&gt;check_itab_for_errors( me-&gt;get_messages( ) ) = 0.

    RAISE EXCEPTION TYPE zcx_fi_general.

  ENDMETHOD.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_FI_GLMAST_FACTORY" VERSION="0" LANGU="E" DESCRIPT="Factory Class for FI Masterdata" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" RSTAT="K" CLSBCCAT="00" MSG_ID="ZFI" DURATION_TYPE="0 " RISK_LEVEL="0 " ZSAPLINK_PLUGIN_MAJOR_VERSION="0 " ZSAPLINK_PLUGIN_MINOR_VERSION="1 " ZSAPLINK_PLUGIN_BUILD_VERSION="0 " ZSAPLINK_PLUGIN_INFO1="ZSAPLINK_CLASS is part of the main ZSAPLINK project --&gt; This plugin found there instead of ZSAPLINK_PLUGINS projects" ZSAPLINK_PLUGIN_INFO2="SAPLINK homepage: https://www.assembla.com/spaces/saplink/wiki" ZSAPLINK_PLUGIN_INFO3="Download from https://www.assembla.com/code/saplink/subversion/nodes" ZSAPLINK_PLUGIN_INFO4="and navigate to:  trunk -&gt; core -&gt; ZSAPLINK -&gt; CLAS -&gt; ZSAPLINK_CLASS.slnk" REFCLSNAME="ZCL_FICO_MASTERDATA_FACTORY">
  <localImplementation>*&quot;* use this source file for the definition and implementation of
*&quot;* local helper classes, interface definitions and type
*&quot;* declarations</localImplementation>
  <localTypes>*&quot;* use this source file for any type of declarations (class
*&quot;* definitions, interfaces or type declarations) you need for
*&quot;* components in the private section</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <typeUsage CLSNAME="ZCL_FI_GLMAST_FACTORY" TYPEGROUP="ABAP" VERSION="1" TPUTYPE="0" IMPLICIT="X"/>
  <forwardDeclaration>ABAP</forwardDeclaration>
  <attribute CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="LS_ACCT_NAME" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GLACCOUNT_NAME_DATA" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="LS_CCODE_DATA" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_DATA" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="LS_COA_DATA" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="GLACCOUNT_COA_DATA" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="LV_BUKRS" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="8 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BUKRS" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="LV_ERGSL" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="7 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="ERGSL" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="LV_KEYWORD" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="9 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="SCHLW" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="LV_KTOPL" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="5 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="KTOPL" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="LV_SAKNR" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="4 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="SAKNR" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="LV_VERSN" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="6 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="VERSN_011" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <inheritance CLSNAME="ZCL_FI_GLMAST_FACTORY" REFCLSNAME="ZCL_FICO_MASTERDATA_FACTORY" VERSION="0" STATE="1">
   <redefinition CLSNAME="ZCL_FI_GLMAST_FACTORY" REFCLSNAME="ZCL_FICO_MASTERDATA_FACTORY" VERSION="0" MTDNAME="ZIF_MASTERDATA_FACTORY~GET_DATA" EXPOSURE="0"/>
   <redefinition CLSNAME="ZCL_FI_GLMAST_FACTORY" REFCLSNAME="ZCL_FICO_MASTERDATA_FACTORY" VERSION="0" MTDNAME="ZIF_MASTERDATA_FACTORY~IS_EXIST" EXPOSURE="0"/>
   <redefinition CLSNAME="ZCL_FI_GLMAST_FACTORY" REFCLSNAME="ZCL_FICO_MASTERDATA_FACTORY" VERSION="0" MTDNAME="ZIF_MASTERDATA_FACTORY~MAINTAIN_DATA" EXPOSURE="0"/>
  </inheritance>
  <interfaceMethod CLSNAME="ZCL_FI_GLMAST_FACTORY" CPDNAME="ZIF_MASTERDATA_FACTORY~GET_DATA">
   <source>METHOD zif_masterdata_factory~get_data.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA(lo_api) = CAST zcl_fi_glmast_api(
                    zcl_fico_masterdata=&gt;get_instance(
                        iv_saknr = me-&gt;get_saknr( )
                        iv_versn = me-&gt;get_versn( )
                        )
                  ).

    me-&gt;set_api( io_api = lo_api iv_mode = me-&gt;get_mode( ) ). &quot;gl_action-read ).

    lo_api-&gt;zif_masterdata~read_data(
      IMPORTING
        es_data = es_data
    ).

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_FI_GLMAST_FACTORY" CPDNAME="ZIF_MASTERDATA_FACTORY~IS_EXIST">
   <source>METHOD zif_masterdata_factory~is_exist.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA(lo_api) = CAST zcl_fi_glmast_api(
                    zcl_fico_masterdata=&gt;get_instance(
                        iv_saknr = me-&gt;get_saknr( )
                        iv_versn = me-&gt;get_versn( )
                       )
                  ).

    me-&gt;set_api( lo_api ).

    r_result = lo_api-&gt;zif_masterdata~existencecheck(
                        iv_key1 = me-&gt;get_saknr( )
                        iv_key2 = me-&gt;get_ktopl( )
                        iv_key3 = me-&gt;get_bukrs( )
               ).

  ENDMETHOD.</source>
  </interfaceMethod>
  <interfaceMethod CLSNAME="ZCL_FI_GLMAST_FACTORY" CPDNAME="ZIF_MASTERDATA_FACTORY~MAINTAIN_DATA">
   <source>METHOD zif_masterdata_factory~maintain_data.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA(lo_api) = CAST zcl_fi_glmast_api(
                    zcl_fico_masterdata=&gt;get_instance(
                        iv_saknr = me-&gt;get_saknr( )
                        iv_versn = me-&gt;get_versn( )
                       )
                  ).

    me-&gt;set_api( io_api = lo_api iv_mode = me-&gt;get_mode( ) ).

    r_result = lo_api-&gt;zif_masterdata~maintain( CONV saknr( iv_ref ) ).

  ENDMETHOD.</source>
  </interfaceMethod>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="ASSIGN_FSV" VERSION="1" LANGU="E" DESCRIPT="Assign GL Account to FSV" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="ASSIGN_FSV" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="ASSIGN_FSV" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD assign_fsv.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA(lo_fsv_api) = CAST zcl_fi_fsv_api( zcl_fico_masterdata=&gt;get_instance(
                                iv_saknr = me-&gt;get_saknr( )
                                iv_versn = me-&gt;get_versn( )
                                )
                       ).
    me-&gt;set_api( iv_mode = gl_action-update io_api = lo_fsv_api ).
    lo_fsv_api-&gt;set_ergsl( me-&gt;get_ergsl( ) ).
    lo_fsv_api-&gt;set_versn( me-&gt;get_versn( ) ).
    lo_fsv_api-&gt;set_ktopl( me-&gt;get_ktopl( ) ).

    r_result = lo_fsv_api-&gt;zif_masterdata~maintain( ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" DESCRIPT="Factory Object Constructor" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="2" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_SAKNR" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="SAKNR"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_KTOPL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="KTOPL" PARVALUE="TAFE_GROUP_COA"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_BUKRS" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BUKRS" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_VERSN" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="VERSN_011" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_ERGSL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="5 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ERGSL" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IS_COA_DATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="6 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_COA_DATA" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IS_CCODE_DATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="7 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_DATA" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IS_ACCT_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="8 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_NAME_DATA" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_KEYWORD" VERSION="1" LANGU="E" DESCRIPT="Key word for G/L accounts" CMPTYPE="1" MTDTYPE="2" EDITORDER="9 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="SCHLW" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_MODE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="10 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_ACTION" PARVALUE="GL_ACTION-INSERT"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_COMMIT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="11 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D" PARVALUE="ABAP_TRUE"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_SIMULATE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="12 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D" PARVALUE="ABAP_FALSE"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="CONSTRUCTOR" SCONAME="IV_WAIT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="13 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BOOLE_D" PARVALUE="ABAP_TRUE"/>
   <source>METHOD constructor.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    super-&gt;constructor( ).

    me-&gt;set_mode( iv_mode ).
    me-&gt;set_commit( iv_commit ).
    me-&gt;set_simulate( iv_simulate ).
    me-&gt;set_wait( iv_wait ).
    me-&gt;set_saknr( iv_saknr ).
    me-&gt;set_ktopl( iv_ktopl ).
    me-&gt;set_bukrs( iv_bukrs ).
    me-&gt;set_versn( iv_versn ).
    me-&gt;set_ergsl( iv_ergsl ).
    me-&gt;set_ccode_data( is_ccode_data ).
    me-&gt;set_coa_data( is_coa_data ).
    me-&gt;set_acct_name( is_acct_name ).
    me-&gt;set_keyword( iv_keyword ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="GET_ACCT_NAME" VERSION="1" LANGU="E" DESCRIPT="Get GL Account Name" EXPOSURE="0" STATE="1" EDITORDER="11 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="GET_ACCT_NAME" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_NAME_DATA"/>
   <source>METHOD get_acct_name.
    r_result = me-&gt;ls_acct_name.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="GET_BUKRS" VERSION="1" LANGU="E" DESCRIPT="Get Company Code" EXPOSURE="0" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="GET_BUKRS" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BUKRS"/>
   <source>METHOD get_bukrs.
    r_result = me-&gt;lv_bukrs.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="GET_CCODE_DATA" VERSION="1" LANGU="E" DESCRIPT="Get Company Code data" EXPOSURE="0" STATE="1" EDITORDER="9 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="GET_CCODE_DATA" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_DATA"/>
   <source>METHOD get_ccode_data.
    r_result = me-&gt;ls_ccode_data.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="GET_COA_DATA" VERSION="1" LANGU="E" DESCRIPT="Get Chart of Accounts data" EXPOSURE="0" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="GET_COA_DATA" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="GLACCOUNT_COA_DATA"/>
   <source>METHOD get_coa_data.
    r_result = me-&gt;ls_coa_data.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="GET_ERGSL" VERSION="1" LANGU="E" DESCRIPT="Get FSV Item" EXPOSURE="0" STATE="1" EDITORDER="18 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="GET_ERGSL" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ERGSL"/>
   <source>METHOD get_ergsl.
    r_result = me-&gt;lv_ergsl.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="GET_KEYWORD" VERSION="1" LANGU="E" DESCRIPT="Get Keyword" EXPOSURE="0" STATE="1" EDITORDER="13 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="GET_KEYWORD" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="SCHLW"/>
   <source>METHOD get_keyword.
    r_result = me-&gt;lv_keyword.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="GET_KTOPL" VERSION="1" LANGU="E" DESCRIPT="Get Chart of Accounts" EXPOSURE="0" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="GET_KTOPL" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="KTOPL"/>
   <source>METHOD get_ktopl.
    r_result = me-&gt;lv_ktopl.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="GET_SAKNR" VERSION="1" LANGU="E" DESCRIPT="Get GL Account" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="GET_SAKNR" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="SAKNR"/>
   <source>METHOD get_saknr.
    r_result = me-&gt;lv_saknr.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="GET_VERSN" VERSION="1" LANGU="E" DESCRIPT="Get FS Version" EXPOSURE="0" STATE="1" EDITORDER="16 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="GET_VERSN" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="VERSN_011"/>
   <source>METHOD get_versn.
    r_result = me-&gt;lv_versn.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="READ_GLMAST" VERSION="1" LANGU="E" DESCRIPT="Read GL Account Master Data (All attributes)" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="READ_GLMAST" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="/EBY/PDMDGL_SBAPI_DATA"/>
   <exception CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="READ_GLMAST" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD read_glmast.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   October 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA(lo_api) = CAST zcl_fi_glmast_api(
                    zcl_fico_masterdata=&gt;get_instance(
                        iv_saknr = me-&gt;get_saknr( )
                        )
                  ).

    me-&gt;set_api( io_api = lo_api iv_mode = gl_action-read ).

    lo_api-&gt;zif_masterdata~read_data(
      IMPORTING
        es_data = rs_result
    ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="READ_GL_BLOCKS" VERSION="1" LANGU="E" DESCRIPT="Read GL Account Blocked Indicators" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="READ_GL_BLOCKS" SCONAME="RS_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="/EBY/PDMDGL_SBAPI_BLOCKS"/>
   <exception CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="READ_GL_BLOCKS" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD read_gl_blocks.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA(lo_api) = CAST zcl_fi_glmast_api(
                    zcl_fico_masterdata=&gt;get_instance(
                        iv_saknr = me-&gt;get_saknr( )
                        )
                  ).

    me-&gt;set_api( io_api = lo_api iv_mode = gl_action-read ).

    rs_result = lo_api-&gt;read_gl_blocks( ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_ACCT_NAME" VERSION="1" LANGU="E" DESCRIPT="Set GL Account Name" EXPOSURE="0" STATE="1" EDITORDER="12 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_ACCT_NAME" SCONAME="IS_ACCT_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_NAME_DATA"/>
   <source>METHOD set_acct_name.
    me-&gt;ls_acct_name = is_acct_name.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_API" VERSION="1" LANGU="E" DESCRIPT="Set API Attributes" EXPOSURE="0" STATE="1" EDITORDER="15 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_API" SCONAME="IO_API" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="3" TYPE="ZCL_FI_GLMAST_API"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_API" SCONAME="IV_MODE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_ACTION" PAROPTIONL="X"/>
   <source>METHOD set_api.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    io_api-&gt;clear( ).
    io_api-&gt;set_mode( COND #( WHEN iv_mode IS SUPPLIED
                              THEN iv_mode
                              ELSE me-&gt;get_mode( )
                            )
                    ).

    io_api-&gt;set_simulate( me-&gt;get_simulate( ) ).
    io_api-&gt;set_commit( me-&gt;get_commit( ) ).
    io_api-&gt;set_wait( me-&gt;get_wait( ) ).
    io_api-&gt;set_ktopl( me-&gt;get_ktopl( ) ).
    io_api-&gt;set_bukrs( me-&gt;get_bukrs( ) ).
    io_api-&gt;set_versn( me-&gt;get_versn( ) ).
    io_api-&gt;set_ergsl( me-&gt;get_ergsl( ) ).
    io_api-&gt;set_coa_data( me-&gt;get_coa_data( ) ).
    io_api-&gt;set_ccode_data( me-&gt;get_ccode_data( ) ).
    io_api-&gt;set_acct_name( me-&gt;get_acct_name( ) ).
    io_api-&gt;set_keyword( me-&gt;get_keyword( ) ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_BUKRS" VERSION="1" LANGU="E" DESCRIPT="Set Company Code" EXPOSURE="0" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_BUKRS" SCONAME="IV_BUKRS" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BUKRS"/>
   <source>METHOD set_bukrs.
    me-&gt;lv_bukrs = iv_bukrs.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_CCODE_DATA" VERSION="1" LANGU="E" DESCRIPT="Set Company Code data" EXPOSURE="0" STATE="1" EDITORDER="10 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_CCODE_DATA" SCONAME="IS_CCODE_DATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_CCODE_DATA"/>
   <source>METHOD set_ccode_data.
    me-&gt;ls_ccode_data = is_ccode_data.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_COA_BLOCK" VERSION="1" LANGU="E" DESCRIPT="Set Posting Block in Chart of Accounts" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_COA_BLOCK" SCONAME="IV_BLOCK" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="XSPEB" PARVALUE="ABAP_TRUE"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_COA_BLOCK" SCONAME="R_RESULT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_COA_BLOCK" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD set_coa_block.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA(lo_api) = CAST zcl_fi_glmast_api(
                    zcl_fico_masterdata=&gt;get_instance(
                        iv_saknr = me-&gt;get_saknr( )
                        )
                  ).

    me-&gt;set_api( io_api = lo_api ).

    r_result = lo_api-&gt;set_coa_block( iv_block ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_COA_DATA" VERSION="1" LANGU="E" DESCRIPT="Set Chart of Accounts data" EXPOSURE="0" STATE="1" EDITORDER="8 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_COA_DATA" SCONAME="IS_COA_DATA" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="GLACCOUNT_COA_DATA"/>
   <source>METHOD set_coa_data.
    me-&gt;ls_coa_data = is_coa_data.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_COA_DELETE" VERSION="1" LANGU="E" DESCRIPT="Set Deletion Flag in Chart of Accounts" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_COA_DELETE" SCONAME="IV_DEL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="XLOEV" PARVALUE="ABAP_TRUE"/>
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_COA_DELETE" SCONAME="R_RESULT" VERSION="1" LANGU="E" DESCRIPT="True = Set delete successful" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_COA_DELETE" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" DESCRIPT="Exception Object" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD set_coa_delete.

*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

    DATA(lo_api) = CAST zcl_fi_glmast_api(
                    zcl_fico_masterdata=&gt;get_instance(
                        iv_saknr = me-&gt;get_saknr( )
                       )
                  ).

    me-&gt;set_api( io_api = lo_api ).

    r_result = lo_api-&gt;set_coa_delete( iv_del ).

  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_ERGSL" VERSION="1" LANGU="E" DESCRIPT="Set FSV Item" EXPOSURE="0" STATE="1" EDITORDER="19 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_ERGSL" SCONAME="IV_ERGSL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ERGSL"/>
   <source>METHOD set_ergsl.
    me-&gt;lv_ergsl = iv_ergsl.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_KEYWORD" VERSION="1" LANGU="E" DESCRIPT="Set Keyword" EXPOSURE="0" STATE="1" EDITORDER="14 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_KEYWORD" SCONAME="IV_KEYWORD" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="SCHLW"/>
   <source>METHOD set_keyword.
    me-&gt;lv_keyword = iv_keyword.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_KTOPL" VERSION="1" LANGU="E" DESCRIPT="Set Chart of Accounts" EXPOSURE="0" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_KTOPL" SCONAME="IV_KTOPL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="KTOPL"/>
   <source>METHOD set_ktopl.
    me-&gt;lv_ktopl = iv_ktopl.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_SAKNR" VERSION="1" LANGU="E" DESCRIPT="Set GL Account" EXPOSURE="0" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_SAKNR" SCONAME="IV_SAKNR" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="SAKNR"/>
   <source>METHOD set_saknr.
    me-&gt;lv_saknr = iv_saknr.
  ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_VERSN" VERSION="1" LANGU="E" DESCRIPT="Set FSV Version" EXPOSURE="0" STATE="1" EDITORDER="17 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_FI_GLMAST_FACTORY" CMPNAME="SET_VERSN" SCONAME="IV_VERSN" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="VERSN_011"/>
   <source>METHOD set_versn.
    me-&gt;lv_versn = iv_versn.
  ENDMETHOD.</source>
  </method>
 </CLAS>
 <ENHO enhancement_id="ZFI_ENH_IMP_QISR1_GL_MAINT" shorttext="Enhancement: GL Master Data Maintenance via ISR form" tooltype_id="BADI_IMPL" spot_name="QISR1">
  <asx:abap xmlns:asx="http://www.sap.com/abapxml" version="1.0">
   <asx:values>
    <IMPLS>
     <ENH_BADI_IMPL_DATA>
      <SPOT_NAME>QISR1</SPOT_NAME>
      <BADI_NAME>QISR1</BADI_NAME>
      <IMPL_NAME>ZFI_QISR1_GL_MAINT</IMPL_NAME>
      <IMPL_CLASS>ZCL_IM_FI_QISR1_GL_MAINT</IMPL_CLASS>
      <ACTIVE>X</ACTIVE>
      <IS_DEFAULT/>
      <FILTER_ROOT>
       <ENH_BADIIMPL_FILTER_ROOT>
        <ROOT>1</ROOT>
        <FILTERS>
         <ENH_BADIIMPL_FILTER_ID>
          <FILTER_NAME>QSCENARIO</FILTER_NAME>
          <ID>1</ID>
         </ENH_BADIIMPL_FILTER_ID>
        </FILTERS>
       </ENH_BADIIMPL_FILTER_ROOT>
      </FILTER_ROOT>
      <FILTER_TREE/>
      <FILTER_VALUES>
       <ENH_BADIIMPL_FILTER_VALUE>
        <ID>1</ID>
        <FILTER_NAME>QSCENARIO</FILTER_NAME>
        <FILTER_TYPE>C</FILTER_TYPE>
        <COMPARE>=</COMPARE>
        <FILTER_GENERAL_VALUE1/>
        <FILTER_GENERAL_VALUE2/>
        <FILTER_CHAR_VALUE1>ZGLF</FILTER_CHAR_VALUE1>
        <FILTER_CHAR_VALUE2/>
        <FILTER_INT_VALUE1>0</FILTER_INT_VALUE1>
        <FILTER_INT_VALUE2>0</FILTER_INT_VALUE2>
        <FILTER_NUMERIC_VALUE1>000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</FILTER_NUMERIC_VALUE1>
        <FILTER_NUMERIC_VALUE2>000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</FILTER_NUMERIC_VALUE2>
        <FILTER_PACKED_VALUE1>0.0</FILTER_PACKED_VALUE1>
        <FILTER_PACKED_VALUE2>0.0</FILTER_PACKED_VALUE2>
        <FILTER_STRING_VALUE1/>
        <FILTER_STRING_VALUE2/>
        <CHECK_TYPE>QSCENARIO</CHECK_TYPE>
        <CHECK_TYPE_IS_DOM/>
        <CHECK_CLASS/>
        <CHECK_LENGTH>0</CHECK_LENGTH>
        <CHECK_DECS>0</CHECK_DECS>
       </ENH_BADIIMPL_FILTER_VALUE>
      </FILTER_VALUES>
      <FILTERS>
       <ENH_BADI_FILTER_IMPL>
        <DISJ_IDX>1</DISJ_IDX>
        <CONJ_IDX>1</CONJ_IDX>
        <FILTER_NAME>QSCENARIO</FILTER_NAME>
        <FILTER_TYPE>C</FILTER_TYPE>
        <COMPARE>=</COMPARE>
        <FILTER_CHAR_VALUE1>ZGLF</FILTER_CHAR_VALUE1>
        <FILTER_CHAR_VALUE2/>
        <FILTER_INT_VALUE1>0</FILTER_INT_VALUE1>
        <FILTER_INT_VALUE2>0</FILTER_INT_VALUE2>
        <FILTER_NUMERIC_VALUE1>000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</FILTER_NUMERIC_VALUE1>
        <FILTER_NUMERIC_VALUE2>000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</FILTER_NUMERIC_VALUE2>
        <FILTER_PACKED_VALUE1>0.0</FILTER_PACKED_VALUE1>
        <FILTER_PACKED_VALUE2>0.0</FILTER_PACKED_VALUE2>
        <FILTER_STRING_VALUE1/>
        <FILTER_STRING_VALUE2/>
        <CHECK_TYPE>QSCENARIO</CHECK_TYPE>
        <CHECK_TYPE_IS_DOM/>
        <CHECK_CLASS/>
        <CHECK_LENGTH>0</CHECK_LENGTH>
        <CHECK_DECS>0</CHECK_DECS>
       </ENH_BADI_FILTER_IMPL>
      </FILTERS>
      <FCODE_EXTENSIONS/>
      <SCREEN_EXTENSIONS/>
      <IMPL_SHORTTEXT>GL Master Data Maintenance Request via  ISR Form</IMPL_SHORTTEXT>
      <IMPL_SHORTTEXT_ID>005056AA186B1EEAB8CF4E4C2BDAC86B</IMPL_SHORTTEXT_ID>
      <IMPL_LONGTEXT_ID/>
      <MIG_BADI_IMPL>ZFI_QISR1_GL_MAINT</MIG_BADI_IMPL>
      <SORTER_DATA/>
      <IS_EXAMPLE_IMPLEMENTATION/>
      <LOCKED_IN_CUSTOMIZING/>
     </ENH_BADI_IMPL_DATA>
    </IMPLS>
   </asx:values>
  </asx:abap>
 </ENHO>
 <ENHO enhancement_id="ZENH_IMPL_BS_SAVE" shorttext="Implicit Enhancement on BS Save (for GL Form process)" tooltype_id="HOOK_IMPL" orig_object="R3TR-FIBS-FUGR-SAPLFIBS">
  <asx:abap xmlns:asx="http://www.sap.com/abapxml" version="1.0">
   <asx:values>
    <IMPLS>
     <ENH_HOOK_IMPL>
      <SPOTNAME/>
      <PROGRAMNAME>SAPLFIBS</PROGRAMNAME>
      <EXTID>1</EXTID>
      <ID>1</ID>
      <OVERWRITE/>
      <METHOD/>
      <ENHMODE>D</ENHMODE>
      <FULL_NAME>\PR:SAPLFIBS\FO:FAGL_POSTAB_TO_011PC\SE:BEGIN\EI</FULL_NAME>
      <SOURCE>
       <item/>
       <item>DATA: l_mem TYPE string.</item>
       <item/>
       <item>IMPORT l_mem FROM MEMORY ID &apos;TAFE_GL&apos;.</item>
       <item/>
       <item>IF sy-subrc = 0 AND l_mem = &apos;TAFE_GL&apos; AND sy-tcode &lt;&gt; |FSE2|.</item>
       <item>BREAK-POINT ID Z_DEC_CHCKPOINT.</item>
       <item>SELECT * FROM fagl_011pc</item>
       <item>INTO TABLE pt_fagl_011pc</item>
       <item>WHERE versn = bs_versn.</item>
       <item>FREE MEMORY ID &apos;TAFE_GL&apos;.</item>
       <item>RETURN.</item>
       <item>ENDIF.</item>
       <item/>
      </SOURCE>
      <PARENT_FULL_NAME/>
     </ENH_HOOK_IMPL>
     <ENH_HOOK_IMPL>
      <SPOTNAME/>
      <PROGRAMNAME>SAPLFIBS</PROGRAMNAME>
      <EXTID>2</EXTID>
      <ID>2</ID>
      <OVERWRITE/>
      <METHOD/>
      <ENHMODE>D</ENHMODE>
      <FULL_NAME>\FU:FI_BS_CHECK_POPUP_INTERSECTION\SE:BEGIN\EI</FULL_NAME>
      <SOURCE>
       <item/>
       <item>DATA: l_mem TYPE string.</item>
       <item/>
       <item>IMPORT l_mem FROM MEMORY ID &apos;TAFE_GL&apos;.</item>
       <item/>
       <item>IF sy-subrc = 0 AND l_mem = &apos;TAFE_GL&apos; AND sy-tcode &lt;&gt; |FSE2|.</item>
       <item>BREAK-POINT ID Z_DEC_CHCKPOINT.</item>
       <item>PERFORM CHECK_INTERSECTION_ALL USING G_FLG_INTERSECTION.</item>
       <item>FLG_INTERSECTION = G_FLG_INTERSECTION.</item>
       <item>RETURN.</item>
       <item>ENDIF.</item>
       <item/>
      </SOURCE>
      <PARENT_FULL_NAME/>
     </ENH_HOOK_IMPL>
    </IMPLS>
   </asx:values>
  </asx:abap>
 </ENHO>
 <FUGR AREA="ZFG_BAPI_GLMASTER" SPRAS="E" AREAT="Custom BAPIs for GL Master">
  <functionGroupDocumentation/>
  <mainprogram NAME="SAPLZFG_BAPI_GLMASTER" VARCL="X" DBAPL="S" DBNA="D$" SUBC="F" APPL="S" RMAND="100" RLOAD="E" FIXPT="X" LDBNAME="D$S" UCCHECK="X">
   <textPool/>
   <source>*******************************************************************
*   System-defined Include-files.                                 *
*******************************************************************
  INCLUDE LZFG_BAPI_GLMASTERTOP.             &quot; Global Declarations
  INCLUDE LZFG_BAPI_GLMASTERUXX.             &quot; Function Modules

*******************************************************************
*   User-defined Include-files (if necessary).                    *
*******************************************************************
* INCLUDE LZFG_BAPI_GLMASTERF...             &quot; Subroutines
* INCLUDE LZFG_BAPI_GLMASTERO...             &quot; PBO-Modules
* INCLUDE LZFG_BAPI_GLMASTERI...             &quot; PAI-Modules
* INCLUDE LZFG_BAPI_GLMASTERE...             &quot; Events
* INCLUDE LZFG_BAPI_GLMASTERP...             &quot; Local class implement.
* INCLUDE LZFG_BAPI_GLMASTERT99.             &quot; ABAP Unit tests</source>
  </mainprogram>
  <includeprograms>
   <include NAME="LZFG_BAPI_GLMASTERTOP" VARCL="X" DBAPL="S" DBNA="D$" SUBC="I" APPL="S" RMAND="100" FIXPT="X" LDBNAME="D$S" UCCHECK="X">
    <include_source></include_source>
   </include>
   <include NAME="LZFG_BAPI_GLMASTERTOP" VARCL="X" DBAPL="S" DBNA="D$" SUBC="I" APPL="S" RMAND="100" FIXPT="X" LDBNAME="D$S" UCCHECK="X">
    <include_source>FUNCTION-POOL zfg_bapi_glmaster MESSAGE-ID zfi.

* INCLUDE LZFG_BAPI_GLMASTERD...             &quot; Local class definition

DEFINE _mac_add_return.
  zcl_com_bapireturn_services=&gt;add_message_to_bapiret(
   EXPORTING
      iv_id         = sy-msgid
      iv_message    = CONV #( sy-msgv1 )
    CHANGING
      ct_return     = &amp;1
  ).
END-OF-DEFINITION.

DEFINE _mac_add_sy_return.
  zcl_com_bapireturn_services=&gt;add_msg_to_itab(
    CHANGING
      ct_return     = &amp;1                &quot; Table with BAPI Return Information
  ).
END-OF-DEFINITION.</include_source>
   </include>
   <include NAME="LZFG_BAPI_GLMASTERTOP" VARCL="X" DBAPL="S" DBNA="D$" SUBC="I" APPL="S" RMAND="100" FIXPT="X" LDBNAME="D$S" UCCHECK="X">
    <include_source>FUNCTION-POOL zfg_bapi_glmaster MESSAGE-ID zfi.

* INCLUDE LZFG_BAPI_GLMASTERD...             &quot; Local class definition

DEFINE _mac_add_return.
  zcl_com_bapireturn_services=&gt;add_message_to_bapiret(
   EXPORTING
      iv_id         = sy-msgid
      iv_message    = CONV #( sy-msgv1 )
    CHANGING
      ct_return     = &amp;1
  ).
END-OF-DEFINITION.

DEFINE _mac_add_sy_return.
  zcl_com_bapireturn_services=&gt;add_msg_to_itab(
    CHANGING
      ct_return     = &amp;1                &quot; Table with BAPI Return Information
  ).
END-OF-DEFINITION.</include_source>
   </include>
  </includeprograms>
  <functionmodules>
   <functionmodule NAME="ZBAPI_GLACCOUNT_MAINTAIN" REMOTE="R" STEXT="Maintenance of GL Account Master Data">
    <importing PARAMETER="IV_SAKNR" TYP="SKA1-SAKNR"/>
    <importing PARAMETER="IV_WITH_REF" OPTIONAL="X" TYP="SKA1-SAKNR"/>
    <importing PARAMETER="IV_KTOPL" DEFAULT="&apos;2000&apos;" OPTIONAL="X" TYP="SKA1-KTOPL"/>
    <importing PARAMETER="IV_BUKRS" DEFAULT="&apos;1020&apos;" OPTIONAL="X" TYP="SKB1-BUKRS"/>
    <importing PARAMETER="IS_COA_DATA" OPTIONAL="X" TYP="ZBAPI_S_COA_DATA"/>
    <importing PARAMETER="IS_CCODE_DATA" OPTIONAL="X" TYP="ZBAPI_S_CCODE_DATA"/>
    <importing PARAMETER="IS_ACCT_NAME" OPTIONAL="X" TYP="GLACCOUNT_NAME_DATA"/>
    <importing PARAMETER="IV_KEYWORD" OPTIONAL="X" TYP="SKAS-SCHLW"/>
    <importing PARAMETER="IV_MODE" DEFAULT="&apos;I&apos;" OPTIONAL="X" TYP="ZBAPI_S_ACTION-ACTION"/>
    <importing PARAMETER="IV_SIMULATE" DEFAULT="ABAP_TRUE" OPTIONAL="X" TYP="BAPI1030_GEN-TESTRUN"/>
    <tables PARAMETER="RETURN" DBSTRUCT="BAPIRET2" OPTIONAL="X"/>
    <documentation PARAMETER="IV_SAKNR" KIND="P" STEXT="G/L Account Number" INDEX=" 001"/>
    <documentation PARAMETER="IV_WITH_REF" KIND="P" STEXT="Reference G/L Account Number" INDEX=" 002"/>
    <documentation PARAMETER="IV_KTOPL" KIND="P" STEXT="Chart of Accounts" INDEX=" 003"/>
    <documentation PARAMETER="IV_BUKRS" KIND="P" STEXT="Company Code" INDEX=" 004"/>
    <documentation PARAMETER="IS_COA_DATA" KIND="P" STEXT="G/L Account Master Record: Chart of Accounts - Data" INDEX=" 005"/>
    <documentation PARAMETER="IS_CCODE_DATA" KIND="P" STEXT="G/L Account Master Record: Company Code - Data" INDEX=" 006"/>
    <documentation PARAMETER="IS_ACCT_NAME" KIND="P" STEXT="G/L Account Master Record: Descriptions - Data" INDEX=" 007"/>
    <documentation PARAMETER="IV_KEYWORD" KIND="P" STEXT="Key word for G/L accounts" INDEX=" 008"/>
    <documentation PARAMETER="IV_MODE" KIND="P" STEXT="G/L account master record: Action for data record" INDEX=" 009"/>
    <documentation PARAMETER="IV_SIMULATE" KIND="P" STEXT="Simulation Mode: TRUE (=&apos;X&apos;) and FALSE (=&apos; &apos;)" INDEX=" 010"/>
    <documentation PARAMETER="RETURN" KIND="P" STEXT="Return Parameter" INDEX=" 011"/>
    <fm_source_new>*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   August 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

  TRY.
      DATA(ok) = zcl_fico_masterdata_factory=&gt;create(
                   iv_saknr      = iv_saknr
                   iv_ktopl      = iv_ktopl
                   iv_bukrs      = iv_bukrs
                   is_coa_data   = CORRESPONDING #( is_coa_data )
                   is_ccode_data = CORRESPONDING #( is_ccode_data )
                   is_acct_name  = is_acct_name
                   iv_keyword    = iv_keyword
                   iv_mode       = iv_mode
                   iv_commit     = abap_false           &quot;BAPI must not commit in itself
                   iv_simulate   = iv_simulate
                       )-&gt;zif_masterdata_factory~maintain_data(
                            iv_ref = iv_with_ref
                 ).

    CATCH zcx_fi_general INTO DATA(lo_exception).
 &quot;handle exceptions, fill bapireturn etc.
      return[] = lo_exception-&gt;get_messages( ).
      CHECK return[] IS INITIAL.
      MESSAGE e008 WITH CONV bapi_msg( lo_exception-&gt;get_text( ) ) INTO DATA(dummy).
      _mac_add_return return[].
      RETURN.
  ENDTRY.

    CHECK ok = abap_true.
    MESSAGE s512(fh) INTO dummy.
    _mac_add_sy_return return[].</fm_source_new>
    <functionModuleDocumentation OBJECT="ZBAPI_GLACCOUNT_MAINTAIN">
     <language SPRAS="E">
      <textLine TDFORMAT="U4" TDLINE="&amp;FUNCTIONALITY&amp;"/>
      <textLine TDFORMAT="AS" TDLINE="Custom API to &lt;ZH&gt;Create&lt;/&gt; or &lt;ZH&gt;Update&lt;/&gt; (i.e. &lt;ZH&gt;Maintain&lt;/&gt;) a"/>
      <textLine TDLINE="General Ledger Account in Group Chart of Accounts and in Company Code."/>
      <textLine TDFORMAT="U4" TDLINE="&amp;EXAMPLE&amp;"/>
      <textLine TDFORMAT="AS"/>
      <textLine TDFORMAT="U4" TDLINE="&amp;HINTS&amp;"/>
      <textLine TDFORMAT="AS" TDLINE="Look at Package &lt;ZH&gt;ZFI_GLMASTER&lt;/&gt; for all related development"/>
      <textLine TDLINE="artefacts."/>
      <textLine TDFORMAT="U4" TDLINE="&amp;FURTHER_SOURCES_OF_INF&amp;"/>
      <textLine TDFORMAT="AS" TDLINE="Related Function Group &lt;ZH&gt;ZFG_BAPI_GLMASTER&lt;/&gt;"/>
      <textLine TDFORMAT="AS" TDLINE="Related Business Object &lt;ZH&gt;ZGLMAST&lt;/&gt;"/>
     </language>
    </functionModuleDocumentation>
   </functionmodule>
  </functionmodules>
 </FUGR>
 <FUGR AREA="ZFG_FL_GL_MASTER_UPDATE" SPRAS="E" AREAT="Update Modules for FI-GL Master Data">
  <functionGroupDocumentation/>
  <mainprogram NAME="SAPLZFG_FL_GL_MASTER_UPDATE" DBAPL="S" DBNA="D$" SUBC="F" APPL="S" RMAND="100" RLOAD="E" FIXPT="X" LDBNAME="D$S" UCCHECK="X">
   <textPool/>
   <source>*******************************************************************
*   System-defined Include-files.                                 *
*******************************************************************
  INCLUDE LZFG_FL_GL_MASTER_UPDATETOP.       &quot; Global Declarations
  INCLUDE LZFG_FL_GL_MASTER_UPDATEUXX.       &quot; Function Modules

*******************************************************************
*   User-defined Include-files (if necessary).                    *
*******************************************************************
* INCLUDE LZFG_FL_GL_MASTER_UPDATEF...       &quot; Subroutines
* INCLUDE LZFG_FL_GL_MASTER_UPDATEO...       &quot; PBO-Modules
* INCLUDE LZFG_FL_GL_MASTER_UPDATEI...       &quot; PAI-Modules
* INCLUDE LZFG_FL_GL_MASTER_UPDATEE...       &quot; Events
* INCLUDE LZFG_FL_GL_MASTER_UPDATEP...       &quot; Local class implement.
* INCLUDE LZFG_FL_GL_MASTER_UPDATET99.       &quot; ABAP Unit tests</source>
  </mainprogram>
  <includeprograms>
   <include NAME="LZFG_FL_GL_MASTER_UPDATETOP" VARCL="X" DBAPL="S" DBNA="D$" SUBC="I" APPL="S" RMAND="100" FIXPT="X" LDBNAME="D$S" UCCHECK="X">
    <include_source></include_source>
   </include>
   <include NAME="LZFG_FL_GL_MASTER_UPDATETOP" VARCL="X" DBAPL="S" DBNA="D$" SUBC="I" APPL="S" RMAND="100" FIXPT="X" LDBNAME="D$S" UCCHECK="X">
    <include_source>FUNCTION-POOL ZFG_FL_GL_MASTER_UPDATE  MESSAGE-ID zfi_glmast.

* INCLUDE LZFG_FL_GL_MASTER_UPDATED...       &quot; Local class definition</include_source>
   </include>
  </includeprograms>
  <functionmodules>
   <functionmodule NAME="ZFI_GL_GLMAST_UPDATE" UTASK="1" STEXT="Update Module for GLMAST">
    <importing PARAMETER="IV_NOTIFICATION" TYP="QMEL-QMNUM"/>
    <exceptions EXCEPTION="EX_UPDATE_ERROR"/>
    <documentation PARAMETER="IV_NOTIFICATION" KIND="P" INDEX=" 001"/>
    <documentation PARAMETER="EX_UPDATE_ERROR" KIND="X" INDEX=" 002"/>
    <fm_source_new>*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   October 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

  TRY.
      zcl_swf_glmast=&gt;get_instance( iv_notification )-&gt;maintain_masterdata( iv_update_task = abap_false ).

    CATCH cx_bo_instance_not_found INTO DATA(lo_bo_exception).
      MESSAGE e098 WITH lo_bo_exception-&gt;get_text( ) RAISING ex_update_error.

    CATCH zcx_fi_general INTO DATA(lo_general_exception).
      READ TABLE lo_general_exception-&gt;get_messages( ) INDEX 1 INTO DATA(return).
      MESSAGE e098 WITH return-message RAISING ex_update_error.
  ENDTRY.</fm_source_new>
    <functionModuleDocumentation/>
   </functionmodule>
  </functionmodules>
 </FUGR>
 <FUGR AREA="ZFG_FI_GL_MASTER" SPRAS="E" AREAT="FI GL Master Data">
  <functionGroupDocumentation/>
  <mainprogram NAME="SAPLZFG_FI_GL_MASTER" VARCL="X" DBAPL="S" DBNA="D$" SUBC="F" APPL="S" RMAND="100" RLOAD="E" FIXPT="X" LDBNAME="D$S" UCCHECK="X">
   <textPool/>
   <source>*******************************************************************
*   System-defined Include-files.                                 *
*******************************************************************
  INCLUDE LZFG_FI_GL_MASTERTOP.              &quot; Global Declarations
  INCLUDE LZFG_FI_GL_MASTERUXX.              &quot; Function Modules

*******************************************************************
*   User-defined Include-files (if necessary).                    *
*******************************************************************
* INCLUDE LZFG_FI_GL_MASTERF...              &quot; Subroutines
* INCLUDE LZFG_FI_GL_MASTERO...              &quot; PBO-Modules
* INCLUDE LZFG_FI_GL_MASTERI...              &quot; PAI-Modules
* INCLUDE LZFG_FI_GL_MASTERE...              &quot; Events
* INCLUDE LZFG_FI_GL_MASTERP...              &quot; Local class implement.
* INCLUDE LZFG_FI_GL_MASTERT99.              &quot; ABAP Unit tests</source>
  </mainprogram>
  <includeprograms>
   <include NAME="LZFG_FI_GL_MASTERTOP" VARCL="X" DBAPL="S" DBNA="D$" SUBC="I" APPL="S" RMAND="100" FIXPT="X" LDBNAME="D$S" UCCHECK="X">
    <include_source></include_source>
   </include>
   <include NAME="LZFG_FI_GL_MASTERTOP" VARCL="X" DBAPL="S" DBNA="D$" SUBC="I" APPL="S" RMAND="100" FIXPT="X" LDBNAME="D$S" UCCHECK="X">
    <include_source>FUNCTION-POOL ZFG_FI_GL_MASTER.             &quot;MESSAGE-ID ..

* INCLUDE LZFG_FI_GL_MASTERD...              &quot; Local class definition

  TYPES:
    BEGIN OF t_node_acct_info,
      node    TYPE fibs_bs_node_id,
      info    TYPE rfaccinf,
      flg_mod TYPE c,
    END OF t_node_acct_info,
    t_node_acct_info_tab TYPE t_node_acct_info OCCURS 50.

  DATA l_refresh         TYPE c.
  DATA l_posid           TYPE fibs_acct_id.
  DATA ls_pos_info       TYPE fibs_pos_info.
  DATA node_tab          TYPE STANDARD TABLE OF snodetext WITH HEADER LINE.
  DATA lt_node_acct      TYPE STANDARD TABLE OF  fibs_bs_node_id WITH HEADER LINE.
  DATA lt_node_acct_info TYPE t_node_acct_info_tab WITH HEADER LINE.
  DATA del_node_acct_info_tab TYPE t_node_acct_info_tab WITH HEADER LINE.
  DATA lt_fagl_011qt     TYPE STANDARD TABLE OF fagl_011qt.
  DATA lt_fagl_011tc     TYPE STANDARD TABLE OF fagl_011tc.
  DATA l_intersection    TYPE c.
  DATA:
    flg_langu_maint       TYPE c VALUE &apos; &apos;,
    flg_sylangu_not_found TYPE c,
    maint_langu           TYPE sylangu,
    l_mem                 TYPE string VALUE &apos;TAFE_GL&apos;.</include_source>
   </include>
  </includeprograms>
  <functionmodules>
   <functionmodule NAME="ZFI_GL_ASSIGN_FSV" STEXT="Assign Financial Stmt Version to GL Account">
    <importing PARAMETER="IV_VERSN" DEFAULT="&apos;1020&apos;" OPTIONAL="X" TYP="T011-VERSN"/>
    <importing PARAMETER="IV_KTOPL" DEFAULT="&apos;1000&apos;" OPTIONAL="X" TYP="SKA1-KTOPL"/>
    <importing PARAMETER="IV_SAKNR" TYP="SKA1-SAKNR"/>
    <importing PARAMETER="IV_ERGSL" TYP="RF011P-ERGSL"/>
    <importing PARAMETER="IV_COMMIT" DEFAULT="ABAP_TRUE" OPTIONAL="X" TYP="BAPI_COMMIT_WORK-COMMIT_WORK"/>
    <importing PARAMETER="IV_WAIT" DEFAULT="ABAP_FALSE" OPTIONAL="X" TYP="BAPITA-WAIT"/>
    <exporting PARAMETER="EV_OK" REFERENCE="X" TYP="BOOLE-BOOLE"/>
    <exceptions EXCEPTION="EX_NO_AUTHORITY"/>
    <exceptions EXCEPTION="EX_GL_NO_EXIST"/>
    <exceptions EXCEPTION="EX_LOAD_ERROR"/>
    <exceptions EXCEPTION="EX_READ_ERROR"/>
    <exceptions EXCEPTION="EX_LOCK_ERROR"/>
    <exceptions EXCEPTION="EX_SAVE_ERROR"/>
    <documentation PARAMETER="IV_VERSN" KIND="P" STEXT="Financial Statement Version" INDEX=" 001"/>
    <documentation PARAMETER="IV_KTOPL" KIND="P" STEXT="Chart of Accounts" INDEX=" 002"/>
    <documentation PARAMETER="IV_SAKNR" KIND="P" STEXT="G/L Account Number" INDEX=" 003"/>
    <documentation PARAMETER="IV_ERGSL" KIND="P" STEXT="Financial Statement Item" INDEX=" 004"/>
    <documentation PARAMETER="IV_COMMIT" KIND="P" STEXT="Commit Flag: TRUE (=&apos;X&apos;) and FALSE (=&apos; &apos;)" INDEX=" 005"/>
    <documentation PARAMETER="IV_WAIT" KIND="P" INDEX=" 006"/>
    <documentation PARAMETER="EV_OK" KIND="P" STEXT="FSV Assigned: TRUE (=&apos;X&apos;) and FALSE (=&apos; &apos;)" INDEX=" 007"/>
    <documentation PARAMETER="EX_NO_AUTHORITY" KIND="X" INDEX=" 008"/>
    <documentation PARAMETER="EX_GL_NO_EXIST" KIND="X" INDEX=" 009"/>
    <documentation PARAMETER="EX_LOAD_ERROR" KIND="X" INDEX=" 010"/>
    <documentation PARAMETER="EX_READ_ERROR" KIND="X" INDEX=" 011"/>
    <documentation PARAMETER="EX_LOCK_ERROR" KIND="X" INDEX=" 012"/>
    <documentation PARAMETER="EX_SAVE_ERROR" KIND="X" INDEX=" 013"/>
    <fm_source_new>*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   July 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

  FREE:
   lt_node_acct,
   lt_node_acct_info,
   del_node_acct_info_tab,
   lt_fagl_011qt,
   lt_fagl_011tc.

  CLEAR:
    flg_sylangu_not_found,
    maint_langu,
    l_intersection,
    l_refresh,
    l_posid,
    ls_pos_info.

  AUTHORITY-CHECK OBJECT &apos;F_T011&apos;
        ID &apos;VERSN&apos; FIELD iv_versn
        ID &apos;ACTVT&apos; FIELD &apos;02&apos;.

  IF sy-subrc &lt;&gt; 0.
    MESSAGE ID &apos;FE&apos; TYPE &apos;E&apos; NUMBER 030
     WITH iv_versn RAISING ex_no_authority.
  ENDIF.

  DATA(l_saknr) = CONV saknr( |{ iv_saknr ALPHA = IN }| ).

  CALL FUNCTION &apos;READ_SKA1&apos;
    EXPORTING
      xktopl         = iv_ktopl
      xsaknr         = l_saknr
    EXCEPTIONS
      key_incomplete = 1
      not_authorized = 2
      not_found      = 3
      OTHERS         = 4.

  CASE sy-subrc.
    WHEN 0.
    WHEN 2.
      MESSAGE ID sy-msgid TYPE &apos;E&apos; NUMBER sy-msgno
         WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
         RAISING ex_no_authority.
    WHEN OTHERS.
      MESSAGE ID sy-msgid TYPE &apos;E&apos; NUMBER sy-msgno
       WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
       RAISING ex_gl_no_exist.
  ENDCASE.

  EXPORT l_mem TO MEMORY ID &apos;TAFE_GL&apos;.              &quot;See Enhancement ZENH_IMPL_BS_SAVE

  CALL FUNCTION &apos;FAGL_FI_BS_LOAD&apos;
    EXPORTING
      version         = iv_versn
    EXCEPTIONS
      not_found       = 1
      pos_not_found   = 2
      langu_not_found = 3
      OTHERS          = 4.

  IF sy-subrc &lt;&gt; 0.
    MESSAGE ID sy-msgid TYPE &apos;E&apos; NUMBER sy-msgno
     WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
     RAISING ex_load_error.
  ENDIF.

  CALL FUNCTION &apos;FAGL_FI_BS_LOAD_LANGU&apos;
    EXPORTING
      flg_langu_maint       = flg_langu_maint
    IMPORTING
      flg_sylangu_not_found = flg_sylangu_not_found
      maint_langu           = maint_langu
    EXCEPTIONS
      OTHERS                = 1.

  IF sy-subrc &lt;&gt; 0.
    MESSAGE ID sy-msgid TYPE &apos;E&apos; NUMBER sy-msgno
     WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
     RAISING ex_load_error.
  ENDIF.

  PERFORM ergsl_to_pos_id IN PROGRAM saplfibs IF FOUND
            USING    iv_ergsl
            CHANGING l_posid.

  DATA(node_id) = VALUE fibs_bs_node_id( type = |P| pos_id = l_posid ). &quot;P = Parent

  CALL FUNCTION &apos;FI_BS_NODE_GET_CHILDREN&apos;
    EXPORTING
      node              = node_id
      with_gl_accounts  = &apos; &apos;
    TABLES
      children_node_tab = lt_node_acct
    EXCEPTIONS
      node_not_found    = 1
      OTHERS            = 2.

  IF sy-subrc &lt;&gt; 0.
    MESSAGE ID sy-msgid TYPE &apos;E&apos; NUMBER sy-msgno
      WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
      RAISING ex_read_error.
  ENDIF.

  LOOP AT lt_node_acct INTO DATA(ls_node_acct).
    CALL FUNCTION &apos;FI_BS_ACCT_GET_INFO&apos;
      EXPORTING
        node_id        = ls_node_acct
      IMPORTING
        acct_info      = lt_node_acct_info-info
      EXCEPTIONS
        node_not_found = 01
        wrong_type     = 02.

    IF sy-subrc &lt;&gt; 0.
      MESSAGE ID sy-msgid TYPE &apos;E&apos; NUMBER sy-msgno
        WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
        RAISING ex_read_error.
    ENDIF.

    lt_node_acct_info-node = ls_node_acct.
    APPEND lt_node_acct_info.

    AT LAST.
      CLEAR lt_node_acct_info-node.
      lt_node_acct_info-info-ktopl     = iv_ktopl.
      lt_node_acct_info-info-acct_from = lt_node_acct_info-info-acct_to = |{ iv_saknr ALPHA = IN }|.
      lt_node_acct_info-info-debit     = lt_node_acct_info-info-credit  = abap_true.
      APPEND lt_node_acct_info.
    ENDAT.
  ENDLOOP.

  PERFORM delete_update_add_accounts IN PROGRAM rfgsbstr IF FOUND
            TABLES del_node_acct_info_tab
                   lt_node_acct_info
            USING  node_id.

  PERFORM check_intersection_all IN PROGRAM saplfibs IF FOUND
            USING l_intersection.

  IF l_intersection = abap_true.
    MESSAGE e723(fe) RAISING ex_save_error.
  ENDIF.

  CALL FUNCTION &apos;FI_BS_ENQUEUE&apos;
    EXPORTING
      versn          = iv_versn
    EXCEPTIONS
      foreign_lock   = 1
      system_failure = 2
      OTHERS         = 3.

  IF sy-subrc &lt;&gt; 0.
    MESSAGE ID sy-msgid TYPE &apos;E&apos; NUMBER sy-msgno
         WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
         RAISING ex_lock_error.
  ENDIF.

  CALL FUNCTION &apos;FAGL_FI_BS_SAVE&apos;
    EXCEPTIONS
      no_save_intersection     = 1
      auto_transport_cancelled = 2
      auto_transport_failed    = 3
      OTHERS                   = 4.

  DATA(l_subrc) = sy-subrc.

  CALL FUNCTION &apos;FI_BS_DEQUEUE&apos;
    EXPORTING
      versn = iv_versn.

  IF l_subrc &lt;&gt; 0.
    MESSAGE ID sy-msgid TYPE &apos;E&apos; NUMBER sy-msgno
      WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
      RAISING ex_save_error.
  ENDIF.

  ev_ok = abap_true.

  CHECK iv_commit = abap_true.

  IF iv_wait IS INITIAL.
    cl_soap_commit_rollback=&gt;commit( ).
  ELSE.
    cl_soap_commit_rollback=&gt;commit_and_wait( ).
  ENDIF.</fm_source_new>
    <functionModuleDocumentation/>
   </functionmodule>
   <functionmodule NAME="ZFI_GL_READ_FSV" STEXT="Read FSV Tree">
    <importing PARAMETER="IV_VERSN" DEFAULT="&apos;1020&apos;" OPTIONAL="X" REFERENCE="X" TYP="VERSN_011"/>
    <exporting PARAMETER="RT_RESULT" REFERENCE="X" TYP="HRASR00HELP_DATASET_TAB"/>
    <exceptions EXCEPTION="EX_NO_AUTHORITY"/>
    <exceptions EXCEPTION="EX_LOAD_ERROR"/>
    <exceptions EXCEPTION="EX_READ_ERROR"/>
    <documentation PARAMETER="IV_VERSN" KIND="P" STEXT="Financial Statement Version" INDEX=" 001"/>
    <documentation PARAMETER="RT_RESULT" KIND="P" STEXT="Help Datasets" INDEX=" 002"/>
    <documentation PARAMETER="EX_NO_AUTHORITY" KIND="X" INDEX=" 003"/>
    <documentation PARAMETER="EX_LOAD_ERROR" KIND="X" INDEX=" 004"/>
    <documentation PARAMETER="EX_READ_ERROR" KIND="X" INDEX=" 005"/>
    <fm_source_new>*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   September 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

  CLEAR:
    flg_sylangu_not_found,
    maint_langu.

  FREE node_tab.

  AUTHORITY-CHECK OBJECT &apos;F_T011&apos;
        ID &apos;VERSN&apos; FIELD iv_versn
        ID &apos;ACTVT&apos; FIELD &apos;03&apos;.

  IF sy-subrc &lt;&gt; 0.
    MESSAGE ID &apos;FE&apos; TYPE &apos;E&apos; NUMBER 030
     WITH iv_versn RAISING ex_no_authority.
  ENDIF.

  CALL FUNCTION &apos;FAGL_FI_BS_LOAD&apos;
    EXPORTING
      version         = iv_versn
    EXCEPTIONS
      not_found       = 1
      pos_not_found   = 2
      langu_not_found = 3
      OTHERS          = 4.

  IF sy-subrc &lt;&gt; 0.
    MESSAGE ID sy-msgid TYPE &apos;E&apos; NUMBER sy-msgno
     WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
     RAISING ex_load_error.
  ENDIF.

  CALL FUNCTION &apos;FAGL_FI_BS_LOAD_LANGU&apos;
    EXPORTING
      flg_langu_maint       = flg_langu_maint
    IMPORTING
      flg_sylangu_not_found = flg_sylangu_not_found
      maint_langu           = maint_langu
    EXCEPTIONS
      OTHERS                = 1.

  IF sy-subrc &lt;&gt; 0.
    MESSAGE ID sy-msgid TYPE &apos;E&apos; NUMBER sy-msgno
     WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
     RAISING ex_load_error.
  ENDIF.

  PERFORM create_node_tab IN PROGRAM rfgsbstr IF FOUND
      TABLES node_tab.

  CALL FUNCTION &apos;RS_TREE_CONSTRUCT&apos;
    TABLES
      nodetab            = node_tab
    EXCEPTIONS
      tree_failure       = 1                &quot; Unable to generate hierarchy
      id_not_found       = 2
      wrong_relationship = 3
      OTHERS             = 4.

  IF sy-subrc &lt;&gt; 0.
    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
      WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
      RAISING ex_read_error.
  ENDIF.

* we only care for the P&apos;s
  rt_result = VALUE #( FOR node IN node_tab
                 WHERE ( type = |P| )
               ( help_key   = node-name
                 help_value = node-text )
                     ).</fm_source_new>
    <functionModuleDocumentation/>
   </functionmodule>
   <functionmodule NAME="ZFI_GL_REASSIGN_FSV" STEXT="Reassign GL account to a different Node in the FSV Hierarchy">
    <importing PARAMETER="IV_VERSN" DEFAULT="&apos;1020&apos;" OPTIONAL="X" TYP="T011-VERSN"/>
    <importing PARAMETER="IV_KTOPL" DEFAULT="&apos;1000&apos;" OPTIONAL="X" TYP="SKA1-KTOPL"/>
    <importing PARAMETER="IV_SAKNR" TYP="SKA1-SAKNR"/>
    <importing PARAMETER="IV_ERGSL" TYP="RF011P-ERGSL"/>
    <importing PARAMETER="IV_COMMIT" DEFAULT="ABAP_TRUE" OPTIONAL="X" TYP="BAPI_COMMIT_WORK-COMMIT_WORK"/>
    <importing PARAMETER="IV_WAIT" DEFAULT="ABAP_FALSE" OPTIONAL="X" TYP="BAPITA-WAIT"/>
    <exporting PARAMETER="EV_OK" REFERENCE="X" TYP="BOOLE-BOOLE"/>
    <exceptions EXCEPTION="EX_NO_AUTHORITY"/>
    <exceptions EXCEPTION="EX_GL_NO_EXIST"/>
    <exceptions EXCEPTION="EX_GL_NO_ASSIGN"/>
    <exceptions EXCEPTION="EX_LOAD_ERROR"/>
    <exceptions EXCEPTION="EX_READ_ERROR"/>
    <exceptions EXCEPTION="EX_LOCK_ERROR"/>
    <exceptions EXCEPTION="EX_MOVE_ERROR"/>
    <exceptions EXCEPTION="EX_SAVE_ERROR"/>
    <documentation PARAMETER="IV_VERSN" KIND="P" INDEX=" 001"/>
    <documentation PARAMETER="IV_KTOPL" KIND="P" INDEX=" 002"/>
    <documentation PARAMETER="IV_SAKNR" KIND="P" INDEX=" 003"/>
    <documentation PARAMETER="IV_ERGSL" KIND="P" INDEX=" 004"/>
    <documentation PARAMETER="IV_COMMIT" KIND="P" INDEX=" 005"/>
    <documentation PARAMETER="IV_WAIT" KIND="P" INDEX=" 006"/>
    <documentation PARAMETER="EV_OK" KIND="P" INDEX=" 007"/>
    <documentation PARAMETER="EX_NO_AUTHORITY" KIND="X" INDEX=" 008"/>
    <documentation PARAMETER="EX_GL_NO_EXIST" KIND="X" INDEX=" 009"/>
    <documentation PARAMETER="EX_GL_NO_ASSIGN" KIND="X" INDEX=" 010"/>
    <documentation PARAMETER="EX_LOAD_ERROR" KIND="X" INDEX=" 011"/>
    <documentation PARAMETER="EX_READ_ERROR" KIND="X" INDEX=" 012"/>
    <documentation PARAMETER="EX_LOCK_ERROR" KIND="X" INDEX=" 013"/>
    <documentation PARAMETER="EX_MOVE_ERROR" KIND="X" INDEX=" 014"/>
    <documentation PARAMETER="EX_SAVE_ERROR" KIND="X" INDEX=" 015"/>
    <fm_source_new>*----------------------------------------------------------------------
* Author: Sougata Chatterjee (UserID 11034616)
* Date:   September 2020
* Reason: TAFE_CIME 144 - GL Account Maintenance Form and Workflow
*----------------------------------------------------------------------

  FREE:
   lt_node_acct,
   lt_node_acct_info,
   del_node_acct_info_tab,
   lt_fagl_011qt,
   lt_fagl_011tc.

  CLEAR:
    flg_sylangu_not_found,
    maint_langu,
    l_intersection,
    l_refresh,
    l_posid,
    ls_pos_info.

* check auth
  AUTHORITY-CHECK OBJECT &apos;F_T011&apos;
        ID &apos;VERSN&apos; FIELD iv_versn
        ID &apos;ACTVT&apos; FIELD &apos;02&apos;.

  IF sy-subrc &lt;&gt; 0.
    MESSAGE ID &apos;FE&apos; TYPE &apos;E&apos; NUMBER 030
     WITH iv_versn RAISING ex_no_authority.
  ENDIF.

  DATA(l_saknr) = CONV saknr( |{ iv_saknr ALPHA = IN }| ).

* check GL account passed exists in order to proceed to next step
  CALL FUNCTION &apos;READ_SKA1&apos;
    EXPORTING
      xktopl         = iv_ktopl
      xsaknr         = l_saknr
    EXCEPTIONS
      key_incomplete = 1
      not_authorized = 2
      not_found      = 3
      OTHERS         = 4.

  CASE sy-subrc.
    WHEN 0.
    WHEN 2.
      MESSAGE ID sy-msgid TYPE &apos;E&apos; NUMBER sy-msgno
         WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
         RAISING ex_no_authority.
    WHEN OTHERS.
      MESSAGE ID sy-msgid TYPE &apos;E&apos; NUMBER sy-msgno
       WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
       RAISING ex_gl_no_exist.
  ENDCASE.

* check GL account is already assigned in FSV to be able to reassign it
  SELECT * FROM fagl_011zc
    INTO @DATA(ls_011zc)
    UP TO 1 ROWS
    WHERE versn = @iv_versn
    AND   ktopl = @iv_ktopl
    AND   vonkt &lt;= @l_saknr
    AND   biskt &gt;= @l_saknr.
  ENDSELECT.

  IF sy-subrc &lt;&gt; 0.
    MESSAGE e059(zfi_glmast) WITH iv_saknr iv_versn
     RAISING ex_gl_no_assign.
  ENDIF.

  EXPORT l_mem TO MEMORY ID &apos;TAFE_GL&apos;.      &quot;See Enhancement ZENH_IMPL_BS_SAVE

* load the FAGL Balance Sheet &quot;Object&quot; (formerly known as Function Groups in SAP)
  CALL FUNCTION &apos;FAGL_FI_BS_LOAD&apos;
    EXPORTING
      version         = iv_versn
    EXCEPTIONS
      not_found       = 1
      pos_not_found   = 2
      langu_not_found = 3
      OTHERS          = 4.

  IF sy-subrc &lt;&gt; 0.
    MESSAGE ID sy-msgid TYPE &apos;E&apos; NUMBER sy-msgno
     WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
     RAISING ex_load_error.
  ENDIF.

  CALL FUNCTION &apos;FAGL_FI_BS_LOAD_LANGU&apos;
    EXPORTING
      flg_langu_maint       = flg_langu_maint
    IMPORTING
      flg_sylangu_not_found = flg_sylangu_not_found
      maint_langu           = maint_langu
    EXCEPTIONS
      OTHERS                = 1.

  IF sy-subrc &lt;&gt; 0.
    MESSAGE ID sy-msgid TYPE &apos;E&apos; NUMBER sy-msgno
     WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
     RAISING ex_load_error.
  ENDIF.

  DATA l_posid_from TYPE fibs_acct_id.

* convert the Source FS Item (ERGSL) to Source FS Position ID (POS_ID) complying with FG SAPLFIBS
  PERFORM ergsl_to_pos_id IN PROGRAM saplfibs IF FOUND
            USING    ls_011zc-ergsl
            CHANGING l_posid_from.

* convert the Target FS Item (ERGSL) to Target FS Position ID (POS_ID) complying with FG SAPLFIBS
  PERFORM ergsl_to_pos_id IN PROGRAM saplfibs IF FOUND
            USING    iv_ergsl
            CHANGING l_posid.

* prepare the NODE_ID source and target structures before moving into the next step
  DATA(node_id)    = VALUE fibs_bs_node_id( type = |P| pos_id = l_posid_from ). &quot;P = Parent
  DATA(node_id_to) = VALUE fibs_bs_node_id( type = |P| pos_id = l_posid ).

* get the children of the Source Node ID in the FSV
  CALL FUNCTION &apos;FI_BS_NODE_GET_CHILDREN&apos;
    EXPORTING
      node              = node_id
      with_gl_accounts  = &apos; &apos;
    TABLES
      children_node_tab = lt_node_acct
    EXCEPTIONS
      node_not_found    = 1
      OTHERS            = 2.

  IF sy-subrc &lt;&gt; 0.
    MESSAGE ID sy-msgid TYPE &apos;E&apos; NUMBER sy-msgno
      WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
      RAISING ex_read_error.
  ENDIF.

* build a table with more information like GL account details from the LT_NODE_ACCT retrieved in the previous step
  LOOP AT lt_node_acct INTO DATA(ls_node_acct).
    CALL FUNCTION &apos;FI_BS_ACCT_GET_INFO&apos;
      EXPORTING
        node_id        = ls_node_acct
      IMPORTING
        acct_info      = lt_node_acct_info-info
      EXCEPTIONS
        node_not_found = 01
        wrong_type     = 02.

    IF sy-subrc &lt;&gt; 0.
      MESSAGE ID sy-msgid TYPE &apos;E&apos; NUMBER sy-msgno
        WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
        RAISING ex_read_error.
    ENDIF.

    lt_node_acct_info-node = ls_node_acct.
    APPEND lt_node_acct_info.

    AT LAST.
      CLEAR lt_node_acct_info-node.
      lt_node_acct_info-info-ktopl     = iv_ktopl.
      lt_node_acct_info-info-acct_from = lt_node_acct_info-info-acct_to = |{ iv_saknr ALPHA = IN }|.
      lt_node_acct_info-info-debit     = lt_node_acct_info-info-credit  = abap_true.
      APPEND lt_node_acct_info.
    ENDAT.
  ENDLOOP.

* now move/reassign the GL account within the FSV from the source Node to the target node
  CALL FUNCTION &apos;FI_BS_NODE_MOVE&apos;
    EXPORTING
      from_node           = VALUE fibs_bs_node_id(
                              type    = |A|
                              acct_id = VALUE #( lt_node_acct_info[ info-acct_from = l_saknr ]-node-acct_id OPTIONAL )
                                                 )
      to_node             = node_id_to
      as_child            = abap_true
    EXCEPTIONS
      from_node_not_found = 1
      to_node_not_found   = 2
      wrong_type          = 3
      OTHERS              = 4.

  IF sy-subrc &lt;&gt; 0.
    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
      WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
      RAISING ex_move_error.
  ENDIF.

* lock the FS Version
  CALL FUNCTION &apos;FI_BS_ENQUEUE&apos;
    EXPORTING
      versn          = iv_versn
    EXCEPTIONS
      foreign_lock   = 1
      system_failure = 2
      OTHERS         = 3.

  IF sy-subrc &lt;&gt; 0.
    MESSAGE ID sy-msgid TYPE &apos;E&apos; NUMBER sy-msgno
         WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
         RAISING ex_lock_error.
  ENDIF.

* update the FSV Version
  CALL FUNCTION &apos;FAGL_FI_BS_SAVE&apos;
    EXCEPTIONS
      no_save_intersection     = 1
      auto_transport_cancelled = 2
      auto_transport_failed    = 3
      OTHERS                   = 4.

  DATA(l_subrc) = sy-subrc.

* unlock the FS Version
  CALL FUNCTION &apos;FI_BS_DEQUEUE&apos;
    EXPORTING
      versn = iv_versn.

  IF l_subrc &lt;&gt; 0.
    MESSAGE ID sy-msgid TYPE &apos;E&apos; NUMBER sy-msgno
      WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
      RAISING ex_save_error.
  ENDIF.

  ev_ok = abap_true.

  CHECK iv_commit = abap_true.

* commit if required
  IF iv_wait IS INITIAL.
    cl_soap_commit_rollback=&gt;commit( ).
  ELSE.
    cl_soap_commit_rollback=&gt;commit_and_wait( ).
  ENDIF.</fm_source_new>
    <functionModuleDocumentation/>
   </functionmodule>
  </functionmodules>
 </FUGR>
 <INTF CLSNAME="ZIF_MASTERDATA_FACTORY" VERSION="1" LANGU="E" DESCRIPT="Master data Factory Interface" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" UNICODE="X">
  <method CLSNAME="ZIF_MASTERDATA_FACTORY" CMPNAME="GET_DATA" VERSION="1" LANGU="E" DESCRIPT="Get Master data Object" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZIF_MASTERDATA_FACTORY" CMPNAME="GET_DATA" SCONAME="ES_DATA" VERSION="1" LANGU="E" DESCRIPT="Master data" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="1" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY"/>
   <exception CLSNAME="ZIF_MASTERDATA_FACTORY" CMPNAME="GET_DATA" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" DESCRIPT="Exception Object" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
  </method>
  <method CLSNAME="ZIF_MASTERDATA_FACTORY" CMPNAME="IS_EXIST" VERSION="1" LANGU="E" DESCRIPT="Check Existence of a Master data object" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZIF_MASTERDATA_FACTORY" CMPNAME="IS_EXIST" SCONAME="IV_KEY1" VERSION="1" LANGU="E" DESCRIPT="Key 1 of a Master data object (Optional)" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY" PAROPTIONL="X"/>
   <parameter CLSNAME="ZIF_MASTERDATA_FACTORY" CMPNAME="IS_EXIST" SCONAME="IV_KEY2" VERSION="1" LANGU="E" DESCRIPT="Key 2 of a Master data object (Optional)" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY" PAROPTIONL="X"/>
   <parameter CLSNAME="ZIF_MASTERDATA_FACTORY" CMPNAME="IS_EXIST" SCONAME="IV_KEY3" VERSION="1" LANGU="E" DESCRIPT="Key 3 of a Master data object (Optional)" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY" PAROPTIONL="X"/>
   <parameter CLSNAME="ZIF_MASTERDATA_FACTORY" CMPNAME="IS_EXIST" SCONAME="R_RESULT" VERSION="1" LANGU="E" DESCRIPT="Exist = True" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZIF_MASTERDATA_FACTORY" CMPNAME="IS_EXIST" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" DESCRIPT="Exception Object (Resumable)" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
  </method>
  <method CLSNAME="ZIF_MASTERDATA_FACTORY" CMPNAME="MAINTAIN_DATA" VERSION="1" LANGU="E" DESCRIPT="Maintain Master data (CRUD)" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZIF_MASTERDATA_FACTORY" CMPNAME="MAINTAIN_DATA" SCONAME="IV_REF" VERSION="1" LANGU="E" DESCRIPT="Reference object" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY" PAROPTIONL="X"/>
   <parameter CLSNAME="ZIF_MASTERDATA_FACTORY" CMPNAME="MAINTAIN_DATA" SCONAME="R_RESULT" VERSION="1" LANGU="E" DESCRIPT="Result: True = Success" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZIF_MASTERDATA_FACTORY" CMPNAME="MAINTAIN_DATA" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" DESCRIPT="Exception Object" MTDTYPE="0" EDITORDER="1 "/>
  </method>
 </INTF>
 <INTF CLSNAME="ZIF_MASTERDATA" VERSION="1" LANGU="E" DESCRIPT="Master data API Interface" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" UNICODE="X">
  <attribute CLSNAME="ZIF_MASTERDATA" CMPNAME="LO_EXCEPTION" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCX_FI_GENERAL" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZIF_MASTERDATA" CMPNAME="LS_RETURN" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BAPIRET2" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZIF_MASTERDATA" CMPNAME="LV_DUMMY" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="4" SRCROW1="36 " SRCCOLUMN1="7 " SRCROW2="36 " SRCCOLUMN2="34 " TYPESRC_LENG="30 " TYPESRC="lv_dummy     TYPE c LENGTH 1
"/>
  <method CLSNAME="ZIF_MASTERDATA" CMPNAME="EXISTENCECHECK" VERSION="1" LANGU="E" DESCRIPT="Check Existence of a Master data object" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZIF_MASTERDATA" CMPNAME="EXISTENCECHECK" SCONAME="IV_KEY1" VERSION="1" LANGU="E" DESCRIPT="Key 1 of a Master data object (Optional)" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY" PAROPTIONL="X"/>
   <parameter CLSNAME="ZIF_MASTERDATA" CMPNAME="EXISTENCECHECK" SCONAME="IV_KEY2" VERSION="1" LANGU="E" DESCRIPT="Key 2 of a Master data object (Optional)" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY" PAROPTIONL="X"/>
   <parameter CLSNAME="ZIF_MASTERDATA" CMPNAME="EXISTENCECHECK" SCONAME="IV_KEY3" VERSION="1" LANGU="E" DESCRIPT="Key 3 of a Master data object (Optional)" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY" PAROPTIONL="X"/>
   <parameter CLSNAME="ZIF_MASTERDATA" CMPNAME="EXISTENCECHECK" SCONAME="R_RESULT" VERSION="1" LANGU="E" DESCRIPT="Exist = True" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZIF_MASTERDATA" CMPNAME="EXISTENCECHECK" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" DESCRIPT="Exception Object (Resumable)" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
  </method>
  <method CLSNAME="ZIF_MASTERDATA" CMPNAME="MAINTAIN" VERSION="1" LANGU="E" DESCRIPT="Maintain Master data (CRUD)" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZIF_MASTERDATA" CMPNAME="MAINTAIN" SCONAME="IV_REF" VERSION="1" LANGU="E" DESCRIPT="Reference object" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY" PAROPTIONL="X"/>
   <parameter CLSNAME="ZIF_MASTERDATA" CMPNAME="MAINTAIN" SCONAME="R_RESULT" VERSION="1" LANGU="E" DESCRIPT="Result: True = Success" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BOOLE_D"/>
   <exception CLSNAME="ZIF_MASTERDATA" CMPNAME="MAINTAIN" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" DESCRIPT="Exception Object" MTDTYPE="0" EDITORDER="1 "/>
  </method>
  <method CLSNAME="ZIF_MASTERDATA" CMPNAME="READ_DATA" VERSION="1" LANGU="E" DESCRIPT="Read Master data Object" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZIF_MASTERDATA" CMPNAME="READ_DATA" SCONAME="ES_DATA" VERSION="1" LANGU="E" DESCRIPT="Master data" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="1" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY"/>
   <exception CLSNAME="ZIF_MASTERDATA" CMPNAME="READ_DATA" SCONAME="ZCX_FI_GENERAL" VERSION="1" LANGU="E" DESCRIPT="Exception Object (Resumable)" MTDTYPE="0" EDITORDER="1 " IS_RESUMABLE="X"/>
  </method>
 </INTF>
 <MSAG ARBGB="ZFI_GLMAST" MASTERLANG="E" RESPUSER="11034616" STEXT="Messages for Package ZFI_GLMASTER">
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="000" TEXT="Please choose a Request Type."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="001" TEXT="Customising error in QISRSCENARIO - check Characteristics for Scenario &amp;1"/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="002" TEXT="GL Account &amp;1 does not exist in Chart of Account &amp;2."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="003" TEXT="GL Account &amp;1 does not exist in Company Code &amp;2."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="004" TEXT="Please enter a New GL account number in Chart of Account &amp;1."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="005" TEXT="Either B/S account or Profit and Loss account must be ticked in COA &amp;1."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="006" TEXT="Please tick only one Account Type not both in Chart of Account &amp;1."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="007" TEXT="Please enter a Short Text for Chart of Account &amp;1."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="008" TEXT="Please enter a Long Text for Chart of Account &amp;1."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="009" TEXT="GL Account &amp;1 already exists in Chart of Account &amp;2."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="010" TEXT="Please choose an Account Group for Chart of Account &amp;1."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="011" TEXT="Please choose a TOES Account."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="012" TEXT="Please choose a Financial Statement."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="013" TEXT="Please choose a Financial Statement Note."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="014" TEXT="Please choose a Finacial Statement Cashflow."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="015" TEXT="Please choose a FS NCVER Disclosure."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="016" TEXT="Please choose a NCVER Activity."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="017" TEXT="Please choose a NCVER  CFLO."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="018" TEXT="Please enter a Group Account number in Chart of Account 1000."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="019" TEXT="GL Account &amp;1 already exists in Company Code &amp;2."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="020" TEXT="Please enter a reason for this change."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="021" TEXT="Commitment Item &amp;1 already exists in FM Area &amp;2."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="022" TEXT="Please enter Commitment Item Name."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="023" TEXT="Please enter  Commitment Item Description."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="024" TEXT="Please choose a Dir. postable for Commitment Item."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="025" TEXT="GL Account &amp;1 was successfully created in Chart of Account &amp;2."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="026" TEXT="GL Account &amp;1 was successfully created in Company Code &amp;2."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="027" TEXT="Please choose a Financial Transaction Type for Commitment Item."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="028" TEXT="Please choose a Commitment Item Category."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="029" TEXT="Please choose a Superior Commitment Item Category."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="030" TEXT="Please choose a Standard Variant for Commitment Item."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="031" TEXT="Please choose an Account Currency."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="032" TEXT="Please choose a Tax Category."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="033" TEXT="Please enter an Alternate Account Number."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="034" TEXT="Please choose a Sort Key."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="035" TEXT="Please choose a Field Status Group."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="036" TEXT="Pleaes choose a Planning Level."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="037" TEXT="Please enter a valid Commitment Item."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="038" TEXT="Please choose a Planning Relevance."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="039" TEXT="Please enter a text for Account Assignment Info."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="040" TEXT="Cost Element &amp;1 already exists in Controlling Area &amp;2."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="041" TEXT="GL Account &amp;1 already assigned to FSV &amp;2."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="042" TEXT="Please choose a FSV Hierarchy."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="043" TEXT="Please choose a FSV Alternate Hierarchy."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="044" TEXT="Please enter or choose a Cost Element Valid From Date."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="045" TEXT="Please enter or choose a Cost Element Valid To Date."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="046" TEXT="Please enter a Name for the Cost Element."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="047" TEXT="Please enter a Description for the Cost Element."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="048" TEXT="Please choose a Cost Element Category."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="049" TEXT="Please enter a Reference GL Account."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="050" TEXT="Please enter a Reference GL Account in Chart of Account &amp;1."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="051" TEXT="Please enter a Reference Commitment Item in FM Area &amp;1."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="052" TEXT="No change detected in Short Text for Chart of Account &amp;1."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="053" TEXT="No change detected in Long Text for Chart of Account &amp;1."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="054" TEXT="No change detected in Commitment Item Name in FM Area &amp;1."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="055" TEXT="No change detected in Commitment Item Description in FM Area &amp;1."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="056" TEXT="No change detected in Lock Indicator of GL Acct &amp;1 in Chart of Account &amp;2"/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="057" TEXT="No change detected in Deletion Flag for GL Acct &amp;1 in Chart of Account &amp;2"/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="058" TEXT="No change detected in Reporting Hierarchy Node in Fin Stat Version &amp;1."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="059" TEXT="GL Account &amp;1 not yet assigned to FSV &amp;2."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="060" TEXT="Financial Statement Version &amp;1 is currently locked."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="061" TEXT="GL Account &amp;1 reassignment to Alternate FSV &amp;2 will be ignored."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="062" TEXT="Please tick the checkbox at the end of the form."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="063" TEXT="ISR Form Notification &amp;1 does not exist - please check IQS3."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="064" TEXT="No Agents found for Level &amp;1 approvals - Please maintain Resp Rule &amp;2."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="065" TEXT="Cost Element &amp;1 is currently locked."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="066" TEXT="Notification &amp;1 is already completed - master data updates not possible."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="067" TEXT="Please confirm the checklist by ticking checkbox number &amp;1."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="068" TEXT="Please confirm the checklist by ticking checkbox below."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="069" TEXT="Please enter a reason for &amp;1 in the Comments section."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="070" TEXT="GLMAST Instance is not in error - cannot provide Error Email List."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="098" TEXT="No master data objects were created - &amp;1. Session Rollback."/>
  <t100 SPRSL="E" ARBGB="ZFI_GLMAST" MSGNR="099" TEXT="Master data objects successfully created."/>
  <t100t SPRSL="E" ARBGB="ZFI_GLMAST" STEXT="Messages for Package ZFI_GLMASTER"/>
 </MSAG>
 <SXCI IMP_NAME="ZFI_QISR1_GL_MAINT" TEXT="GL Master Data Maintenance Request via  ISR Form" IMP_CLASS="ZCL_IM_FI_QISR1_GL_MAINT" EXIT_NAME="QISR1" INTER_NAME="IF_EX_QISR1" UNAME="11034616" UDATE="20200820" UTIME="101649" ACTIVE="X" ANAME="11034616" ADATE="20200820" ATIME="101649">
  <text SPRSL="E"/>
  <fltrs FLT_VAL="ZGLF"/>
 </SXCI>
 <TABL TABNAME="ZFI_S_GLMAST_ISR_KEY" DDLANGUAGE="E" TABCLASS="INTTAB" DATMIN="0000000000" DATMAX="0000000000" DATAVG="0000000000" DDTEXT="GL Master Key for ISR Process" AUTHCLASS="00" MASTERLANG="E" PROZPUFF="000" EXCLASS="3">
  <dd09l AS4VERS="0000" SCHFELDANZ="000"/>
  <dd03p TABNAME="ZFI_S_GLMAST_ISR_KEY" FIELDNAME="SAKNR" DDLANGUAGE="E" POSITION="0001" ROLLNAME="SAKNR" ADMINFIELD="0" INTTYPE="C" INTLEN="000020" DOMNAME="SAKNR" ROUTPUTLEN="000000" MEMORYID="SAK" LOGFLAG="X" HEADLEN="10" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000010" OUTPUTLEN="000010" DECIMALS="000000" ENTITYTAB="SKA1" CONVEXIT="ALPHA" MASK="  CHARE" MASKLEN="0000" DDTEXT="G/L Account Number" REPTEXT="G/L Acct" SCRTEXT_S="G/L acct" SCRTEXT_M="G/L Account" SCRTEXT_L="G/L Account" DOMNAME3L="SAKNR" SHLPORIGIN="D" SHLPNAME="C_SAKNR" SHLPFIELD="SAKNR" DEPTH="00" COMPTYPE="E" DEFFDNAME="GL_ACCOUNT" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_GLMAST_ISR_KEY" FIELDNAME="KTOPL" DDLANGUAGE="E" POSITION="0002" ROLLNAME="KTOPL" ADMINFIELD="0" INTTYPE="C" INTLEN="000008" DOMNAME="KTOPL" ROUTPUTLEN="000000" MEMORYID="KPL" LOGFLAG="X" HEADLEN="04" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" ENTITYTAB="T004" MASK="  CHARE" MASKLEN="0000" DDTEXT="Chart of Accounts" REPTEXT="ChAc" SCRTEXT_S="Chrt/Accts" SCRTEXT_M="Chart of Accts" SCRTEXT_L="Chart of Accounts" DOMNAME3L="KTOPL" SHLPORIGIN="D" SHLPNAME="C_KTOPL" SHLPFIELD="KTOPL" DEPTH="00" COMPTYPE="E" DEFFDNAME="CHRT_ACCTS" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_GLMAST_ISR_KEY" FIELDNAME="BUKRS" DDLANGUAGE="E" POSITION="0003" ROLLNAME="BUKRS" ADMINFIELD="0" INTTYPE="C" INTLEN="000008" DOMNAME="BUKRS" ROUTPUTLEN="000000" MEMORYID="BUK" LOGFLAG="X" HEADLEN="04" SCRLEN1="06" SCRLEN2="15" SCRLEN3="15" DTELMASTER="D" DATATYPE="CHAR" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" ENTITYTAB="T001" MASK="  CHARE" MASKLEN="0000" DDTEXT="Company Code" REPTEXT="CoCd" SCRTEXT_S="CoCode" SCRTEXT_M="Company Code" SCRTEXT_L="Company Code" DOMNAME3L="BUKRS" SHLPORIGIN="D" SHLPNAME="C_T001" SHLPFIELD="BUKRS" DEPTH="00" COMPTYPE="E" DEFFDNAME="COMP_CODE" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_GLMAST_ISR_KEY" FIELDNAME="KSTAR" DDLANGUAGE="E" POSITION="0004" ROLLNAME="KSTAR" ADMINFIELD="0" INTTYPE="C" INTLEN="000020" DOMNAME="KSTAR" ROUTPUTLEN="000000" MEMORYID="KAT" HEADLEN="10" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000010" OUTPUTLEN="000010" DECIMALS="000000" ENTITYTAB="CSKA" CONVEXIT="ALPHA" MASK="  CHARE" MASKLEN="0000" DDTEXT="Cost Element" REPTEXT="Cost Elem." SCRTEXT_S="Cost Elem." SCRTEXT_M="Cost Element" SCRTEXT_L="Cost Element" DOMNAME3L="KSTAR" DEPTH="00" COMPTYPE="E" DEFFDNAME="COST_ELEM" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_GLMAST_ISR_KEY" FIELDNAME="FIPEX" DDLANGUAGE="E" POSITION="0005" ROLLNAME="FM_FIPEX" ADMINFIELD="0" INTTYPE="C" INTLEN="000048" DOMNAME="FM_FIPEX" ROUTPUTLEN="000000" MEMORYID="FPS" LOGFLAG="X" HEADLEN="24" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000024" OUTPUTLEN="000024" DECIMALS="000000" ENTITYTAB="FMCI" CONVEXIT="FMCIL" MASK="  CHARE" MASKLEN="0000" DDTEXT="Commitment item" REPTEXT="Commitment item" SCRTEXT_S="Cmmt item" SCRTEXT_M="Commitment item" SCRTEXT_L="Commitment item" DOMMASTER="D" DOMNAME3L="FM_FIPEX" DEPTH="00" COMPTYPE="E" DEFFDNAME="CMMT_ITEM" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_GLMAST_ISR_KEY" FIELDNAME="ERGSL" DDLANGUAGE="E" POSITION="0006" ROLLNAME="ERGSL" ADMINFIELD="0" INTTYPE="C" INTLEN="000020" DOMNAME="ERGSL" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="10" SCRLEN1="10" SCRLEN2="15" SCRLEN3="30" DTELMASTER="D" DATATYPE="CHAR" LENG="000010" OUTPUTLEN="000010" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="Financial Statement Item" REPTEXT="Item" SCRTEXT_S="Item" SCRTEXT_M="FS Item" SCRTEXT_L="Financial Statement Item" DOMNAME3L="ERGSL" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_GLMAST_ISR_KEY" FIELDNAME="FIKRS" DDLANGUAGE="E" POSITION="0007" ROLLNAME="FIKRS" ADMINFIELD="0" INTTYPE="C" INTLEN="000008" DOMNAME="FIKRS" ROUTPUTLEN="000000" MEMORYID="FIK" LOGFLAG="X" HEADLEN="04" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" ENTITYTAB="FM01" MASK="  CHARE" MASKLEN="0000" DDTEXT="Financial Management Area" REPTEXT="FMA" SCRTEXT_S="FM area" SCRTEXT_M="FM Area" SCRTEXT_L="FM Area" DOMNAME3L="FIKRS" DEPTH="00" COMPTYPE="E" DEFFDNAME="FM_AREA" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_GLMAST_ISR_KEY" FIELDNAME="VERSN" DDLANGUAGE="E" POSITION="0008" ROLLNAME="VERSN_011" ADMINFIELD="0" INTTYPE="C" INTLEN="000008" DOMNAME="VERSN_011" ROUTPUTLEN="000000" MEMORYID="BIL" LOGFLAG="X" HEADLEN="07" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" ENTITYTAB="T011" MASK="  CHARE" MASKLEN="0000" DDTEXT="Financial Statement Version" REPTEXT="FS Vers" SCRTEXT_S="FS Version" SCRTEXT_M="FS Version" SCRTEXT_L="FS Version" DOMNAME3L="VERSN_011" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
 </TABL>
 <TABL TABNAME="ZBAPI_S_ACTION" DDLANGUAGE="E" TABCLASS="INTTAB" DATMIN="0000000000" DATMAX="0000000000" DATAVG="0000000000" DDTEXT="BAPI structure for GL Master" AUTHCLASS="00" PROZPUFF="000" EXCLASS="3">
  <dd09l AS4VERS="0000" SCHFELDANZ="000"/>
  <dd03p TABNAME="ZBAPI_S_ACTION" FIELDNAME="ACTION" DDLANGUAGE="E" POSITION="0001" ROLLNAME="GLACCOUNT_ACTION" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="GLACCOUNT_ACTION" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="G/L account master record: Action for data record" DOMNAME3L="GLACCOUNT_ACTION" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
 </TABL>
 <TABL TABNAME="ZFI_S_COMMITMENT_DATA" DDLANGUAGE="E" TABCLASS="INTTAB" DATMIN="0000000000" DATMAX="0000000000" DATAVG="0000000000" LANGDEP="X" DDTEXT="FI Commitment Item Master Data structure" AUTHCLASS="00" MASTERLANG="E" PROZPUFF="000" EXCLASS="4">
  <dd09l AS4VERS="0000" SCHFELDANZ="000"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="FMCI" DDLANGUAGE="E" POSITION="0001" ROLLNAME="FMCI" ADMINFIELD="0" INTLEN="000000" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" DATATYPE="STRU" LENG="000000" OUTPUTLEN="000000" DECIMALS="000000" MASK="  STRUS" MASKLEN="0000" DDTEXT="Commitment items master data" DEPTH="00" COMPTYPE="S" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME=".INCLUDE" DDLANGUAGE="E" POSITION="0002" ADMINFIELD="0" INTLEN="000000" PRECFIELD="IFMCIKEY" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" LENG="000000" OUTPUTLEN="000000" DECIMALS="000000" MASK="      S" MASKLEN="0000" DDTEXT="Key Fields Commitment Items (Table FMCI)" DEPTH="01" COMPTYPE="S" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="MANDT" DDLANGUAGE="E" POSITION="0003" ROLLNAME="MANDT" ADMINFIELD="1" INTTYPE="C" INTLEN="000006" DOMNAME="MANDT" ROUTPUTLEN="000000" HEADLEN="03" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CLNT" LENG="000003" OUTPUTLEN="000003" DECIMALS="000000" ENTITYTAB="T000" MASK="  CLNTE" MASKLEN="0000" DDTEXT="Client" REPTEXT="Cl." SCRTEXT_S="Client" SCRTEXT_M="Client" SCRTEXT_L="Client" DOMNAME3L="MANDT" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="FIKRS" DDLANGUAGE="E" POSITION="0004" ROLLNAME="FIKRS" ADMINFIELD="1" INTTYPE="C" INTLEN="000008" DOMNAME="FIKRS" ROUTPUTLEN="000000" MEMORYID="FIK" LOGFLAG="X" HEADLEN="04" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" ENTITYTAB="FM01" MASK="  CHARE" MASKLEN="0000" DDTEXT="Financial Management Area" REPTEXT="FMA" SCRTEXT_S="FM area" SCRTEXT_M="FM Area" SCRTEXT_L="FM Area" DOMNAME3L="FIKRS" DEPTH="01" COMPTYPE="E" DEFFDNAME="FM_AREA" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="GJAHR" DDLANGUAGE="E" POSITION="0005" ROLLNAME="GJAHR" ADMINFIELD="1" INTTYPE="N" INTLEN="000008" DOMNAME="GJAHR" ROUTPUTLEN="000000" MEMORYID="GJR" LOGFLAG="X" HEADLEN="04" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="NUMC" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" CONVEXIT="GJAHR" MASK="  NUMCE" MASKLEN="0000" DDTEXT="Fiscal Year" REPTEXT="Year" SCRTEXT_S="Fiscal Yr" SCRTEXT_M="Fiscal Year" SCRTEXT_L="Fiscal Year" DOMNAME3L="GJAHR" DEPTH="01" COMPTYPE="E" DEFFDNAME="FISC_YEAR" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="FIPEX" DDLANGUAGE="E" POSITION="0006" ROLLNAME="FM_FIPEX" ADMINFIELD="1" INTTYPE="C" INTLEN="000048" DOMNAME="FM_FIPEX" ROUTPUTLEN="000000" MEMORYID="FPS" LOGFLAG="X" HEADLEN="24" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000024" OUTPUTLEN="000024" DECIMALS="000000" ENTITYTAB="FMCI" CONVEXIT="FMCIL" MASK="  CHARE" MASKLEN="0000" DDTEXT="Commitment item" REPTEXT="Commitment item" SCRTEXT_S="Cmmt item" SCRTEXT_M="Commitment item" SCRTEXT_L="Commitment item" DOMMASTER="D" DOMNAME3L="FM_FIPEX" DEPTH="01" COMPTYPE="E" DEFFDNAME="CMMT_ITEM" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME=".INCLUDE" DDLANGUAGE="E" POSITION="0007" ADMINFIELD="0" INTLEN="000000" PRECFIELD="IFMCIDAT" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" LENG="000000" OUTPUTLEN="000000" DECIMALS="000000" MASK="      S" MASKLEN="0000" DDTEXT="Structure of Commitment Item Master Data" DEPTH="01" COMPTYPE="S" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="KATEG" DDLANGUAGE="E" POSITION="0008" ROLLNAME="FM_KATEG" ADMINFIELD="1" INTTYPE="N" INTLEN="000002" DOMNAME="FM_KATEG" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="NUMC" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  NUMCE" MASKLEN="0000" DDTEXT="Attribute: Can be Posted To" REPTEXT="CanBPT" SCRTEXT_S="Dir. pst." SCRTEXT_M="Dir. postable" SCRTEXT_L="Directly Postabl" DOMMASTER="D" DOMNAME3L="FM_KATEG" SHLPORIGIN="F" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="FIVOR" DDLANGUAGE="E" POSITION="0009" ROLLNAME="FM_FIVOR" ADMINFIELD="1" INTTYPE="N" INTLEN="000004" DOMNAME="FM_FIVOR" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="02" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="NUMC" LENG="000002" OUTPUTLEN="000002" DECIMALS="000000" VALEXI="X" MASK="  NUMCE" MASKLEN="0000" DDTEXT="Financial transaction" REPTEXT="Tr" SCRTEXT_S="Transactn" SCRTEXT_M="Fin.transaction" SCRTEXT_L="Financial trans." DOMNAME3L="FM_FIVOR" SHLPORIGIN="F" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="POTYP" DDLANGUAGE="E" POSITION="0010" ROLLNAME="FM_POTYP" ADMINFIELD="1" INTTYPE="N" INTLEN="000002" DOMNAME="FM_POTYP" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="NUMC" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  NUMCE" MASKLEN="0000" DDTEXT="Commitment Item Category" REPTEXT="ItmCat" SCRTEXT_S="Item Cat." SCRTEXT_M="Item Category" SCRTEXT_L="Commitment Item Cat." DOMMASTER="D" DOMNAME3L="FM_POTYP" SHLPORIGIN="F" DEPTH="01" COMPTYPE="E" DEFFDNAME="CTEM_CATEGORY" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="KRTYP" DDLANGUAGE="E" POSITION="0011" ROLLNAME="FM_KRTYP" ADMINFIELD="1" INTTYPE="C" INTLEN="000010" DOMNAME="FM_KRTYP" ROUTPUTLEN="000000" MEMORYID="KYP" LOGFLAG="X" HEADLEN="15" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000005" OUTPUTLEN="000005" DECIMALS="000000" ENTITYTAB="FMKRTP" MASK="  CHARE" MASKLEN="0000" DDTEXT="Commitment item criterion category" REPTEXT="Criterion cat." SCRTEXT_S="Crit. cat." SCRTEXT_M="Criterion cat." SCRTEXT_L="Criterion category" DOMMASTER="D" DOMNAME3L="FM_KRTYP" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="FPART" DDLANGUAGE="E" POSITION="0012" ROLLNAME="FM_FPART" ADMINFIELD="1" INTTYPE="C" INTLEN="000006" DOMNAME="FM_FPART" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="05" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000003" OUTPUTLEN="000003" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="Commitment Item Type" REPTEXT="CITyp" SCRTEXT_S="CITyp" SCRTEXT_M="Cmmt item type" SCRTEXT_L="Commitment Item Type" DOMNAME3L="FM_FPART" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="FIPUP" DDLANGUAGE="E" POSITION="0013" ROLLNAME="FIPEX_UP" ADMINFIELD="1" INTTYPE="C" INTLEN="000048" DOMNAME="FM_FIPEX" ROUTPUTLEN="000000" MEMORYID="FIP" LOGFLAG="X" HEADLEN="24" SCRLEN1="10" SCRLEN2="15" SCRLEN3="25" DTELMASTER="D" DATATYPE="CHAR" LENG="000024" OUTPUTLEN="000024" DECIMALS="000000" ENTITYTAB="FMCI" CONVEXIT="FMCIL" MASK="  CHARE" MASKLEN="0000" DDTEXT="Superior Commitment Item" REPTEXT="Superior Commt. Item" SCRTEXT_S="Cmmt item" SCRTEXT_M="Commitment item" SCRTEXT_L="Superior Commt. Item" DOMMASTER="D" DOMNAME3L="FM_FIPEX" SHLPORIGIN="D" SHLPNAME="FIPEX" SHLPFIELD="FIPEX" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="POSIT" DDLANGUAGE="E" POSITION="0014" ROLLNAME="FM_POSIT" ADMINFIELD="1" INTTYPE="C" INTLEN="000016" DOMNAME="FM_POSIT" ROUTPUTLEN="000000" HEADLEN="55" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000008" OUTPUTLEN="000008" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="Item (Internal Commitment Item Number)" REPTEXT="Item" SCRTEXT_S="Item" SCRTEXT_M="Item" SCRTEXT_L="Item" DOMMASTER="D" DOMNAME3L="FM_POSIT" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="FICTR" DDLANGUAGE="E" POSITION="0015" ROLLNAME="FM_DFICTR" ADMINFIELD="1" INTTYPE="C" INTLEN="000032" DOMNAME="FISTL" ROUTPUTLEN="000000" MEMORYID="FIS" LOGFLAG="X" HEADLEN="16" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000016" OUTPUTLEN="000016" DECIMALS="000000" ENTITYTAB="FMFCTR" MASK="  CHARE" MASKLEN="0000" DDTEXT="Funds Center (Default Value in a Commitment Item)" REPTEXT="Funds center" SCRTEXT_S="Funds ctr" SCRTEXT_M="Funds center" SCRTEXT_L="Proposal Funds Ctr." DOMNAME3L="FISTL" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="VPTYP" DDLANGUAGE="E" POSITION="0016" ROLLNAME="FM_VPTYP" ADMINFIELD="1" INTTYPE="C" INTLEN="000004" DOMNAME="FM_VPTYP" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="20" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000002" OUTPUTLEN="000002" DECIMALS="000000" ENTITYTAB="FMVORTR0" MASK="  CHARE" MASKLEN="0000" DDTEXT="Carryforward item category for commitment item" REPTEXT="Carryfwd item cat." SCRTEXT_S="CF itm cat" SCRTEXT_M="Car.fwd itm cat" SCRTEXT_L="Carryfwd item cat." DOMMASTER="D" DOMNAME3L="FM_VPTYP" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="SNTYP" DDLANGUAGE="E" POSITION="0017" ROLLNAME="FM_COLLTYP" ADMINFIELD="1" INTTYPE="C" INTLEN="000002" DOMNAME="FM_COLLTYP" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="03" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Collective budget adminstration category" REPTEXT="Cat" SCRTEXT_S="Category" SCRTEXT_M="CBA type" SCRTEXT_L="CBA type" DOMNAME3L="FM_COLLTYP" SHLPORIGIN="F" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="SNROL" DDLANGUAGE="E" POSITION="0018" ROLLNAME="FM_COLLROL" ADMINFIELD="1" INTTYPE="C" INTLEN="000002" DOMNAME="FM_COLLECT" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="05" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Use type in collective budget administration" REPTEXT="Role" SCRTEXT_S="Role" SCRTEXT_M="CBA role" SCRTEXT_L="CBA role" DOMNAME3L="FM_COLLECT" SHLPORIGIN="F" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="KRGRP" DDLANGUAGE="E" POSITION="0019" ROLLNAME="FM_KRGRP" ADMINFIELD="1" INTTYPE="C" INTLEN="000008" DOMNAME="FM_KRGRP" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="13" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" ENTITYTAB="FMKRG" MASK="  CHARE" MASKLEN="0000" DDTEXT="Criterion category group" REPTEXT="Crit. cat grp" SCRTEXT_S="Crt ct grp" SCRTEXT_M="Crit. cat. grp" SCRTEXT_L="Criterion cat. grp" DOMMASTER="D" DOMNAME3L="FM_KRGRP" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="STATS" DDLANGUAGE="E" POSITION="0020" ROLLNAME="FM_STATPOS" ADMINFIELD="1" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Statistical commitment item" REPTEXT="St.CI" SCRTEXT_S="Stat.CI" SCRTEXT_M="Stat.cmmt item" SCRTEXT_L="Stat.commitment item" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="NCBUD" DDLANGUAGE="E" POSITION="0021" ROLLNAME="FM_NCBUD" ADMINFIELD="1" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="10" SCRLEN1="10" SCRLEN2="15" SCRLEN3="35" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="No Budget for Future Years" REPTEXT="No Bdgt FY" SCRTEXT_S="No Bdgt FY" SCRTEXT_M="No Bdgt f. FY" SCRTEXT_L="No Budget for Future Years" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="AUGRP" DDLANGUAGE="E" POSITION="0022" ROLLNAME="FM_AUTHGRP" ADMINFIELD="1" INTTYPE="C" INTLEN="000020" DOMNAME="CHAR10" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="10" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000010" OUTPUTLEN="000010" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="Authorization Groups of the Commitment Item" REPTEXT="Auth.Grp" SCRTEXT_S="Auth.group" SCRTEXT_M="AuthorizGroup" SCRTEXT_L="Authorization group" DOMNAME3L="CHAR10" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="STVAR" DDLANGUAGE="E" POSITION="0023" ROLLNAME="FM_STVAR" ADMINFIELD="1" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" HEADLEN="07" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Standard variant" REPTEXT="StVarID" SCRTEXT_S="StVarID" SCRTEXT_M="Stand.variant" SCRTEXT_L="Standard variant" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="HSART" DDLANGUAGE="E" POSITION="0024" ROLLNAME="FM_HSART" ADMINFIELD="1" INTTYPE="C" INTLEN="000002" DOMNAME="FM_HSART" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" ENTITYTAB="FMHSART" MASK="  CHARE" MASKLEN="0000" DDTEXT="Commitment Item Type" REPTEXT="CI Ty." SCRTEXT_S="CI Type" SCRTEXT_M="Cmmt Item Type" SCRTEXT_L="Commitment Item Type" DOMNAME3L="FM_HSART" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="GKFLG" DDLANGUAGE="E" POSITION="0025" ROLLNAME="FM_GKFLG" ADMINFIELD="1" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Relevant to total costs" REPTEXT="TotCst" SCRTEXT_S="Ovl.costs" SCRTEXT_M="Total costs" SCRTEXT_L="Total Costs relevant" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="DRUCK" DDLANGUAGE="E" POSITION="0026" ROLLNAME="FM_DRUCK" ADMINFIELD="1" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Not relevant for budget print" REPTEXT="BPrint" SCRTEXT_S="No print" SCRTEXT_M="No budget print" SCRTEXT_L="No budget print" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="CFFLG" DDLANGUAGE="E" POSITION="0027" ROLLNAME="FM_CFFLG" ADMINFIELD="1" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Able to carry forward at fiscal year change" REPTEXT="C/fwd" SCRTEXT_S="CanbeCFrwd" SCRTEXT_M="CanBeCFrwd" SCRTEXT_L="Can be Carried frwrd" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="CVFLG" DDLANGUAGE="E" POSITION="0028" ROLLNAME="FM_CVFLG" ADMINFIELD="1" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="(Negative) clearing item" REPTEXT="ClgItm" SCRTEXT_S="Clrng item" SCRTEXT_M="Clearing item" SCRTEXT_L="Clearing item" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="NEGBUD" DDLANGUAGE="E" POSITION="0029" ROLLNAME="FM_NEG_BUDGET_FLG" ADMINFIELD="1" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Negative Budget Permitted" REPTEXT="NegBgt" SCRTEXT_S="NegBudget" SCRTEXT_M="Neg. Budget" SCRTEXT_L="Negative Budget" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="BEZIRK" DDLANGUAGE="E" POSITION="0030" ROLLNAME="FM_BEZIRK" ADMINFIELD="1" INTTYPE="C" INTLEN="000008" DOMNAME="CHAR4" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="District" REPTEXT="Distr." SCRTEXT_S="District" SCRTEXT_M="District" SCRTEXT_L="District" DOMNAME3L="CHAR4" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="BSAMT" DDLANGUAGE="E" POSITION="0031" ROLLNAME="FM_BSAMT" ADMINFIELD="1" INTTYPE="C" INTLEN="000032" DOMNAME="FISTL" ROUTPUTLEN="000000" MEMORYID="FIS" LOGFLAG="X" HEADLEN="07" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000016" OUTPUTLEN="000016" DECIMALS="000000" ENTITYTAB="FMFCTR" MASK="  CHARE" MASKLEN="0000" DDTEXT="Managed position / clearing lower section" REPTEXT="MngPos." SCRTEXT_S="Mngd Pos." SCRTEXT_M="MngPos/ClrLowSc" SCRTEXT_L="MngPos./Clr.low.sec." DOMNAME3L="FISTL" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="UBFLG" DDLANGUAGE="E" POSITION="0032" ROLLNAME="FM_UBFLG" ADMINFIELD="1" INTTYPE="C" INTLEN="000002" DOMNAME="CHAR1" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="Local authorities: Budget execution account" REPTEXT="BdExAc" SCRTEXT_S="BudExecAct" SCRTEXT_M="Bdgt exec. acct" SCRTEXT_L="Bdgt execution acct" DOMNAME3L="CHAR1" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="HSFLG" DDLANGUAGE="E" POSITION="0033" ROLLNAME="FM_HSFLG" ADMINFIELD="1" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Budget balancing concept" REPTEXT="BuBlCo" SCRTEXT_S="BudBalCon" SCRTEXT_M="Bdgt bal. con." SCRTEXT_L="Bdgt balanc. concept" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="NDAKZ" DDLANGUAGE="E" POSITION="0034" ROLLNAME="FM_NDAB" ADMINFIELD="1" INTTYPE="C" INTLEN="000002" DOMNAME="FM_NDAB" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="10" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="Indicator: NDA Budget" REPTEXT="NDA Budget" SCRTEXT_S="NDA Budget" SCRTEXT_M="NDA Budget" SCRTEXT_L="NDA Budget" DOMMASTER="D" DOMNAME3L="FM_NDAB" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="AZPKZ" DDLANGUAGE="E" POSITION="0035" ROLLNAME="FM_AZPB" ADMINFIELD="1" INTTYPE="C" INTLEN="000002" DOMNAME="FM_AZPB" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="20" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="Indicator: Accrued Budget" REPTEXT="Accrued Budget" SCRTEXT_S="Acr. Bdgt" SCRTEXT_M="Accrued Budget" SCRTEXT_L="Accrued Budget" DOMMASTER="D" DOMNAME3L="FM_AZPB" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="LOGSYSTEM" DDLANGUAGE="E" POSITION="0036" ROLLNAME="LOGSYSTEM" ADMINFIELD="1" INTTYPE="C" INTLEN="000020" DOMNAME="LOGSYS" ROUTPUTLEN="000000" HEADLEN="10" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000010" OUTPUTLEN="000010" DECIMALS="000000" ENTITYTAB="TBDLS" CONVEXIT="ALPHA" MASK="  CHARE" MASKLEN="0000" DDTEXT="Logical System" REPTEXT="Log.System" SCRTEXT_S="Log.System" SCRTEXT_M="Logical System" SCRTEXT_L="Logical System" DOMMASTER="D" DOMNAME3L="LOGSYS" DEPTH="01" COMPTYPE="E" DEFFDNAME="LOGSYSTEM" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="FIPOS" DDLANGUAGE="E" POSITION="0037" ROLLNAME="FIPOS" ADMINFIELD="1" INTTYPE="C" INTLEN="000028" DOMNAME="FIPOS" ROUTPUTLEN="000000" MEMORYID="FIP" LOGFLAG="X" HEADLEN="14" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000014" OUTPUTLEN="000024" DECIMALS="000000" ENTITYTAB="FMFXPO" CONVEXIT="FMCIS" MASK="  CHARE" MASKLEN="0000" DDTEXT="Commitment Item" REPTEXT="Commitment itm" SCRTEXT_S="Cmmt item" SCRTEXT_M="Commitment item" SCRTEXT_L="Commitment item" DOMNAME3L="FIPOS" DEPTH="01" COMPTYPE="E" DEFFDNAME="CMMT_ITEM" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="BUTYP" DDLANGUAGE="E" POSITION="0038" ROLLNAME="BUTYP" ADMINFIELD="1" INTTYPE="C" INTLEN="000008" DOMNAME="PM_BUTYP" ROUTPUTLEN="000000" MEMORYID="PBU" LOGFLAG="X" HEADLEN="19" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" ENTITYTAB="T7PM3" MASK="  CHARE" MASKLEN="0000" DDTEXT="Budget structure element type" REPTEXT="BS element type" SCRTEXT_S="BS el.type" SCRTEXT_M="BS el.type" SCRTEXT_L="BS element type" DOMNAME3L="PM_BUTYP" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="DATAB" DDLANGUAGE="E" POSITION="0039" ROLLNAME="FM_DATAB" ADMINFIELD="1" INTTYPE="D" INTLEN="000016" DOMNAME="DATUM" ROUTPUTLEN="000000" MEMORYID="FM_DATAB" LOGFLAG="X" HEADLEN="10" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="DATS" LENG="000008" OUTPUTLEN="000010" DECIMALS="000000" MASK="  DATSE" MASKLEN="0000" DDTEXT="FM: Valid from date" REPTEXT="From" SCRTEXT_S="From" SCRTEXT_M="Valid from" SCRTEXT_L="Valid from" DOMNAME3L="DATUM" SHLPORIGIN="T" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="DATBIS" DDLANGUAGE="E" POSITION="0040" ROLLNAME="FM_DATBIS" ADMINFIELD="1" INTTYPE="D" INTLEN="000016" DOMNAME="DATUM" ROUTPUTLEN="000000" MEMORYID="FM_DATBIS" LOGFLAG="X" HEADLEN="10" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="DATS" LENG="000008" OUTPUTLEN="000010" DECIMALS="000000" MASK="  DATSE" MASKLEN="0000" DDTEXT="FM: Valid to date" REPTEXT="to" SCRTEXT_S="to" SCRTEXT_M="Valid to" SCRTEXT_L="Valid to" DOMNAME3L="DATUM" SHLPORIGIN="T" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="DATE_EXP" DDLANGUAGE="E" POSITION="0041" ROLLNAME="FM_DATE_EXP" ADMINFIELD="1" INTTYPE="D" INTLEN="000016" DOMNAME="DATUM" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="04" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="DATS" LENG="000008" OUTPUTLEN="000010" DECIMALS="000000" MASK="  DATSE" MASKLEN="0000" DDTEXT="Expiration Date" REPTEXT="ExDt" SCRTEXT_S="Expir.date" SCRTEXT_M="Expiration Date" SCRTEXT_L="Expiration Date" DOMNAME3L="DATUM" SHLPORIGIN="T" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME=".INCLUDE" DDLANGUAGE="E" POSITION="0042" ADMINFIELD="1" INTLEN="000000" PRECFIELD="FMCI_EXT" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" LENG="000000" OUTPUTLEN="000000" DECIMALS="000000" MASK="      S" MASKLEN="0000" DDTEXT="Country-Specific Enhancement for Commitment Item" DEPTH="01" COMPTYPE="S" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="DUMMY_FMCIEXT" DDLANGUAGE="E" POSITION="0043" ROLLNAME="CHAR1" ADMINFIELD="2" INTTYPE="C" INTLEN="000002" DOMNAME="CHAR1" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="Single-Character Flag" DOMNAME3L="CHAR1" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME=".INCLU--AP" DDLANGUAGE="E" POSITION="0044" ADMINFIELD="2" INTLEN="000000" PRECFIELD="AGENFM_FMCI" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" LENG="000000" OUTPUTLEN="000000" DECIMALS="000000" MASK="      S" MASKLEN="0000" DDTEXT="Append for Extension Screen" DEPTH="01" COMPTYPE="S" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME=".INCLUDE" DDLANGUAGE="E" POSITION="0045" ADMINFIELD="3" INTLEN="000000" PRECFIELD="GENFM_S_FMCI" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" LENG="000000" OUTPUTLEN="000000" DECIMALS="000000" MASK="      S" MASKLEN="0000" DDTEXT="Structure for Extension Screen" DEPTH="01" COMPTYPE="S" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="CLASSIFICATION" DDLANGUAGE="E" POSITION="0046" ROLLNAME="GENFM_CI_CLASSIFICATION" ADMINFIELD="4" INTTYPE="C" INTLEN="000004" DOMNAME="GENFM_CI_CLASSIFICATION" ROUTPUTLEN="000000" HEADLEN="20" SCRLEN1="05" SCRLEN2="10" SCRLEN3="15" DTELMASTER="E" DATATYPE="CHAR" LENG="000002" OUTPUTLEN="000002" DECIMALS="000000" ENTITYTAB="GENFM_CI_CLASS" MASK="  CHARE" MASKLEN="0000" DDTEXT="Commitment Item Classification" REPTEXT="CI Classification" SCRTEXT_S="Class" SCRTEXT_M="CI Class" SCRTEXT_L="CI Classificat" DOMNAME3L="GENFM_CI_CLASSIFICATION" SHLPORIGIN="D" SHLPNAME="GENFM_ELM_CI_CLASSIFICATION" SHLPFIELD="CLASSIFICATION" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="BUDGET_RULE" DDLANGUAGE="E" POSITION="0047" ROLLNAME="GENFM_CI_BUDGET_RULE" ADMINFIELD="4" INTTYPE="C" INTLEN="000004" DOMNAME="GENFM_CI_BUDGET_RULE" ROUTPUTLEN="000000" HEADLEN="20" SCRLEN1="05" SCRLEN2="10" SCRLEN3="15" DTELMASTER="E" DATATYPE="CHAR" LENG="000002" OUTPUTLEN="000002" DECIMALS="000000" ENTITYTAB="GENFMC_CI_BRULE" MASK="  CHARE" MASKLEN="0000" DDTEXT="Commitment Item Budget Rule" REPTEXT="CI Budget Rule" SCRTEXT_S="BudRl" SCRTEXT_M="CI BudRule" SCRTEXT_L="CI Budget Rule" DOMNAME3L="GENFM_CI_BUDGET_RULE" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="ALT_FIPEX" DDLANGUAGE="E" POSITION="0048" ROLLNAME="GENFM_ALT_FIPEX" ADMINFIELD="4" INTTYPE="C" INTLEN="000048" DOMNAME="FM_FIPEX" ROUTPUTLEN="000000" MEMORYID="FPS" LOGFLAG="X" HEADLEN="24" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="E" DATATYPE="CHAR" LENG="000024" OUTPUTLEN="000024" DECIMALS="000000" ENTITYTAB="FMCI" CONVEXIT="FMCIL" MASK="  CHARE" MASKLEN="0000" DDTEXT="Alternative Commitment Item" REPTEXT="Alter. Commitment Item" SCRTEXT_S="Alt Cmmit" SCRTEXT_M="Alt.Comit.Item" SCRTEXT_L="Alt.Commitment Item" DOMMASTER="D" DOMNAME3L="FM_FIPEX" DEPTH="01" COMPTYPE="E" DEFFDNAME="CMMT_ITEM" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME=".INCLUDE" POSITION="0049" ADMINFIELD="1" INTLEN="000000" PRECFIELD="CI_FMCI" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" LENG="000000" OUTPUTLEN="000000" DECIMALS="000000" MASK="      N" MASKLEN="0000" DEPTH="01" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME=".INCLUDE" DDLANGUAGE="E" POSITION="0050" ADMINFIELD="1" INTLEN="000000" PRECFIELD="FIPEX_STRUC" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" LENG="000000" OUTPUTLEN="000000" DECIMALS="000000" MASK="      S" MASKLEN="0000" DDTEXT="Subfields Commitment Item" DEPTH="01" COMPTYPE="S" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="DUMMY_FSTR" DDLANGUAGE="E" POSITION="0051" ROLLNAME="CHAR1" ADMINFIELD="2" INTTYPE="C" INTLEN="000002" DOMNAME="CHAR1" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="Single-Character Flag" DOMNAME3L="CHAR1" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME=".INCLUDE" DDLANGUAGE="E" POSITION="0052" ADMINFIELD="2" INTLEN="000000" PRECFIELD="SI_FIPEX_STRUC" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" LENG="000000" OUTPUTLEN="000000" DECIMALS="000000" MASK="      S" MASKLEN="0000" DDTEXT="Structure of Substrings of Commitment Item" DEPTH="01" COMPTYPE="S" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="STR_ID" DDLANGUAGE="E" POSITION="0053" ROLLNAME="FM_STR_ID" ADMINFIELD="3" INTTYPE="C" INTLEN="000020" DOMNAME="CHAR10" ROUTPUTLEN="000000" MEMORYID="FMS" HEADLEN="50" SCRLEN1="20" SCRLEN2="20" SCRLEN3="50" DTELMASTER="E" DATATYPE="CHAR" LENG="000010" OUTPUTLEN="000010" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="Master Data Subdivision ID" REPTEXT="Master Data Subdivision ID" SCRTEXT_S="Subdiv. ID" SCRTEXT_M="Subdivision ID" SCRTEXT_L="Master Data Subdivision ID" DOMNAME3L="CHAR10" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="CISUB1" DDLANGUAGE="E" POSITION="0054" ROLLNAME="FM_CISUB1" ADMINFIELD="3" INTTYPE="C" INTLEN="000020" DOMNAME="CHAR10" ROUTPUTLEN="000000" HEADLEN="50" SCRLEN1="20" SCRLEN2="20" SCRLEN3="50" DTELMASTER="E" DATATYPE="CHAR" LENG="000010" OUTPUTLEN="000010" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="Substring 1 of Commitment Item" REPTEXT="Commitment Item Substring 1" SCRTEXT_S="CI Sub 1" SCRTEXT_M="CI Substring 1" SCRTEXT_L="Commitment Item Substring 1" DOMNAME3L="CHAR10" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="CISUB2" DDLANGUAGE="E" POSITION="0055" ROLLNAME="FM_CISUB2" ADMINFIELD="3" INTTYPE="C" INTLEN="000020" DOMNAME="CHAR10" ROUTPUTLEN="000000" HEADLEN="50" SCRLEN1="20" SCRLEN2="20" SCRLEN3="50" DTELMASTER="E" DATATYPE="CHAR" LENG="000010" OUTPUTLEN="000010" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="Substring 2 of Commitment Item" REPTEXT="Commitment Item Substring 2" SCRTEXT_S="CI Sub 2" SCRTEXT_M="CI Substring 2" SCRTEXT_L="Commitment Item Substring 2" DOMNAME3L="CHAR10" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="CISUB3" DDLANGUAGE="E" POSITION="0056" ROLLNAME="FM_CISUB3" ADMINFIELD="3" INTTYPE="C" INTLEN="000020" DOMNAME="CHAR10" ROUTPUTLEN="000000" HEADLEN="50" SCRLEN1="20" SCRLEN2="20" SCRLEN3="50" DTELMASTER="E" DATATYPE="CHAR" LENG="000010" OUTPUTLEN="000010" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="Substring 3 of Commitment Item" REPTEXT="Commitment Item Substring 3" SCRTEXT_S="CI Sub 3" SCRTEXT_M="CI Substring 3" SCRTEXT_L="Commitment Item Substring 3" DOMNAME3L="CHAR10" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="CISUB4" DDLANGUAGE="E" POSITION="0057" ROLLNAME="FM_CISUB4" ADMINFIELD="3" INTTYPE="C" INTLEN="000020" DOMNAME="CHAR10" ROUTPUTLEN="000000" HEADLEN="50" SCRLEN1="20" SCRLEN2="20" SCRLEN3="50" DTELMASTER="E" DATATYPE="CHAR" LENG="000010" OUTPUTLEN="000010" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="Substring 4 of Commitment Item" REPTEXT="Commitment Item Substring 4" SCRTEXT_S="CI Sub 4" SCRTEXT_M="CI Substring 4" SCRTEXT_L="Commitment Item Substring 4" DOMNAME3L="CHAR10" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="CISUB5" DDLANGUAGE="E" POSITION="0058" ROLLNAME="FM_CISUB5" ADMINFIELD="3" INTTYPE="C" INTLEN="000020" DOMNAME="CHAR10" ROUTPUTLEN="000000" HEADLEN="50" SCRLEN1="20" SCRLEN2="20" SCRLEN3="50" DTELMASTER="E" DATATYPE="CHAR" LENG="000010" OUTPUTLEN="000010" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="Substring 5 of Commitment Item" REPTEXT="Commitment Item Substring 5" SCRTEXT_S="CI Sub 5" SCRTEXT_M="CI Substring 5" SCRTEXT_L="Commitment Item Substring 5" DOMNAME3L="CHAR10" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="FMCIT" DDLANGUAGE="E" POSITION="0059" ROLLNAME="FMCIT" ADMINFIELD="0" INTLEN="000000" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" DATATYPE="STRU" LENG="000000" OUTPUTLEN="000000" DECIMALS="000000" MASK="  STRUS" MASKLEN="0000" DDTEXT="Commitment items texts" DEPTH="00" COMPTYPE="S" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="MANDT" DDLANGUAGE="E" POSITION="0060" ROLLNAME="MANDT" ADMINFIELD="0" INTTYPE="C" INTLEN="000006" DOMNAME="MANDT" ROUTPUTLEN="000000" HEADLEN="03" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CLNT" LENG="000003" OUTPUTLEN="000003" DECIMALS="000000" ENTITYTAB="T000" MASK="  CLNTE" MASKLEN="0000" DDTEXT="Client" REPTEXT="Cl." SCRTEXT_S="Client" SCRTEXT_M="Client" SCRTEXT_L="Client" DOMNAME3L="MANDT" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="SPRAS" DDLANGUAGE="E" POSITION="0061" ROLLNAME="SPRAS" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="SPRAS" ROUTPUTLEN="000000" MEMORYID="SPR" LOGFLAG="X" HEADLEN="10" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="LANG" LENG="000001" OUTPUTLEN="000002" DECIMALS="000000" LOWERCASE="X" ENTITYTAB="T002" CONVEXIT="ISOLA" MASK="  LANGE" MASKLEN="0000" DDTEXT="Language Key" REPTEXT="Language" SCRTEXT_S="Language" SCRTEXT_M="Language" SCRTEXT_L="Language Key" DOMNAME3L="SPRAS" SHLPORIGIN="D" SHLPNAME="H_T002" SHLPFIELD="SPRAS" DEPTH="01" COMPTYPE="E" DEFFDNAME="LANGU" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="FIKRS" DDLANGUAGE="E" POSITION="0062" ROLLNAME="FIKRS" ADMINFIELD="0" INTTYPE="C" INTLEN="000008" DOMNAME="FIKRS" ROUTPUTLEN="000000" MEMORYID="FIK" LOGFLAG="X" HEADLEN="04" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" ENTITYTAB="FM01" MASK="  CHARE" MASKLEN="0000" DDTEXT="Financial Management Area" REPTEXT="FMA" SCRTEXT_S="FM area" SCRTEXT_M="FM Area" SCRTEXT_L="FM Area" DOMNAME3L="FIKRS" DEPTH="01" COMPTYPE="E" DEFFDNAME="FM_AREA" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="GJAHR" DDLANGUAGE="E" POSITION="0063" ROLLNAME="GJAHR" ADMINFIELD="0" INTTYPE="N" INTLEN="000008" DOMNAME="GJAHR" ROUTPUTLEN="000000" MEMORYID="GJR" LOGFLAG="X" HEADLEN="04" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="NUMC" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" CONVEXIT="GJAHR" MASK="  NUMCE" MASKLEN="0000" DDTEXT="Fiscal Year" REPTEXT="Year" SCRTEXT_S="Fiscal Yr" SCRTEXT_M="Fiscal Year" SCRTEXT_L="Fiscal Year" DOMNAME3L="GJAHR" DEPTH="01" COMPTYPE="E" DEFFDNAME="FISC_YEAR" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="FIPEX" DDLANGUAGE="E" POSITION="0064" ROLLNAME="FM_FIPEX" ADMINFIELD="0" INTTYPE="C" INTLEN="000048" DOMNAME="FM_FIPEX" ROUTPUTLEN="000000" MEMORYID="FPS" LOGFLAG="X" HEADLEN="24" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000024" OUTPUTLEN="000024" DECIMALS="000000" ENTITYTAB="FMCI" CONVEXIT="FMCIL" MASK="  CHARE" MASKLEN="0000" DDTEXT="Commitment item" REPTEXT="Commitment item" SCRTEXT_S="Cmmt item" SCRTEXT_M="Commitment item" SCRTEXT_L="Commitment item" DOMMASTER="D" DOMNAME3L="FM_FIPEX" DEPTH="01" COMPTYPE="E" DEFFDNAME="CMMT_ITEM" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME=".INCLUDE" DDLANGUAGE="E" POSITION="0065" ADMINFIELD="0" INTLEN="000000" PRECFIELD="IFMCIT" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" LENG="000000" OUTPUTLEN="000000" DECIMALS="000000" MASK="      S" MASKLEN="0000" DDTEXT="Structure of Commitment Item Texts" DEPTH="01" COMPTYPE="S" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="BEZEI" DDLANGUAGE="E" POSITION="0066" ROLLNAME="FM_BEZEICH" ADMINFIELD="1" INTTYPE="C" INTLEN="000040" DOMNAME="TEXT20" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="20" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000020" OUTPUTLEN="000020" DECIMALS="000000" LOWERCASE="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Name" REPTEXT="Name" SCRTEXT_S="Name" SCRTEXT_M="Name" SCRTEXT_L="Name" DOMNAME3L="TEXT20" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="TEXT1" DDLANGUAGE="E" POSITION="0067" ROLLNAME="FM_BESCHR0" ADMINFIELD="1" INTTYPE="C" INTLEN="000100" DOMNAME="TEXT50" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000050" OUTPUTLEN="000050" DECIMALS="000000" LOWERCASE="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Description" REPTEXT="Desc." SCRTEXT_S="Descrptn" SCRTEXT_M="Description" SCRTEXT_L="Description" DOMNAME3L="TEXT50" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="TEXT2" DDLANGUAGE="E" POSITION="0068" ROLLNAME="FM_BESCHR2" ADMINFIELD="1" INTTYPE="C" INTLEN="000100" DOMNAME="TEXT50" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000050" OUTPUTLEN="000050" DECIMALS="000000" LOWERCASE="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Description 2" REPTEXT="Descr2" SCRTEXT_S="Descr. 2" SCRTEXT_M="Description 2" SCRTEXT_L="Description 2" DOMNAME3L="TEXT50" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="TEXT3" DDLANGUAGE="E" POSITION="0069" ROLLNAME="FM_BESCHR3" ADMINFIELD="1" INTTYPE="C" INTLEN="000100" DOMNAME="TEXT50" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000050" OUTPUTLEN="000050" DECIMALS="000000" LOWERCASE="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Description 3" REPTEXT="Desc.3" SCRTEXT_S="Descr. 3" SCRTEXT_M="Description 3" SCRTEXT_L="Description 3" DOMNAME3L="TEXT50" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="MCTXT" DDLANGUAGE="E" POSITION="0070" ROLLNAME="FM_MCTXT" ADMINFIELD="1" INTTYPE="C" INTLEN="000040" DOMNAME="CHAR20" ROUTPUTLEN="000000" HEADLEN="11" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000020" OUTPUTLEN="000020" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="Search Term for Matchcode Search" REPTEXT="Name" SCRTEXT_S="Name" SCRTEXT_M="Name" SCRTEXT_L="Name" DOMNAME3L="CHAR20" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME=".INCLUDE" DDLANGUAGE="E" POSITION="0071" ADMINFIELD="1" INTLEN="000000" PRECFIELD="FMCIT_EXT" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" LENG="000000" OUTPUTLEN="000000" DECIMALS="000000" MASK="      S" MASKLEN="0000" DDTEXT="Country-Specific Enhancement for Cmmt Item - Description" DEPTH="01" COMPTYPE="S" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="DUMMY_FMCITEXT" DDLANGUAGE="E" POSITION="0072" ROLLNAME="CHAR1" ADMINFIELD="2" INTTYPE="C" INTLEN="000002" DOMNAME="CHAR1" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="Single-Character Flag" DOMNAME3L="CHAR1" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME=".INCLU--AP" DDLANGUAGE="E" POSITION="0073" ADMINFIELD="2" INTLEN="000000" PRECFIELD="ASAFM_FMCIT" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" LENG="000000" OUTPUTLEN="000000" DECIMALS="000000" MASK="      S" MASKLEN="0000" DDTEXT="Localization Extension" DEPTH="01" COMPTYPE="S" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME=".INCLUDE" DDLANGUAGE="E" POSITION="0074" ADMINFIELD="3" INTLEN="000000" PRECFIELD="SAFM_S_FMCIT" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" LENG="000000" OUTPUTLEN="000000" DECIMALS="000000" MASK="      S" MASKLEN="0000" DDTEXT="Localization extension" DEPTH="01" COMPTYPE="S" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="ORIGINAL_DESC" DDLANGUAGE="E" POSITION="0075" ROLLNAME="SAFM_ORGDESC" ADMINFIELD="4" INTTYPE="C" INTLEN="000300" DOMNAME="SAFM_ORGDESC" ROUTPUTLEN="000000" HEADLEN="20" SCRLEN1="05" SCRLEN2="10" SCRLEN3="20" DTELMASTER="E" DATATYPE="CHAR" LENG="000150" OUTPUTLEN="000150" DECIMALS="000000" LOWERCASE="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Original Description" REPTEXT="Original Description" SCRTEXT_S="OrgDc" SCRTEXT_M="OrgDescr" SCRTEXT_L="Original Description" DOMNAME3L="SAFM_ORGDESC" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="ALTERNATIVE_DESC" DDLANGUAGE="E" POSITION="0076" ROLLNAME="SAFM_ALTDESC" ADMINFIELD="4" INTTYPE="C" INTLEN="000200" DOMNAME="SAFM_ALTDESC" ROUTPUTLEN="000000" HEADLEN="25" SCRLEN1="05" SCRLEN2="10" SCRLEN3="20" DTELMASTER="E" DATATYPE="CHAR" LENG="000100" OUTPUTLEN="000100" DECIMALS="000000" LOWERCASE="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Alternative Description" REPTEXT="Alternative Description" SCRTEXT_S="AltDc" SCRTEXT_M="AltDescr" SCRTEXT_L="Alternative Descr." DOMNAME3L="SAFM_ALTDESC" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="FMHICI" DDLANGUAGE="E" POSITION="0077" ROLLNAME="FMHICI" ADMINFIELD="0" INTLEN="000000" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" DATATYPE="STRU" LENG="000000" OUTPUTLEN="000000" DECIMALS="000000" MASK="  STRUS" MASKLEN="0000" DDTEXT="Commitment items hierarchy" DEPTH="00" COMPTYPE="S" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="MANDT" DDLANGUAGE="E" POSITION="0078" ROLLNAME="MANDT" ADMINFIELD="0" INTTYPE="C" INTLEN="000006" DOMNAME="MANDT" ROUTPUTLEN="000000" HEADLEN="03" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CLNT" LENG="000003" OUTPUTLEN="000003" DECIMALS="000000" ENTITYTAB="T000" MASK="  CLNTE" MASKLEN="0000" DDTEXT="Client" REPTEXT="Cl." SCRTEXT_S="Client" SCRTEXT_M="Client" SCRTEXT_L="Client" DOMNAME3L="MANDT" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="FIKRS" DDLANGUAGE="E" POSITION="0079" ROLLNAME="FIKRS" ADMINFIELD="0" INTTYPE="C" INTLEN="000008" DOMNAME="FIKRS" ROUTPUTLEN="000000" MEMORYID="FIK" LOGFLAG="X" HEADLEN="04" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" ENTITYTAB="FM01" MASK="  CHARE" MASKLEN="0000" DDTEXT="Financial Management Area" REPTEXT="FMA" SCRTEXT_S="FM area" SCRTEXT_M="FM Area" SCRTEXT_L="FM Area" DOMNAME3L="FIKRS" DEPTH="01" COMPTYPE="E" DEFFDNAME="FM_AREA" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="GJAHR" DDLANGUAGE="E" POSITION="0080" ROLLNAME="GJAHR" ADMINFIELD="0" INTTYPE="N" INTLEN="000008" DOMNAME="GJAHR" ROUTPUTLEN="000000" MEMORYID="GJR" LOGFLAG="X" HEADLEN="04" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="NUMC" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" CONVEXIT="GJAHR" MASK="  NUMCE" MASKLEN="0000" DDTEXT="Fiscal Year" REPTEXT="Year" SCRTEXT_S="Fiscal Yr" SCRTEXT_M="Fiscal Year" SCRTEXT_L="Fiscal Year" DOMNAME3L="GJAHR" DEPTH="01" COMPTYPE="E" DEFFDNAME="FISC_YEAR" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="VARNT" DDLANGUAGE="E" POSITION="0081" ROLLNAME="FM_VARNT" ADMINFIELD="0" INTTYPE="C" INTLEN="000006" DOMNAME="FM_VARNT" ROUTPUTLEN="000000" MEMORYID="FVT" HEADLEN="04" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000003" OUTPUTLEN="000003" DECIMALS="000000" ENTITYTAB="FMCIVARNT" MASK="  CHARE" MASKLEN="0000" DDTEXT="Commitment Item Hierarchy Variant" REPTEXT="Var." SCRTEXT_S="Variant" SCRTEXT_M="Variant" SCRTEXT_L="Variant" DOMNAME3L="FM_VARNT" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="FIPEX" DDLANGUAGE="E" POSITION="0082" ROLLNAME="FM_FIPEX" ADMINFIELD="0" INTTYPE="C" INTLEN="000048" DOMNAME="FM_FIPEX" ROUTPUTLEN="000000" MEMORYID="FPS" LOGFLAG="X" HEADLEN="24" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000024" OUTPUTLEN="000024" DECIMALS="000000" ENTITYTAB="FMCI" CONVEXIT="FMCIL" MASK="  CHARE" MASKLEN="0000" DDTEXT="Commitment item" REPTEXT="Commitment item" SCRTEXT_S="Cmmt item" SCRTEXT_M="Commitment item" SCRTEXT_L="Commitment item" DOMMASTER="D" DOMNAME3L="FM_FIPEX" DEPTH="01" COMPTYPE="E" DEFFDNAME="CMMT_ITEM" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="HIROOT_FIP" DDLANGUAGE="E" POSITION="0083" ROLLNAME="FM_FIPEX_T" ADMINFIELD="0" INTTYPE="C" INTLEN="000048" DOMNAME="FM_FIPEX" ROUTPUTLEN="000000" MEMORYID="FPS" LOGFLAG="X" HEADLEN="24" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000024" OUTPUTLEN="000024" DECIMALS="000000" ENTITYTAB="FMCI" CONVEXIT="FMCIL" MASK="  CHARE" MASKLEN="0000" DDTEXT="Highest Commitment Item in Subtree" REPTEXT="Highest Cmmt Item" SCRTEXT_S="Ht Cmmt Im" SCRTEXT_M="Hst Cmmt Item" SCRTEXT_L="Highest Cmmt Item" DOMMASTER="D" DOMNAME3L="FM_FIPEX" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="PARENT_FIP" DDLANGUAGE="E" POSITION="0084" ROLLNAME="FM_FIPEX_P" ADMINFIELD="0" INTTYPE="C" INTLEN="000048" DOMNAME="FM_FIPEX" ROUTPUTLEN="000000" MEMORYID="FPS" LOGFLAG="X" HEADLEN="24" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000024" OUTPUTLEN="000024" DECIMALS="000000" ENTITYTAB="FMCI" CONVEXIT="FMCIL" MASK="  CHARE" MASKLEN="0000" DDTEXT="Superior Commitment Item" REPTEXT="Superior Cmmt Item" SCRTEXT_S="Sup.Cmt Im" SCRTEXT_M="Sup. Cmmt Item" SCRTEXT_L="Superior Cmmt Item" DOMMASTER="D" DOMNAME3L="FM_FIPEX" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="NEXT_FIP" DDLANGUAGE="E" POSITION="0085" ROLLNAME="FM_FIPEX_N" ADMINFIELD="0" INTTYPE="C" INTLEN="000048" DOMNAME="FM_FIPEX" ROUTPUTLEN="000000" MEMORYID="FPS" LOGFLAG="X" HEADLEN="24" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000024" OUTPUTLEN="000024" DECIMALS="000000" ENTITYTAB="FMCI" CONVEXIT="FMCIL" MASK="  CHARE" MASKLEN="0000" DDTEXT="Next Commitment Item on Same Hierarchy" REPTEXT="Next Cmmt Item" SCRTEXT_S="Nxt Cmt Im" SCRTEXT_M="Next Cmmt Item" SCRTEXT_L="Next Cmmt Item" DOMMASTER="D" DOMNAME3L="FM_FIPEX" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="CHILD_FIP" DDLANGUAGE="E" POSITION="0086" ROLLNAME="FM_FIPEX_C" ADMINFIELD="0" INTTYPE="C" INTLEN="000048" DOMNAME="FM_FIPEX" ROUTPUTLEN="000000" MEMORYID="FPS" LOGFLAG="X" HEADLEN="24" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000024" OUTPUTLEN="000024" DECIMALS="000000" ENTITYTAB="FMCI" CONVEXIT="FMCIL" MASK="  CHARE" MASKLEN="0000" DDTEXT="Subordinate Cmmt Item" REPTEXT="Subordinate Cmmt Item" SCRTEXT_S="Sub. CI" SCRTEXT_M="Sub. Cmmt Item" SCRTEXT_L="Subordinate Cmmt Itm" DOMMASTER="D" DOMNAME3L="FM_FIPEX" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="HILEVEL" DDLANGUAGE="E" POSITION="0087" ROLLNAME="FM_HILEVEL" ADMINFIELD="0" INTTYPE="N" INTLEN="000008" DOMNAME="FM_HILEVEL" ROUTPUTLEN="000000" HEADLEN="04" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="NUMC" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" MASK="  NUMCE" MASKLEN="0000" DDTEXT="FIFM: Level within a hierarchy" REPTEXT="HLvl" SCRTEXT_S="Level" SCRTEXT_M="Hierarchy level" SCRTEXT_L="Hierarchy level" DOMNAME3L="FM_HILEVEL" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="ERFNAME" DDLANGUAGE="E" POSITION="0088" ROLLNAME="FM_ERFNAME" ADMINFIELD="0" INTTYPE="C" INTLEN="000024" DOMNAME="USNAM" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="12" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000012" OUTPUTLEN="000012" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="FIFM: Created by" REPTEXT="Created by" SCRTEXT_S="by" SCRTEXT_M="Created by" SCRTEXT_L="Created by" DOMNAME3L="USNAM" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="ERFDAT" DDLANGUAGE="E" POSITION="0089" ROLLNAME="FM_ERFDAT" ADMINFIELD="0" INTTYPE="D" INTLEN="000016" DOMNAME="DATUM" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="10" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="DATS" LENG="000008" OUTPUTLEN="000010" DECIMALS="000000" MASK="  DATSE" MASKLEN="0000" DDTEXT="FIFM: Entry Date" REPTEXT="Entry date" SCRTEXT_S="on" SCRTEXT_M="Entered on" SCRTEXT_L="Entered on" DOMNAME3L="DATUM" SHLPORIGIN="T" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="AENNAME" DDLANGUAGE="E" POSITION="0090" ROLLNAME="FM_AENNAME" ADMINFIELD="0" INTTYPE="C" INTLEN="000024" DOMNAME="USNAM" ROUTPUTLEN="000000" HEADLEN="12" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000012" OUTPUTLEN="000012" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="FIFM: Name of Last Person to Make a Change" REPTEXT="Changed by" SCRTEXT_S="Changed by" SCRTEXT_M="Changed by" SCRTEXT_L="Changed by" DOMNAME3L="USNAM" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="AENDAT" DDLANGUAGE="E" POSITION="0091" ROLLNAME="FM_AENDAT" ADMINFIELD="0" INTTYPE="D" INTLEN="000016" DOMNAME="DATUM" ROUTPUTLEN="000000" HEADLEN="10" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="DATS" LENG="000008" OUTPUTLEN="000010" DECIMALS="000000" MASK="  DATSE" MASKLEN="0000" DDTEXT="FIFM: Changed on" REPTEXT="Chng. date" SCRTEXT_S="Chng. date" SCRTEXT_M="Changed on" SCRTEXT_L="Changed on" DOMNAME3L="DATUM" SHLPORIGIN="T" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="STVAR" DDLANGUAGE="E" POSITION="0092" ROLLNAME="FM_STVAR" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" HEADLEN="07" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Standard variant" REPTEXT="StVarID" SCRTEXT_S="StVarID" SCRTEXT_M="Stand.variant" SCRTEXT_L="Standard variant" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="FMZUBSP" DDLANGUAGE="E" POSITION="0093" ROLLNAME="FMZUBSP" ADMINFIELD="0" INTLEN="000000" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" DATATYPE="STRU" LENG="000000" OUTPUTLEN="000000" DECIMALS="000000" MASK="  STRUS" MASKLEN="0000" DDTEXT="Assign Budget Structure Elements" DEPTH="00" COMPTYPE="S" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="MANDT" DDLANGUAGE="E" POSITION="0094" ROLLNAME="MANDT" ADMINFIELD="0" INTTYPE="C" INTLEN="000006" DOMNAME="MANDT" ROUTPUTLEN="000000" HEADLEN="03" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CLNT" LENG="000003" OUTPUTLEN="000003" DECIMALS="000000" ENTITYTAB="T000" MASK="  CLNTE" MASKLEN="0000" DDTEXT="Client" REPTEXT="Cl." SCRTEXT_S="Client" SCRTEXT_M="Client" SCRTEXT_L="Client" DOMNAME3L="MANDT" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="FIKRS" DDLANGUAGE="E" POSITION="0095" ROLLNAME="FIKRS" ADMINFIELD="0" INTTYPE="C" INTLEN="000008" DOMNAME="FIKRS" ROUTPUTLEN="000000" MEMORYID="FIK" LOGFLAG="X" HEADLEN="04" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" ENTITYTAB="FM01" MASK="  CHARE" MASKLEN="0000" DDTEXT="Financial Management Area" REPTEXT="FMA" SCRTEXT_S="FM area" SCRTEXT_M="FM Area" SCRTEXT_L="FM Area" DOMNAME3L="FIKRS" DEPTH="01" COMPTYPE="E" DEFFDNAME="FM_AREA" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="VARNT" DDLANGUAGE="E" POSITION="0096" ROLLNAME="FM_VARNT" ADMINFIELD="0" INTTYPE="C" INTLEN="000006" DOMNAME="FM_VARNT" ROUTPUTLEN="000000" MEMORYID="FVT" HEADLEN="04" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000003" OUTPUTLEN="000003" DECIMALS="000000" ENTITYTAB="FMCIVARNT" MASK="  CHARE" MASKLEN="0000" DDTEXT="Commitment Item Hierarchy Variant" REPTEXT="Var." SCRTEXT_S="Variant" SCRTEXT_M="Variant" SCRTEXT_L="Variant" DOMNAME3L="FM_VARNT" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="GJAHR" DDLANGUAGE="E" POSITION="0097" ROLLNAME="GJAHR" ADMINFIELD="0" INTTYPE="N" INTLEN="000008" DOMNAME="GJAHR" ROUTPUTLEN="000000" MEMORYID="GJR" LOGFLAG="X" HEADLEN="04" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="NUMC" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" CONVEXIT="GJAHR" MASK="  NUMCE" MASKLEN="0000" DDTEXT="Fiscal Year" REPTEXT="Year" SCRTEXT_S="Fiscal Yr" SCRTEXT_M="Fiscal Year" SCRTEXT_L="Fiscal Year" DOMNAME3L="GJAHR" DEPTH="01" COMPTYPE="E" DEFFDNAME="FISC_YEAR" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="SFIPEX" DDLANGUAGE="E" POSITION="0098" ROLLNAME="FM_FIPEX" ADMINFIELD="0" INTTYPE="C" INTLEN="000048" DOMNAME="FM_FIPEX" ROUTPUTLEN="000000" MEMORYID="FPS" LOGFLAG="X" HEADLEN="24" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000024" OUTPUTLEN="000024" DECIMALS="000000" ENTITYTAB="FMCI" CONVEXIT="FMCIL" MASK="  CHARE" MASKLEN="0000" DDTEXT="Commitment item" REPTEXT="Commitment item" SCRTEXT_S="Cmmt item" SCRTEXT_M="Commitment item" SCRTEXT_L="Commitment item" DOMMASTER="D" DOMNAME3L="FM_FIPEX" DEPTH="01" COMPTYPE="E" DEFFDNAME="CMMT_ITEM" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="SFICTR" DDLANGUAGE="E" POSITION="0099" ROLLNAME="FM_FICTR" ADMINFIELD="0" INTTYPE="C" INTLEN="000032" DOMNAME="FISTL" ROUTPUTLEN="000000" MEMORYID="FIS" LOGFLAG="X" HEADLEN="12" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000016" OUTPUTLEN="000016" DECIMALS="000000" ENTITYTAB="FMFCTR" MASK="  CHARE" MASKLEN="0000" DDTEXT="Funds Center" REPTEXT="Funds Center" SCRTEXT_S="Funds Ctr" SCRTEXT_M="Funds Center" SCRTEXT_L="Funds Center" DOMNAME3L="FISTL" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="SFONDS" DDLANGUAGE="E" POSITION="0100" ROLLNAME="BP_GEBER" ADMINFIELD="0" INTTYPE="C" INTLEN="000020" DOMNAME="BP_GEBER" ROUTPUTLEN="000000" MEMORYID="FIC" LOGFLAG="X" HEADLEN="10" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000010" OUTPUTLEN="000010" DECIMALS="000000" ENTITYTAB="FMFINCODE" MASK="  CHARE" MASKLEN="0000" DDTEXT="Fund" REPTEXT="Fund" SCRTEXT_S="Fund" SCRTEXT_M="Fund" SCRTEXT_L="Fund" DOMNAME3L="BP_GEBER" DEPTH="01" COMPTYPE="E" DEFFDNAME="FUND" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME=".INCLUDE" DDLANGUAGE="E" POSITION="0101" ADMINFIELD="0" INTLEN="000000" PRECFIELD="IFMZUBSPDAT" ROUTPUTLEN="000000" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" LENG="000000" OUTPUTLEN="000000" DECIMALS="000000" MASK="      S" MASKLEN="0000" DDTEXT="Data for Net Voting Assignment" DEPTH="01" COMPTYPE="S" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="EFICTR" DDLANGUAGE="E" POSITION="0102" ROLLNAME="FM_SDFICTR" ADMINFIELD="1" INTTYPE="C" INTLEN="000032" DOMNAME="FISTL" ROUTPUTLEN="000000" MEMORYID="FIS" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000016" OUTPUTLEN="000016" DECIMALS="000000" ENTITYTAB="FMFCTR" MASK="  CHARE" MASKLEN="0000" DDTEXT="Balance Funds Center" REPTEXT="Bal.FC" SCRTEXT_S="BalFndsCtr" SCRTEXT_M="Bal.funds cntr" SCRTEXT_L="Balance Funds Center" DOMNAME3L="FISTL" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="EFIPEX1" DDLANGUAGE="E" POSITION="0103" ROLLNAME="FM_SDFIPEX" ADMINFIELD="1" INTTYPE="C" INTLEN="000048" DOMNAME="FM_FIPEX" ROUTPUTLEN="000000" MEMORYID="FPS" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000024" OUTPUTLEN="000024" DECIMALS="000000" ENTITYTAB="FMCI" CONVEXIT="FMCIL" MASK="  CHARE" MASKLEN="0000" DDTEXT="Balance Cmmt Item" REPTEXT="Bal.CI" SCRTEXT_S="Bal.CI" SCRTEXT_M="Bal. cmmt item" SCRTEXT_L="Balance Cmmt Item" DOMMASTER="D" DOMNAME3L="FM_FIPEX" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="PROZ1" DDLANGUAGE="E" POSITION="0104" ROLLNAME="FM_SDPROZ" ADMINFIELD="1" INTTYPE="P" INTLEN="000003" DOMNAME="PRZ32" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="DEC" LENG="000005" OUTPUTLEN="000006" DECIMALS="000002" MASK="  DEC E" MASKLEN="0000" DDTEXT="Balance percentage rate" REPTEXT="Bal.PR" SCRTEXT_S="Bal.perc." SCRTEXT_M="Balance percent" SCRTEXT_L="Balance perc.rate" DOMNAME3L="PRZ32" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="EFIPEX2" DDLANGUAGE="E" POSITION="0105" ROLLNAME="FM_SDFIPX2" ADMINFIELD="1" INTTYPE="C" INTLEN="000048" DOMNAME="FM_FIPEX" ROUTPUTLEN="000000" MEMORYID="FPS" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000024" OUTPUTLEN="000024" DECIMALS="000000" ENTITYTAB="FMCI" CONVEXIT="FMCIL" MASK="  CHARE" MASKLEN="0000" DDTEXT="Balance commitment item plan year+1" REPTEXT="BalCI1" SCRTEXT_S="Bal.CI" SCRTEXT_M="Bal. cmmt item" SCRTEXT_L="Bal.cmmt item year+1" DOMMASTER="D" DOMNAME3L="FM_FIPEX" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="PROZ2" DDLANGUAGE="E" POSITION="0106" ROLLNAME="FM_SDPROZ2" ADMINFIELD="1" INTTYPE="P" INTLEN="000003" DOMNAME="PRZ32" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="DEC" LENG="000005" OUTPUTLEN="000006" DECIMALS="000002" MASK="  DEC E" MASKLEN="0000" DDTEXT="Balance percentage rate plan year+1" REPTEXT="BalPR1" SCRTEXT_S="Bal.perc." SCRTEXT_M="Balance percent" SCRTEXT_L="Bal.percent year+1" DOMNAME3L="PRZ32" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="EFIPEX3" DDLANGUAGE="E" POSITION="0107" ROLLNAME="FM_SDFIPX3" ADMINFIELD="1" INTTYPE="C" INTLEN="000048" DOMNAME="FM_FIPEX" ROUTPUTLEN="000000" MEMORYID="FPS" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000024" OUTPUTLEN="000024" DECIMALS="000000" ENTITYTAB="FMCI" CONVEXIT="FMCIL" MASK="  CHARE" MASKLEN="0000" DDTEXT="Balance commitment item plan year+2" REPTEXT="BalCI2" SCRTEXT_S="Bal.CI" SCRTEXT_M="Bal. cmmt item" SCRTEXT_L="Bal.cmmt item year+2" DOMMASTER="D" DOMNAME3L="FM_FIPEX" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="PROZ3" DDLANGUAGE="E" POSITION="0108" ROLLNAME="FM_SDPROZ3" ADMINFIELD="1" INTTYPE="P" INTLEN="000003" DOMNAME="PRZ32" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="DEC" LENG="000005" OUTPUTLEN="000006" DECIMALS="000002" MASK="  DEC E" MASKLEN="0000" DDTEXT="Balance percentage rate plan year+2" REPTEXT="BalPR2" SCRTEXT_S="Bal.perc." SCRTEXT_M="Balance percent" SCRTEXT_L="Bal.percent year+2" DOMNAME3L="PRZ32" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="EFIPEX4" DDLANGUAGE="E" POSITION="0109" ROLLNAME="FM_SDFIPX4" ADMINFIELD="1" INTTYPE="C" INTLEN="000048" DOMNAME="FM_FIPEX" ROUTPUTLEN="000000" MEMORYID="FPS" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000024" OUTPUTLEN="000024" DECIMALS="000000" ENTITYTAB="FMCI" CONVEXIT="FMCIL" MASK="  CHARE" MASKLEN="0000" DDTEXT="Balance commitment item plan year+3" REPTEXT="BalCI3" SCRTEXT_S="Bal.CI" SCRTEXT_M="Bal. cmmt item" SCRTEXT_L="Bal.cmmt item year+3" DOMMASTER="D" DOMNAME3L="FM_FIPEX" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="PROZ4" DDLANGUAGE="E" POSITION="0110" ROLLNAME="FM_SDPROZ4" ADMINFIELD="1" INTTYPE="P" INTLEN="000003" DOMNAME="PRZ32" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="DEC" LENG="000005" OUTPUTLEN="000006" DECIMALS="000002" MASK="  DEC E" MASKLEN="0000" DDTEXT="Balance percentage rate plan year+3" REPTEXT="BalPR3" SCRTEXT_S="Bal.perc." SCRTEXT_M="Balance percent" SCRTEXT_L="Bal.percent year+3" DOMNAME3L="PRZ32" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="EFIPEX5" DDLANGUAGE="E" POSITION="0111" ROLLNAME="FM_SDFIPX5" ADMINFIELD="1" INTTYPE="C" INTLEN="000048" DOMNAME="FM_FIPEX" ROUTPUTLEN="000000" MEMORYID="FPS" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000024" OUTPUTLEN="000024" DECIMALS="000000" ENTITYTAB="FMCI" CONVEXIT="FMCIL" MASK="  CHARE" MASKLEN="0000" DDTEXT="Balance commitment item plan year+4" REPTEXT="BalCI4" SCRTEXT_S="Bal.CI" SCRTEXT_M="Bal. cmmt item" SCRTEXT_L="Bal.cmmt item year+4" DOMMASTER="D" DOMNAME3L="FM_FIPEX" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_COMMITMENT_DATA" FIELDNAME="PROZ5" DDLANGUAGE="E" POSITION="0112" ROLLNAME="FM_SDPROZ5" ADMINFIELD="1" INTTYPE="P" INTLEN="000003" DOMNAME="PRZ32" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="DEC" LENG="000005" OUTPUTLEN="000006" DECIMALS="000002" MASK="  DEC E" MASKLEN="0000" DDTEXT="Balance percentage rate plan year+4" REPTEXT="BalPR4" SCRTEXT_S="Bal.perc." SCRTEXT_M="Balance percent" SCRTEXT_L="Bal.percent year+4" DOMNAME3L="PRZ32" DEPTH="01" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
 </TABL>
 <TABL TABNAME="ZBAPI_S_CCODE_DATA" DDLANGUAGE="E" TABCLASS="INTTAB" DATMIN="0000000000" DATMAX="0000000000" DATAVG="0000000000" DDTEXT="G/L Account Master Record: Company Code - Data" AUTHCLASS="00" PROZPUFF="000" EXCLASS="3">
  <dd09l AS4VERS="0000" SCHFELDANZ="000"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="WAERS" DDLANGUAGE="E" POSITION="0001" ROLLNAME="WAERS_SKB1" ADMINFIELD="0" INTTYPE="C" INTLEN="000010" DOMNAME="WAERS" ROUTPUTLEN="000000" MEMORYID="FWS" LOGFLAG="X" HEADLEN="05" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CUKY" LENG="000005" OUTPUTLEN="000005" DECIMALS="000000" ENTITYTAB="TCURC" MASK="  CUKYE" MASKLEN="0000" DDTEXT="Account currency" REPTEXT="Curr." SCRTEXT_S="Acct curr." SCRTEXT_M="Acct currency" SCRTEXT_L="Account currency" DOMNAME3L="WAERS" DEPTH="00" COMPTYPE="E" DEFFDNAME="ACCT_CURR" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="XSALH" DDLANGUAGE="E" POSITION="0002" ROLLNAME="XSALH" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="14" SCRLEN1="10" SCRLEN2="15" SCRLEN3="28" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Indicator: Manage Balances in Local Currency Only" REPTEXT="Balances in LC" SCRTEXT_S="LC Bal." SCRTEXT_M="Balances in LC" SCRTEXT_L="Balances in Local Crcy Only" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="KDFSL" DDLANGUAGE="E" POSITION="0003" ROLLNAME="KDFSL" ADMINFIELD="0" INTTYPE="C" INTLEN="000008" DOMNAME="KDFSL" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="15" SCRLEN1="10" SCRLEN2="15" SCRLEN3="28" DTELMASTER="D" DATATYPE="CHAR" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" ENTITYTAB="T030S" MASK="  CHARE" MASKLEN="0000" DDTEXT="Key for Exchange Rate Differences in Foreign Currency Accts" REPTEXT="E/R diff. key" SCRTEXT_S="E/R difKey" SCRTEXT_M="E/R diff. key" SCRTEXT_L="Exchange rate difference key" DOMNAME3L="KDFSL" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="BEWGP" DDLANGUAGE="E" POSITION="0004" ROLLNAME="BEWGP" ADMINFIELD="0" INTTYPE="C" INTLEN="000020" DOMNAME="CHAR10" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="16" SCRLEN1="00" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000010" OUTPUTLEN="000010" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="Valuation Group" REPTEXT="Valuation group" SCRTEXT_M="Valuation grp" SCRTEXT_L="Valuation group" DOMNAME3L="CHAR10" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="MWSKZ" DDLANGUAGE="E" POSITION="0005" ROLLNAME="SMWSK" ADMINFIELD="0" INTTYPE="C" INTLEN="000004" DOMNAME="SMWSK" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="02" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DATATYPE="CHAR" LENG="000002" OUTPUTLEN="000002" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="Tax Category in Account Master Record" REPTEXT="Tx" SCRTEXT_S="Tax cat." SCRTEXT_M="Tax category" SCRTEXT_L="Tax category" DOMNAME3L="SMWSK" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="XMWNO" DDLANGUAGE="E" POSITION="0006" ROLLNAME="XMWNO" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="00" SCRLEN1="10" SCRLEN2="20" SCRLEN3="28" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Indicator: Tax code is not a required field" SCRTEXT_S="W/o tax" SCRTEXT_M="Pstg w/o tax allowed" SCRTEXT_L="Posting without tax allowed" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="MITKZ" DDLANGUAGE="E" POSITION="0007" ROLLNAME="MITKZ" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="MITKZ" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="14" SCRLEN1="10" SCRLEN2="15" SCRLEN3="28" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Account is reconciliation account" REPTEXT="Reconcil. Acct" SCRTEXT_S="Recon.ID" SCRTEXT_M="Reconcil.ID" SCRTEXT_L="Recon. account for acct type" DOMNAME3L="MITKZ" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="ALTKT" DDLANGUAGE="E" POSITION="0008" ROLLNAME="ALTKT_SKB1" ADMINFIELD="0" INTTYPE="C" INTLEN="000020" DOMNAME="SAKNR" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="10" SCRLEN1="10" SCRLEN2="15" SCRLEN3="25" DATATYPE="CHAR" LENG="000010" OUTPUTLEN="000010" DECIMALS="000000" ENTITYTAB="SKA1" CONVEXIT="ALPHA" MASK="  CHARE" MASKLEN="0000" DDTEXT="Alternative Account Number in Company Code" REPTEXT="Alt. Acct" SCRTEXT_S="Alt. Acct" SCRTEXT_M="Altern. Account" SCRTEXT_L="Alternative Account No." DOMNAME3L="SAKNR" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="WMETH" DDLANGUAGE="E" POSITION="0009" ROLLNAME="WMETH" ADMINFIELD="0" INTTYPE="C" INTLEN="000004" DOMNAME="WMETH" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="28" SCRLEN1="10" SCRLEN2="15" SCRLEN3="28" DTELMASTER="D" DATATYPE="CHAR" LENG="000002" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Indicator: Account Managed in External System" REPTEXT="Acct Managed in Ext. System" SCRTEXT_S="Ext.Acct" SCRTEXT_M="Account Extern." SCRTEXT_L="Acct Managed in Ext. System" DOMMASTER="D" DOMNAME3L="WMETH" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="INFKY" DDLANGUAGE="E" POSITION="0010" ROLLNAME="J_1AIFSKS" ADMINFIELD="0" INTTYPE="C" INTLEN="000016" DOMNAME="J_1AIFSKS" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="10" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000008" OUTPUTLEN="000008" DECIMALS="000000" ENTITYTAB="J_1AINFSKS" MASK="  CHARE" MASKLEN="0000" DDTEXT="Inflation Key" REPTEXT="Infl. key" SCRTEXT_S="Infl. key" SCRTEXT_M="Inflation key" SCRTEXT_L="Inflation key" DOMNAME3L="J_1AIFSKS" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="TOGRU" DDLANGUAGE="E" POSITION="0011" ROLLNAME="TOGRU_S" ADMINFIELD="0" INTTYPE="C" INTLEN="000008" DOMNAME="TOGRU" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="20" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" ENTITYTAB="T043G" MASK="  CHARE" MASKLEN="0000" DDTEXT="Tolerance Group for G/L Accounts" REPTEXT="Tolerance group" SCRTEXT_S="Tol.group" SCRTEXT_M="Tolerance group" SCRTEXT_L="Tolerance group" DOMNAME3L="TOGRU" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="XOPVW" DDLANGUAGE="E" POSITION="0012" ROLLNAME="XOPVW" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="13" SCRLEN1="10" SCRLEN2="15" SCRLEN3="28" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Indicator: Open Item Management?" REPTEXT="OI Management" SCRTEXT_S="OI Mgmt" SCRTEXT_M="OI Management" SCRTEXT_L="Open Item Management" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="XKRES" DDLANGUAGE="E" POSITION="0013" ROLLNAME="XKRES" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="27" SCRLEN1="00" SCRLEN2="15" SCRLEN3="28" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Indicator: Can Line Items Be Displayed by Account?" REPTEXT="Line Item Display Possible" SCRTEXT_M="Line Items" SCRTEXT_L="Line Item Display" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="ZUAWA" DDLANGUAGE="E" POSITION="0014" ROLLNAME="DZUAWA" ADMINFIELD="0" INTTYPE="C" INTLEN="000006" DOMNAME="ZUAWA" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="05" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000003" OUTPUTLEN="000003" DECIMALS="000000" ENTITYTAB="TZUN" MASK="  CHARE" MASKLEN="0000" DDTEXT="Key for sorting according to assignment numbers" REPTEXT="Sort" SCRTEXT_S="Sort key" SCRTEXT_M="Sort key" SCRTEXT_L="Sort key" DOMNAME3L="ZUAWA" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="BEGRU" DDLANGUAGE="E" POSITION="0015" ROLLNAME="BRGRU" ADMINFIELD="0" INTTYPE="C" INTLEN="000008" DOMNAME="BRGRU" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="04" SCRLEN1="10" SCRLEN2="15" SCRLEN3="21" DTELMASTER="D" DATATYPE="CHAR" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" ENTITYTAB="TBRG" MASK="  CHARE" MASKLEN="0000" DDTEXT="Authorization Group" REPTEXT="AuGr" SCRTEXT_S="Authoriz." SCRTEXT_M="Authorization" SCRTEXT_L="Authorization Group" DOMNAME3L="BRGRU" DEPTH="00" COMPTYPE="E" DEFFDNAME="AUTH_GROUP" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="BUSAB" DDLANGUAGE="E" POSITION="0016" ROLLNAME="BUSAB" ADMINFIELD="0" INTTYPE="C" INTLEN="000004" DOMNAME="BUSAB" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="15" SCRLEN1="06" SCRLEN2="15" SCRLEN3="28" DTELMASTER="D" DATATYPE="CHAR" LENG="000002" OUTPUTLEN="000002" DECIMALS="000000" ENTITYTAB="T001S" MASK="  CHARE" MASKLEN="0000" DDTEXT="Accounting Clerk Abbreviation" REPTEXT="Clerk Abbrev." SCRTEXT_S="Clerk" SCRTEXT_M="Clerk Abbrev." SCRTEXT_L="Clerk Abbreviation" DOMNAME3L="BUSAB" DEPTH="00" COMPTYPE="E" DEFFDNAME="CLERK" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="FSTAG" DDLANGUAGE="E" POSITION="0017" ROLLNAME="FSTAG" ADMINFIELD="0" INTTYPE="C" INTLEN="000008" DOMNAME="FSTAG" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="10" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" ENTITYTAB="T004F" MASK="  CHARE" MASKLEN="0000" DDTEXT="Field status group" REPTEXT="FStGroup" SCRTEXT_S="Fld stat." SCRTEXT_M="Field status gp" SCRTEXT_L="Field status group" DOMNAME3L="FSTAG" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="XINTB" DDLANGUAGE="E" POSITION="0018" ROLLNAME="XINTB" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="14" SCRLEN1="00" SCRLEN2="15" SCRLEN3="28" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Indicator: Is account only posted to automatically?" REPTEXT="Post Automat." SCRTEXT_M="Auto. Posting" SCRTEXT_L="Post Automatically Only" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="XNKON" DDLANGUAGE="E" POSITION="0019" ROLLNAME="XNKON" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="28" SCRLEN1="10" SCRLEN2="15" SCRLEN3="28" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Indicator: Supplement for automatic postings ?" REPTEXT="Supplement auto. postings" SCRTEXT_S="Supplement" SCRTEXT_M="Supplement" SCRTEXT_L="Supplement auto. postings" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="XMITK" DDLANGUAGE="E" POSITION="0020" ROLLNAME="XMITK" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="28" SCRLEN1="10" SCRLEN2="15" SCRLEN3="28" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Indicator: Reconcil.acct ready for input at time of posting?" REPTEXT="Recon. acct ready for input" SCRTEXT_S="Re.act rdy" SCRTEXT_M="Rec.act ready" SCRTEXT_L="Recon. acct ready for input" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="FDLEV" DDLANGUAGE="E" POSITION="0021" ROLLNAME="FDLEV" ADMINFIELD="0" INTTYPE="C" INTLEN="000004" DOMNAME="FDLEV" ROUTPUTLEN="000000" MEMORYID="FFE" LOGFLAG="X" HEADLEN="05" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000002" OUTPUTLEN="000002" DECIMALS="000000" ENTITYTAB="T036" MASK="  CHARE" MASKLEN="0000" DDTEXT="Planning Level" REPTEXT="Level" SCRTEXT_S="Plan. Lvl" SCRTEXT_M="Planning Level" SCRTEXT_L="Planning Level" DOMNAME3L="FDLEV" DEPTH="00" COMPTYPE="E" DEFFDNAME="PLANNING_LEVEL" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="XGKON" DDLANGUAGE="E" POSITION="0022" ROLLNAME="XGKON" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="01" SCRLEN1="10" SCRLEN2="15" SCRLEN3="28" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Cash receipt account / cash disbursement account" REPTEXT="C" SCRTEXT_S="Cash flow" SCRTEXT_M="Rel.cash flow" SCRTEXT_L="Relevant to cash flow" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="FIPOS" DDLANGUAGE="E" POSITION="0023" ROLLNAME="FIPOS" ADMINFIELD="0" INTTYPE="C" INTLEN="000028" DOMNAME="FIPOS" ROUTPUTLEN="000000" MEMORYID="FIP" LOGFLAG="X" HEADLEN="14" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000014" OUTPUTLEN="000024" DECIMALS="000000" ENTITYTAB="FMFXPO" CONVEXIT="FMCIS" MASK="  CHARE" MASKLEN="0000" DDTEXT="Commitment Item" REPTEXT="Commitment itm" SCRTEXT_S="Cmmt item" SCRTEXT_M="Commitment item" SCRTEXT_L="Commitment item" DOMNAME3L="FIPOS" DEPTH="00" COMPTYPE="E" DEFFDNAME="CMMT_ITEM" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="HBKID" DDLANGUAGE="E" POSITION="0024" ROLLNAME="HBKID" ADMINFIELD="0" INTTYPE="C" INTLEN="000010" DOMNAME="HBKID" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="08" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000005" OUTPUTLEN="000005" DECIMALS="000000" ENTITYTAB="T012" MASK="  CHARE" MASKLEN="0000" DDTEXT="Short key for a house bank" REPTEXT="House bk" SCRTEXT_S="House bank" SCRTEXT_M="House bank" SCRTEXT_L="House bank" DOMNAME3L="HBKID" DEPTH="00" COMPTYPE="E" DEFFDNAME="HOUSEBANKID" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="HKTID" DDLANGUAGE="E" POSITION="0025" ROLLNAME="HKTID" ADMINFIELD="0" INTTYPE="C" INTLEN="000010" DOMNAME="HKTID" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="09" SCRLEN1="10" SCRLEN2="15" SCRLEN3="25" DTELMASTER="D" DATATYPE="CHAR" LENG="000005" OUTPUTLEN="000005" DECIMALS="000000" ENTITYTAB="T012K" MASK="  CHARE" MASKLEN="0000" DDTEXT="ID for account details" REPTEXT="Acct ID" SCRTEXT_S="Acct ID" SCRTEXT_M="Account ID" SCRTEXT_L="Account ID" DOMNAME3L="HKTID" DEPTH="00" COMPTYPE="E" DEFFDNAME="HOUSEBANKACCTID" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="VZSKZ" DDLANGUAGE="E" POSITION="0026" ROLLNAME="VZSKZ" ADMINFIELD="0" INTTYPE="C" INTLEN="000004" DOMNAME="VZSKZ" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="10" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000002" OUTPUTLEN="000002" DECIMALS="000000" ENTITYTAB="T056" MASK="  CHARE" MASKLEN="0000" DDTEXT="Interest calculation indicator" REPTEXT="Int ID" SCRTEXT_S="Int ID" SCRTEXT_M="Interest indic." SCRTEXT_L="Interest indicator" DOMNAME3L="VZSKZ" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="ZINDT" DDLANGUAGE="E" POSITION="0027" ROLLNAME="DZINDT" ADMINFIELD="0" INTTYPE="D" INTLEN="000016" DOMNAME="DATUM" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="21" SCRLEN1="10" SCRLEN2="15" SCRLEN3="28" DTELMASTER="D" DATATYPE="DATS" LENG="000008" OUTPUTLEN="000010" DECIMALS="000000" MASK="  DATSE" MASKLEN="0000" DDTEXT="Key Date of Last Interest Calculation" REPTEXT="Key Date Lst Int.Calc" SCRTEXT_S="Lst Key Dt" SCRTEXT_M="Last Key Date" SCRTEXT_L="Key Date of Last Int. Calc." DOMNAME3L="DATUM" SHLPORIGIN="T" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="ZINRT" DDLANGUAGE="E" POSITION="0028" ROLLNAME="DZINRT" ADMINFIELD="0" INTTYPE="N" INTLEN="000004" DOMNAME="ZINRT" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="24" SCRLEN1="10" SCRLEN2="15" SCRLEN3="25" DTELMASTER="D" DATATYPE="NUMC" LENG="000002" OUTPUTLEN="000002" DECIMALS="000000" VALEXI="X" MASK="  NUMCE" MASKLEN="0000" DDTEXT="Interest Calculation Frequency in Months" REPTEXT="Interest Calc. Frequency" SCRTEXT_S="Int.Cal.Fr" SCRTEXT_M="Int.Calc.Freq." SCRTEXT_L="Interest Calc. Frequency" DOMMASTER="D" DOMNAME3L="ZINRT" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="DATLZ" DDLANGUAGE="E" POSITION="0029" ROLLNAME="DATLZ" ADMINFIELD="0" INTTYPE="D" INTLEN="000016" DOMNAME="DATUM" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="10" SCRLEN1="10" SCRLEN2="15" SCRLEN3="28" DTELMASTER="D" DATATYPE="DATS" LENG="000008" OUTPUTLEN="000010" DECIMALS="000000" MASK="  DATSE" MASKLEN="0000" DDTEXT="Date of the last interest calculation run" REPTEXT="Lst int.rn" SCRTEXT_S="Lst int.rn" SCRTEXT_M="Last int.calc." SCRTEXT_L="Date of last interest run" DOMNAME3L="DATUM" SHLPORIGIN="T" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="RECID" DDLANGUAGE="E" POSITION="0030" ROLLNAME="JV_RECIND" ADMINFIELD="0" INTTYPE="C" INTLEN="000004" DOMNAME="JV_RECIND" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="02" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000002" OUTPUTLEN="000002" DECIMALS="000000" ENTITYTAB="T8JJ" CONVEXIT="ALPHA" MASK="  CHARE" MASKLEN="0000" DDTEXT="Recovery Indicator" REPTEXT="RI" SCRTEXT_S="Rec.Indic." SCRTEXT_M="Recovery Indic." SCRTEXT_L="Recovery Indicator" DOMNAME3L="JV_RECIND" DEPTH="00" COMPTYPE="E" DEFFDNAME="REC_IND" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="XSPEB" DDLANGUAGE="E" POSITION="0031" ROLLNAME="XSPEB" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="13" SCRLEN1="10" SCRLEN2="15" SCRLEN3="25" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Indicator: Is account blocked for posting?" REPTEXT="Posting Block" SCRTEXT_S="Pstg Block" SCRTEXT_M="Posting Block" SCRTEXT_L="Blocked for Posting" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="XLOEB" DDLANGUAGE="E" POSITION="0032" ROLLNAME="XLOEV" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="05" SCRLEN1="00" SCRLEN2="20" SCRLEN3="25" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Indicator: Account marked for deletion?" REPTEXT="DelFl" SCRTEXT_M="Deletion Flag" SCRTEXT_L="Mark for Deletion" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="XLGCLR" DDLANGUAGE="E" POSITION="0033" ROLLNAME="XLGCLR" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="40" SCRLEN1="10" SCRLEN2="20" SCRLEN3="30" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Clearing Specific to Ledger Groups" REPTEXT="Clearing Specific to Ledger Groups" SCRTEXT_S="LG-SpecClg" SCRTEXT_M="LdgrGrp-SpecClearing" SCRTEXT_L="Ledger Group-Specific Clearing" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="MCAKEY" DDLANGUAGE="E" POSITION="0034" ROLLNAME="GLE_DTE_MCA_MCAKEY" ADMINFIELD="0" INTTYPE="C" INTLEN="000010" DOMNAME="GLE_MCA_MCAKEY" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="18" SCRLEN1="10" SCRLEN2="18" SCRLEN3="20" DTELMASTER="E" DATATYPE="CHAR" LENG="000005" OUTPUTLEN="000005" DECIMALS="000000" ENTITYTAB="GLE_MCA_TMCAKEY" MASK="  CHARE" MASKLEN="0000" DDTEXT="MCA Key" REPTEXT="MCA Key" SCRTEXT_S="MCA  Key" SCRTEXT_M="MCA Key" SCRTEXT_L="MCA Key" DOMNAME3L="GLE_MCA_MCAKEY" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_CCODE_DATA" FIELDNAME="ZZ_PLAN_RELV" DDLANGUAGE="E" POSITION="0035" ROLLNAME="ZFI_PLAN_RELV" ADMINFIELD="0" INTTYPE="N" INTLEN="000004" DOMNAME="NUMC2" ROUTPUTLEN="000000" HEADLEN="25" SCRLEN1="10" SCRLEN2="18" SCRLEN3="23" DTELMASTER="E" DATATYPE="NUMC" LENG="000002" OUTPUTLEN="000002" DECIMALS="000000" MASK="  NUMCE" MASKLEN="0000" DDTEXT="Planning Relevance Code" REPTEXT="Planning Relevance Code" SCRTEXT_S="Plan Rel" SCRTEXT_M="Planning Relevance" SCRTEXT_L="Planning Relevance Code" DOMNAME3L="NUMC2" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
 </TABL>
 <TABL TABNAME="ZFI_S_GLMAST_APPRV_CHKLIST" DDLANGUAGE="E" TABCLASS="INTTAB" DATMIN="0000000000" DATMAX="0000000000" DATAVG="0000000000" DDTEXT="Approval Checklist Checkboxes used in the ISR Form" AUTHCLASS="00" PROZPUFF="000" EXCLASS="3">
  <dd09l AS4VERS="0000" SCHFELDANZ="000"/>
  <dd03p TABNAME="ZFI_S_GLMAST_APPRV_CHKLIST" FIELDNAME="CBOX1" DDLANGUAGE="E" POSITION="0001" ROLLNAME="XFELD" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Checkbox" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_GLMAST_APPRV_CHKLIST" FIELDNAME="CBOX2" DDLANGUAGE="E" POSITION="0002" ROLLNAME="XFELD" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Checkbox" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_GLMAST_APPRV_CHKLIST" FIELDNAME="CBOX3" DDLANGUAGE="E" POSITION="0003" ROLLNAME="XFELD" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Checkbox" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_GLMAST_APPRV_CHKLIST" FIELDNAME="CBOX4" DDLANGUAGE="E" POSITION="0004" ROLLNAME="XFELD" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Checkbox" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZFI_S_GLMAST_APPRV_CHKLIST" FIELDNAME="CBOX5" DDLANGUAGE="E" POSITION="0005" ROLLNAME="XFELD" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="00" SCRLEN1="00" SCRLEN2="00" SCRLEN3="00" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Checkbox" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
 </TABL>
 <TABL TABNAME="ZBAPI_S_COA_DATA" DDLANGUAGE="E" TABCLASS="INTTAB" DATMIN="0000000000" DATMAX="0000000000" DATAVG="0000000000" DDTEXT="G/L Account Master Record: Chart of Accounts - Data" AUTHCLASS="00" MASTERLANG="D" PROZPUFF="000" EXCLASS="2">
  <dd09l AS4VERS="0000" SCHFELDANZ="000"/>
  <dd03p TABNAME="ZBAPI_S_COA_DATA" FIELDNAME="KTOKS" DDLANGUAGE="E" POSITION="0001" ROLLNAME="KTOKS" ADMINFIELD="0" INTTYPE="C" INTLEN="000008" DOMNAME="KTOKS" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="04" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000004" OUTPUTLEN="000004" DECIMALS="000000" ENTITYTAB="T077S" MASK="  CHARE" MASKLEN="0000" DDTEXT="G/L Account Group" REPTEXT="AcGp" SCRTEXT_S="Acct Group" SCRTEXT_M="Account Group" SCRTEXT_L="Account Group" DOMNAME3L="KTOKS" DEPTH="00" COMPTYPE="E" DEFFDNAME="ACCT_GROUP" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_COA_DATA" FIELDNAME="XBILK" DDLANGUAGE="E" POSITION="0002" ROLLNAME="XBILK" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="08" SCRLEN1="10" SCRLEN2="20" SCRLEN3="25" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Indicator: Account is a balance sheet account?" REPTEXT="B/S acct" SCRTEXT_S="B/S acct" SCRTEXT_M="Balance sheet acct" SCRTEXT_L="Balance sheet account" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_COA_DATA" FIELDNAME="GVTYP" DDLANGUAGE="E" POSITION="0003" ROLLNAME="GVTYP" ADMINFIELD="0" INTTYPE="C" INTLEN="000004" DOMNAME="CHAR2" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="02" SCRLEN1="10" SCRLEN2="15" SCRLEN3="25" DTELMASTER="D" DATATYPE="CHAR" LENG="000002" OUTPUTLEN="000002" DECIMALS="000000" MASK="  CHARE" MASKLEN="0000" DDTEXT="P&amp;L statement account type" REPTEXT="AT" SCRTEXT_S="P&amp;L acct" SCRTEXT_M="P&amp;L state. acct" SCRTEXT_L="P&amp;L statmt acct type" DOMNAME3L="CHAR2" DEPTH="00" COMPTYPE="E" DEFFDNAME="INC_ST_ACT" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_COA_DATA" FIELDNAME="FUNC_AREA" DDLANGUAGE="E" POSITION="0004" ROLLNAME="FKBER" ADMINFIELD="0" INTTYPE="C" INTLEN="000032" DOMNAME="FKBER" ROUTPUTLEN="000000" MEMORYID="FBE" LOGFLAG="X" HEADLEN="16" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000016" OUTPUTLEN="000016" DECIMALS="000000" ENTITYTAB="TFKB" MASK="  CHARE" MASKLEN="0000" DDTEXT="Functional Area" REPTEXT="Functional Area" SCRTEXT_S="Func. Area" SCRTEXT_M="Functional Area" SCRTEXT_L="Functional Area" DOMMASTER="D" DOMNAME3L="FKBER" DEPTH="00" COMPTYPE="E" DEFFDNAME="FUNC_AREA" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_COA_DATA" FIELDNAME="MUSTR" DDLANGUAGE="E" POSITION="0005" ROLLNAME="MUSTR" ADMINFIELD="0" INTTYPE="C" INTLEN="000020" DOMNAME="MUSTR" ROUTPUTLEN="000000" MEMORYID="MST" LOGFLAG="X" HEADLEN="10" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000010" OUTPUTLEN="000010" DECIMALS="000000" ENTITYTAB="SKM1" CONVEXIT="ALPHA" MASK="  CHARE" MASKLEN="0000" DDTEXT="Number of the sample account" REPTEXT="Samp. acct" SCRTEXT_S="Samp. acct" SCRTEXT_M="Sample account" SCRTEXT_L="Sample account" DOMNAME3L="MUSTR" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_COA_DATA" FIELDNAME="VBUND" DDLANGUAGE="E" POSITION="0006" ROLLNAME="RASSC" ADMINFIELD="0" INTTYPE="C" INTLEN="000012" DOMNAME="RCOMP" ROUTPUTLEN="000000" MEMORYID="PGS" LOGFLAG="X" HEADLEN="06" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="D" DATATYPE="CHAR" LENG="000006" OUTPUTLEN="000006" DECIMALS="000000" ENTITYTAB="T880" CONVEXIT="ALPHA" MASK="  CHARE" MASKLEN="0000" DDTEXT="Company ID of trading partner" REPTEXT="Tr.prt" SCRTEXT_S="Tradg part" SCRTEXT_M="Trading partner" SCRTEXT_L="Trading partner" DOMNAME3L="RCOMP" DEPTH="00" COMPTYPE="E" DEFFDNAME="TRADE_ID" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_COA_DATA" FIELDNAME="BILKT" DDLANGUAGE="E" POSITION="0007" ROLLNAME="BILKT" ADMINFIELD="0" INTTYPE="C" INTLEN="000020" DOMNAME="SAKNR" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="10" SCRLEN1="10" SCRLEN2="20" SCRLEN3="25" DTELMASTER="D" DATATYPE="CHAR" LENG="000010" OUTPUTLEN="000010" DECIMALS="000000" ENTITYTAB="SKA1" CONVEXIT="ALPHA" MASK="  CHARE" MASKLEN="0000" DDTEXT="Group Account Number" REPTEXT="Group acct" SCRTEXT_S="Group acct" SCRTEXT_M="Group account number" SCRTEXT_L="Group account number" DOMNAME3L="SAKNR" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_COA_DATA" FIELDNAME="XLOEV" DDLANGUAGE="E" POSITION="0008" ROLLNAME="XLOEV" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="05" SCRLEN1="00" SCRLEN2="20" SCRLEN3="25" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Indicator: Account marked for deletion?" REPTEXT="DelFl" SCRTEXT_M="Deletion Flag" SCRTEXT_L="Mark for Deletion" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_COA_DATA" FIELDNAME="XSPEA" DDLANGUAGE="E" POSITION="0009" ROLLNAME="XSPEA" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="15" SCRLEN1="10" SCRLEN2="15" SCRLEN3="25" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Indicator: account is blocked for creation ?" REPTEXT="Creation block" SCRTEXT_S="Crtn.block" SCRTEXT_M="Creation block" SCRTEXT_L="Blocked for creation" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_COA_DATA" FIELDNAME="XSPEB" DDLANGUAGE="E" POSITION="0010" ROLLNAME="XSPEB" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="13" SCRLEN1="10" SCRLEN2="15" SCRLEN3="25" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Indicator: Is account blocked for posting?" REPTEXT="Posting Block" SCRTEXT_S="Pstg Block" SCRTEXT_M="Posting Block" SCRTEXT_L="Blocked for Posting" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_COA_DATA" FIELDNAME="XSPEP" DDLANGUAGE="E" POSITION="0011" ROLLNAME="XSPEP" ADMINFIELD="0" INTTYPE="C" INTLEN="000002" DOMNAME="XFELD" ROUTPUTLEN="000000" LOGFLAG="X" HEADLEN="14" SCRLEN1="10" SCRLEN2="15" SCRLEN3="25" DTELMASTER="D" DATATYPE="CHAR" LENG="000001" OUTPUTLEN="000001" DECIMALS="000000" VALEXI="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Indicator: account blocked for planning ?" REPTEXT="Planning Block" SCRTEXT_S="Plan.block" SCRTEXT_M="Planning block" SCRTEXT_L="Blocked for planning" DOMNAME3L="XFELD" SHLPORIGIN="F" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_COA_DATA" FIELDNAME="ZZ_TOES_ACCT" DDLANGUAGE="E" POSITION="0012" ROLLNAME="ZFI_TOES_ACCT" ADMINFIELD="0" INTTYPE="C" INTLEN="000024" DOMNAME="TEXT12" ROUTPUTLEN="000000" HEADLEN="17" SCRLEN1="10" SCRLEN2="17" SCRLEN3="20" DTELMASTER="E" DATATYPE="CHAR" LENG="000012" OUTPUTLEN="000012" DECIMALS="000000" LOWERCASE="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="TOES Account Code" REPTEXT="TOES Account Code" SCRTEXT_S="TOES Acct" SCRTEXT_M="TOES Account" SCRTEXT_L="TOES Account Code" DOMNAME3L="TEXT12" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_COA_DATA" FIELDNAME="ZZ_FINSTAT_CODE" DDLANGUAGE="E" POSITION="0013" ROLLNAME="ZFI_FINSTAT_CODE" ADMINFIELD="0" INTTYPE="C" INTLEN="000030" DOMNAME="TEXT15" ROUTPUTLEN="000000" HEADLEN="29" SCRLEN1="10" SCRLEN2="20" SCRLEN3="29" DTELMASTER="E" DATATYPE="CHAR" LENG="000015" OUTPUTLEN="000015" DECIMALS="000000" LOWERCASE="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Financial Statement Item Code" REPTEXT="Financial Statement Item Code" SCRTEXT_S="Finstat" SCRTEXT_M="Financial Statement" SCRTEXT_L="Financial Statement Item Code" DOMNAME3L="TEXT15" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_COA_DATA" FIELDNAME="ZZ_FINSTAT_NOTE" DDLANGUAGE="E" POSITION="0014" ROLLNAME="ZFI_FINSTAT_NOTE" ADMINFIELD="0" INTTYPE="C" INTLEN="000014" DOMNAME="TEXT7" ROUTPUTLEN="000000" HEADLEN="24" SCRLEN1="10" SCRLEN2="20" SCRLEN3="25" DTELMASTER="E" DATATYPE="CHAR" LENG="000007" OUTPUTLEN="000007" DECIMALS="000000" LOWERCASE="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Financial Statement Note" REPTEXT="Financial Statement Note" SCRTEXT_S="FStmt Note" SCRTEXT_M="Financial Stmt Notes" SCRTEXT_L="Financial Statement Notes" DOMNAME3L="TEXT7" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_COA_DATA" FIELDNAME="ZZ_CF_CLASSF" DDLANGUAGE="E" POSITION="0015" ROLLNAME="ZFI_CF_CLASSF" ADMINFIELD="0" INTTYPE="C" INTLEN="000030" DOMNAME="TEXT15" ROUTPUTLEN="000000" HEADLEN="28" SCRLEN1="10" SCRLEN2="15" SCRLEN3="28" DTELMASTER="E" DATATYPE="CHAR" LENG="000015" OUTPUTLEN="000015" DECIMALS="000000" LOWERCASE="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="Cashflow Classification Code" REPTEXT="Cashflow Classification Code" SCRTEXT_S="CF Classf." SCRTEXT_M="FS Cash Flow" SCRTEXT_L="Cashflow Classification Code" DOMNAME3L="TEXT15" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_COA_DATA" FIELDNAME="ZZ_FS_DSCLSR" DDLANGUAGE="E" POSITION="0016" ROLLNAME="ZFI_FS_DSCLSR" ADMINFIELD="0" INTTYPE="C" INTLEN="000030" DOMNAME="TEXT15" ROUTPUTLEN="000000" HEADLEN="19" SCRLEN1="10" SCRLEN2="19" SCRLEN3="20" DTELMASTER="E" DATATYPE="CHAR" LENG="000015" OUTPUTLEN="000015" DECIMALS="000000" LOWERCASE="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="NCVER FS Disclosure" REPTEXT="NCVER FS Disclosure" SCRTEXT_S="FS Disclsr" SCRTEXT_M="NCVER FS Disclosure" SCRTEXT_L="NCVER FS Disclosure" DOMNAME3L="TEXT15" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_COA_DATA" FIELDNAME="ZZ_ACTVT_CODE" DDLANGUAGE="E" POSITION="0017" ROLLNAME="ZFI_ACTVT_CODE" ADMINFIELD="0" INTTYPE="C" INTLEN="000020" DOMNAME="TEXT10" ROUTPUTLEN="000000" HEADLEN="19" SCRLEN1="10" SCRLEN2="19" SCRLEN3="20" DTELMASTER="E" DATATYPE="CHAR" LENG="000010" OUTPUTLEN="000010" DECIMALS="000000" LOWERCASE="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="NCVER Activity Code" REPTEXT="NCVER Activity Code" SCRTEXT_S="Actvt Code" SCRTEXT_M="NCVER Activity" SCRTEXT_L="NCVER Activity Code" DOMNAME3L="TEXT10" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
  <dd03p TABNAME="ZBAPI_S_COA_DATA" FIELDNAME="ZZ_CFLO_CODE" DDLANGUAGE="E" POSITION="0018" ROLLNAME="ZFI_CFLO_CODE" ADMINFIELD="0" INTTYPE="C" INTLEN="000020" DOMNAME="TEXT10" ROUTPUTLEN="000000" HEADLEN="15" SCRLEN1="10" SCRLEN2="15" SCRLEN3="20" DTELMASTER="E" DATATYPE="CHAR" LENG="000010" OUTPUTLEN="000010" DECIMALS="000000" LOWERCASE="X" MASK="  CHARE" MASKLEN="0000" DDTEXT="NCVER CFLO Code" REPTEXT="NCVER CFLO Code" SCRTEXT_S="NCVER CFLO" SCRTEXT_M="NCVER CFLO" SCRTEXT_L="NCVER CFLO Code" DOMNAME3L="TEXT10" DEPTH="00" COMPTYPE="E" EXCLASS="0" DBPOSITION="0000" OUTPUTSTYLE="00" STRORLOCPOS="00"/>
 </TABL>
</nugget>
